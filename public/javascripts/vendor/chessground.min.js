(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Chessground = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.render = exports.anim = void 0;
const util = require("./util");
function anim(mutation, state) {
    return state.animation.enabled ? animate(mutation, state) : render(mutation, state);
}
exports.anim = anim;
function render(mutation, state) {
    const result = mutation(state);
    state.dom.redraw();
    return result;
}
exports.render = render;
function makePiece(key, piece) {
    return {
        key: key,
        pos: util.key2pos(key),
        piece: piece,
    };
}
function closer(piece, pieces) {
    return pieces.sort((player1, player2) => {
        return util.distanceSq(piece.pos, player1.pos) - util.distanceSq(piece.pos, player2.pos);
    })[0];
}
function computePlan(prevPieces, current) {
    const anims = new Map(), animedOrigs = [], fadings = new Map(), missings = [], news = [], prePieces = new Map();
    let curP, preP, vector;
    for (const [k, p] of prevPieces) {
        prePieces.set(k, makePiece(k, p));
    }
    for (const key of util.allKeys(current.dimensions)) {
        curP = current.pieces.get(key);
        preP = prePieces.get(key);
        if (curP) {
            if (preP) {
                if (!util.samePiece(curP, preP.piece)) {
                    missings.push(preP);
                    news.push(makePiece(key, curP));
                }
            }
            else
                news.push(makePiece(key, curP));
        }
        else if (preP)
            missings.push(preP);
    }
    for (const newP of news) {
        preP = closer(newP, missings.filter(p => util.samePiece(newP.piece, p.piece)));
        if (preP) {
            vector = [preP.pos[0] - newP.pos[0], preP.pos[1] - newP.pos[1]];
            anims.set(newP.key, vector.concat(vector));
            animedOrigs.push(preP.key);
        }
    }
    for (const p of missings) {
        if (!animedOrigs.includes(p.key))
            fadings.set(p.key, p.piece);
    }
    return {
        anims: anims,
        fadings: fadings,
    };
}
function step(state, now) {
    const cur = state.animation.current;
    if (cur === undefined) {
        if (!state.dom.destroyed)
            state.dom.redrawNow();
        return;
    }
    const rest = 1 - (now - cur.start) * cur.frequency;
    if (rest <= 0) {
        state.animation.current = undefined;
        state.dom.redrawNow();
    }
    else {
        const ease = easing(rest);
        for (const cfg of cur.plan.anims.values()) {
            cfg[2] = cfg[0] * ease;
            cfg[3] = cfg[1] * ease;
        }
        state.dom.redrawNow(true);
        requestAnimationFrame((now = performance.now()) => step(state, now));
    }
}
function animate(mutation, state) {
    const prevPieces = new Map(state.pieces);
    const result = mutation(state);
    const plan = computePlan(prevPieces, state);
    if (plan.anims.size || plan.fadings.size) {
        const alreadyRunning = state.animation.current && state.animation.current.start;
        state.animation.current = {
            start: performance.now(),
            frequency: 1 / state.animation.duration,
            plan: plan,
        };
        if (!alreadyRunning)
            step(state, performance.now());
    }
    else {
        state.dom.redraw();
    }
    return result;
}
function easing(t) {
    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
}

},{"./util":20}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.start = void 0;
const board = require("./board");
const fen_1 = require("./fen");
const config_1 = require("./config");
const anim_1 = require("./anim");
const drag_1 = require("./drag");
const explosion_1 = require("./explosion");
function start(state, redrawAll) {
    function setOrientation(o) {
        board.setOrientation(state, o);
        redrawAll();
    }
    function toggleOrientation() {
        board.toggleOrientation(state);
        redrawAll();
    }
    return {
        set(config) {
            if (config.orientation && config.orientation !== state.orientation)
                setOrientation(config.orientation);
            (config.fen ? anim_1.anim : anim_1.render)(state => (0, config_1.configure)(state, config), state);
        },
        state,
        getFen: () => (0, fen_1.write)(state.pieces, state.dimensions, state.variant),
        toggleOrientation,
        setPieces(pieces) {
            (0, anim_1.anim)(state => board.setPieces(state, pieces), state);
        },
        selectSquare(key, force) {
            if (key)
                (0, anim_1.anim)(state => board.selectSquare(state, key, force), state);
            else if (state.selected) {
                board.unselect(state);
                state.dom.redraw();
            }
        },
        move(orig, dest) {
            (0, anim_1.anim)(state => board.baseMove(state, orig, dest), state);
        },
        newPiece(piece, key) {
            (0, anim_1.anim)(state => board.baseNewPiece(state, piece, key), state);
        },
        playPremove() {
            if (state.premovable.current) {
                if ((0, anim_1.anim)(board.playPremove, state))
                    return true;
                state.dom.redraw();
            }
            return false;
        },
        playPredrop(validate) {
            if (state.predroppable.current) {
                const result = board.playPredrop(state, validate);
                state.dom.redraw();
                return result;
            }
            return false;
        },
        cancelPremove() {
            (0, anim_1.render)(board.unsetPremove, state);
        },
        cancelPredrop() {
            (0, anim_1.render)(board.unsetPredrop, state);
        },
        cancelMove() {
            (0, anim_1.render)(state => {
                board.cancelMove(state);
                (0, drag_1.cancel)(state);
            }, state);
        },
        stop() {
            (0, anim_1.render)(state => {
                board.stop(state);
                (0, drag_1.cancel)(state);
            }, state);
        },
        explode(keys) {
            (0, explosion_1.default)(state, keys);
        },
        setAutoShapes(shapes) {
            (0, anim_1.render)(state => (state.drawable.autoShapes = shapes), state);
        },
        setShapes(shapes) {
            (0, anim_1.render)(state => (state.drawable.shapes = shapes), state);
        },
        getKeyAtDomPos(pos) {
            return board.getKeyAtDomPos(pos, state.orientation, state.dom.bounds(), state.dimensions);
        },
        redrawAll,
        dragNewPiece(piece, event, force) {
            (0, drag_1.dragNewPiece)(state, piece, event, force);
        },
        destroy() {
            board.stop(state);
            state.dom.unbind && state.dom.unbind();
            state.dom.destroyed = true;
        },
    };
}
exports.start = start;

},{"./anim":1,"./board":3,"./config":5,"./drag":6,"./explosion":10,"./fen":11}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSnappedKeyAtDomPos = exports.p1Pov = exports.getKeyAtDomPos = exports.stop = exports.cancelMove = exports.playPredrop = exports.playPremove = exports.isDraggable = exports.isPredroppable = exports.canMove = exports.unselect = exports.setSelected = exports.selectSquare = exports.dropNewPiece = exports.userMove = exports.baseNewPiece = exports.baseMove = exports.unsetPredrop = exports.unsetPremove = exports.setPieces = exports.reset = exports.toggleOrientation = exports.setOrientation = void 0;
const util_1 = require("./util");
const premove_1 = require("./premove");
const predrop_1 = require("./predrop");
const T = require("./transformations");
function setOrientation(state, o) {
    state.orientation = o;
    state.animation.current = state.draggable.current = state.selected = undefined;
}
exports.setOrientation = setOrientation;
function toggleOrientation(state) {
    setOrientation(state, (0, util_1.oppositeOrientation)(state.orientation));
}
exports.toggleOrientation = toggleOrientation;
function reset(state) {
    state.lastMove = undefined;
    unselect(state);
    unsetPremove(state);
    unsetPredrop(state);
}
exports.reset = reset;
function setPieces(state, pieces) {
    for (const [key, piece] of pieces) {
        if (piece)
            state.pieces.set(key, piece);
        else
            state.pieces.delete(key);
    }
}
exports.setPieces = setPieces;
function setPremove(state, orig, dest, meta) {
    unsetPredrop(state);
    state.premovable.current = [orig, dest];
    (0, util_1.callUserFunction)(state.premovable.events.set, orig, dest, meta);
}
function unsetPremove(state) {
    if (state.premovable.current) {
        state.premovable.current = undefined;
        (0, util_1.callUserFunction)(state.premovable.events.unset);
    }
}
exports.unsetPremove = unsetPremove;
function setPredrop(state, role, key) {
    unsetPremove(state);
    state.predroppable.current = { role, key };
    (0, util_1.callUserFunction)(state.predroppable.events.set, role, key);
}
function unsetPredrop(state) {
    const pd = state.predroppable;
    if (pd.current) {
        pd.current = undefined;
        (0, util_1.callUserFunction)(pd.events.unset);
    }
}
exports.unsetPredrop = unsetPredrop;
function cancelDropMode(s) {
    var _a;
    s.dropmode.active = false;
    (0, util_1.callUserFunction)((_a = s.dropmode.events) === null || _a === void 0 ? void 0 : _a.cancel);
}
function tryAutoCastle(state, orig, dest) {
    if (!state.autoCastle)
        return false;
    const king = state.pieces.get(orig);
    if (!king || king.role !== 'k-piece')
        return false;
    const origPos = (0, util_1.key2pos)(orig);
    const destPos = (0, util_1.key2pos)(dest);
    if ((origPos[1] !== 1 && origPos[1] !== 8) || origPos[1] !== destPos[1])
        return false;
    if (origPos[0] === 5 && !state.pieces.has(dest)) {
        if (destPos[0] === 7)
            dest = (0, util_1.pos2key)([8, destPos[1]]);
        else if (destPos[0] === 3)
            dest = (0, util_1.pos2key)([1, destPos[1]]);
    }
    const rook = state.pieces.get(dest);
    if (!rook || rook.playerIndex !== king.playerIndex || rook.role !== 'r-piece')
        return false;
    state.pieces.delete(orig);
    state.pieces.delete(dest);
    if (origPos[0] < destPos[0]) {
        state.pieces.set((0, util_1.pos2key)([7, destPos[1]]), king);
        state.pieces.set((0, util_1.pos2key)([6, destPos[1]]), rook);
    }
    else {
        state.pieces.set((0, util_1.pos2key)([3, destPos[1]]), king);
        state.pieces.set((0, util_1.pos2key)([4, destPos[1]]), rook);
    }
    return true;
}
function baseMove(state, orig, dest) {
    const origPiece = state.pieces.get(orig), destPiece = state.pieces.get(dest);
    if (orig === dest || !origPiece)
        return false;
    const captured = destPiece && destPiece.playerIndex !== origPiece.playerIndex ? destPiece : undefined;
    if (dest === state.selected)
        unselect(state);
    (0, util_1.callUserFunction)(state.events.move, orig, dest, captured);
    if (!tryAutoCastle(state, orig, dest)) {
        state.pieces.set(dest, origPiece);
        state.pieces.delete(orig);
    }
    state.lastMove = [orig, dest];
    state.check = undefined;
    (0, util_1.callUserFunction)(state.events.change);
    return captured || true;
}
exports.baseMove = baseMove;
function baseNewPiece(state, piece, key, force) {
    if (state.pieces.has(key)) {
        if (force)
            state.pieces.delete(key);
        else
            return false;
    }
    (0, util_1.callUserFunction)(state.events.dropNewPiece, piece, key);
    state.pieces.set(key, piece);
    state.lastMove = [key];
    state.check = undefined;
    (0, util_1.callUserFunction)(state.events.change);
    state.movable.dests = undefined;
    state.dropmode.dropDests = undefined;
    state.turnPlayerIndex = (0, util_1.opposite)(state.turnPlayerIndex);
    return true;
}
exports.baseNewPiece = baseNewPiece;
function baseUserMove(state, orig, dest) {
    const result = baseMove(state, orig, dest);
    if (result) {
        state.movable.dests = undefined;
        state.dropmode.dropDests = undefined;
        state.turnPlayerIndex = (0, util_1.opposite)(state.turnPlayerIndex);
        state.animation.current = undefined;
    }
    return result;
}
function userMove(state, orig, dest) {
    if (canMove(state, orig, dest)) {
        const result = baseUserMove(state, orig, dest);
        if (result) {
            const holdTime = state.hold.stop();
            unselect(state);
            const metadata = {
                premove: false,
                ctrlKey: state.stats.ctrlKey,
                holdTime,
            };
            if (result !== true)
                metadata.captured = result;
            (0, util_1.callUserFunction)(state.movable.events.after, orig, dest, metadata);
            return true;
        }
    }
    else if (canPremove(state, orig, dest)) {
        setPremove(state, orig, dest, {
            ctrlKey: state.stats.ctrlKey,
        });
        unselect(state);
        return true;
    }
    unselect(state);
    return false;
}
exports.userMove = userMove;
function dropNewPiece(state, orig, dest, force) {
    const piece = state.pieces.get(orig);
    if (piece && (canDrop(state, orig, dest) || force)) {
        state.pieces.delete(orig);
        baseNewPiece(state, piece, dest, force);
        (0, util_1.callUserFunction)(state.movable.events.afterNewPiece, piece.role, dest, {
            premove: false,
            predrop: false,
        });
    }
    else if (piece && canPredrop(state, orig, dest)) {
        setPredrop(state, piece.role, dest);
    }
    else {
        unsetPremove(state);
        unsetPredrop(state);
        cancelDropMode(state);
    }
    state.pieces.delete(orig);
    unselect(state);
}
exports.dropNewPiece = dropNewPiece;
function selectSquare(state, key, force) {
    (0, util_1.callUserFunction)(state.events.select, key);
    if (state.selected) {
        if (state.selected === key && !state.draggable.enabled) {
            unselect(state);
            state.hold.cancel();
            return;
        }
        else if ((state.selectable.enabled || force) && state.selected !== key) {
            if (userMove(state, state.selected, key)) {
                state.stats.dragged = false;
                return;
            }
        }
    }
    if (isMovable(state, key) || isPremovable(state, key)) {
        setSelected(state, key);
        state.hold.start();
    }
}
exports.selectSquare = selectSquare;
function setSelected(state, key) {
    state.selected = key;
    if (isPremovable(state, key)) {
        state.premovable.dests = (0, premove_1.premove)(state.pieces, key, state.premovable.castle, state.dimensions, state.variant, state.chess960);
    }
    else {
        state.premovable.dests = undefined;
        state.predroppable.dropDests = undefined;
    }
}
exports.setSelected = setSelected;
function unselect(state) {
    state.selected = undefined;
    state.premovable.dests = undefined;
    state.predroppable.dropDests = undefined;
    state.hold.cancel();
}
exports.unselect = unselect;
function isMovable(state, orig) {
    const piece = state.pieces.get(orig);
    return (!!piece &&
        (!state.onlyDropsVariant || (state.onlyDropsVariant && orig === 'a0')) &&
        (state.movable.playerIndex === 'both' ||
            (state.movable.playerIndex === piece.playerIndex && state.turnPlayerIndex === piece.playerIndex)));
}
function canMove(state, orig, dest) {
    var _a, _b;
    return (orig !== dest && isMovable(state, orig) && (state.movable.free || !!((_b = (_a = state.movable.dests) === null || _a === void 0 ? void 0 : _a.get(orig)) === null || _b === void 0 ? void 0 : _b.includes(dest))));
}
exports.canMove = canMove;
function canDrop(state, orig, dest) {
    const piece = state.pieces.get(orig);
    return (!!piece &&
        (orig === dest || !state.pieces.has(dest)) &&
        (state.movable.playerIndex === 'both' ||
            (state.movable.playerIndex === piece.playerIndex && state.turnPlayerIndex === piece.playerIndex)));
}
function isPremovable(state, orig) {
    const piece = state.pieces.get(orig);
    return (!!piece &&
        state.premovable.enabled &&
        state.movable.playerIndex === piece.playerIndex &&
        state.turnPlayerIndex !== piece.playerIndex);
}
function isPredroppable(state) {
    var _a, _b;
    const piece = state.dropmode.active ? state.dropmode.piece : (_a = state.draggable.current) === null || _a === void 0 ? void 0 : _a.piece;
    return (!!piece &&
        (state.dropmode.active || ((_b = state.draggable.current) === null || _b === void 0 ? void 0 : _b.orig) === 'a0') &&
        state.predroppable.enabled &&
        state.movable.playerIndex === piece.playerIndex &&
        state.turnPlayerIndex !== piece.playerIndex);
}
exports.isPredroppable = isPredroppable;
function canPremove(state, orig, dest) {
    return (orig !== dest &&
        isPremovable(state, orig) &&
        (0, util_1.containsX)((0, premove_1.premove)(state.pieces, orig, state.premovable.castle, state.dimensions, state.variant, state.chess960), dest));
}
function canPredrop(state, orig, dest) {
    const piece = state.pieces.get(orig);
    const destPiece = state.pieces.get(dest);
    if (!piece) {
        return false;
    }
    const isValidPredrop = (0, util_1.containsX)((0, predrop_1.default)(state.pieces, piece, state.dimensions, state.variant), dest);
    return ((!destPiece || destPiece.playerIndex !== state.movable.playerIndex) &&
        state.predroppable.enabled &&
        isValidPredrop &&
        state.movable.playerIndex === piece.playerIndex &&
        state.turnPlayerIndex !== piece.playerIndex);
}
function isDraggable(state, orig) {
    const piece = state.pieces.get(orig);
    return (!!piece &&
        state.draggable.enabled &&
        (state.movable.playerIndex === 'both' ||
            (state.movable.playerIndex === piece.playerIndex &&
                (state.turnPlayerIndex === piece.playerIndex || state.premovable.enabled))));
}
exports.isDraggable = isDraggable;
function playPremove(state) {
    const move = state.premovable.current;
    if (!move)
        return false;
    const orig = move[0], dest = move[1];
    let success = false;
    if (canMove(state, orig, dest)) {
        const result = baseUserMove(state, orig, dest);
        if (result) {
            const metadata = { premove: true };
            if (result !== true)
                metadata.captured = result;
            (0, util_1.callUserFunction)(state.movable.events.after, orig, dest, metadata);
            success = true;
        }
    }
    unsetPremove(state);
    return success;
}
exports.playPremove = playPremove;
function playPredrop(state, validate) {
    const drop = state.predroppable.current;
    let success = false;
    if (!drop)
        return false;
    if (validate(drop)) {
        const piece = {
            role: drop.role,
            playerIndex: state.movable.playerIndex,
        };
        if (baseNewPiece(state, piece, drop.key)) {
            (0, util_1.callUserFunction)(state.movable.events.afterNewPiece, drop.role, drop.key, {
                premove: false,
                predrop: true,
            });
            success = true;
        }
    }
    unsetPredrop(state);
    return success;
}
exports.playPredrop = playPredrop;
function cancelMove(state) {
    unsetPremove(state);
    unsetPredrop(state);
    unselect(state);
}
exports.cancelMove = cancelMove;
function stop(state) {
    state.movable.playerIndex = state.movable.dests = state.dropmode.dropDests = state.animation.current = undefined;
    cancelMove(state);
}
exports.stop = stop;
function getKeyAtDomPos(pos, orientation, bounds, bd) {
    const file = Math.ceil(bd.width * ((pos[0] - bounds.left) / bounds.width));
    const rank = Math.ceil(bd.height - bd.height * ((pos[1] - bounds.top) / bounds.height));
    pos = [file, rank];
    pos = T.mapToP1[orientation](pos, bd);
    return pos[0] > 0 && pos[0] < bd.width + 1 && pos[1] > 0 && pos[1] < bd.height + 1 ? (0, util_1.pos2key)(pos) : undefined;
}
exports.getKeyAtDomPos = getKeyAtDomPos;
function p1Pov(s) {
    return s.myPlayerIndex === 'p1';
}
exports.p1Pov = p1Pov;
function getSnappedKeyAtDomPos(orig, pos, orientation, bounds, bd) {
    const origPos = (0, util_1.key2pos)(orig);
    const validSnapPos = (0, util_1.allPos)(bd).filter(pos2 => {
        return (0, premove_1.queen)(origPos[0], origPos[1], pos2[0], pos2[1]) || (0, premove_1.knight)(origPos[0], origPos[1], pos2[0], pos2[1]);
    });
    const validSnapCenters = validSnapPos.map(pos2 => (0, util_1.computeSquareCenter)((0, util_1.pos2key)(pos2), orientation, bounds, bd));
    const validSnapDistances = validSnapCenters.map(pos2 => (0, util_1.distanceSq)(pos, pos2));
    const [, closestSnapIndex] = validSnapDistances.reduce((a, b, index) => (a[0] < b ? a : [b, index]), [validSnapDistances[0], 0]);
    return (0, util_1.pos2key)(validSnapPos[closestSnapIndex]);
}
exports.getSnappedKeyAtDomPos = getSnappedKeyAtDomPos;

},{"./predrop":13,"./premove":14,"./transformations":18,"./util":20}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Chessground = void 0;
const api_1 = require("./api");
const config_1 = require("./config");
const state_1 = require("./state");
const wrap_1 = require("./wrap");
const events = require("./events");
const render_1 = require("./render");
const svg = require("./svg");
const util = require("./util");
function Chessground(element, config) {
    const maybeState = (0, state_1.defaults)();
    (0, config_1.configure)(maybeState, config || {});
    function redrawAll() {
        const prevUnbind = 'dom' in maybeState ? maybeState.dom.unbind : undefined;
        const relative = maybeState.viewOnly && !maybeState.drawable.visible, elements = (0, wrap_1.renderWrap)(element, maybeState, relative), bounds = util.memo(() => elements.board.getBoundingClientRect()), redrawNow = (skipSvg) => {
            (0, render_1.render)(state);
            if (!skipSvg && elements.svg)
                svg.renderSvg(state, elements.svg, elements.customSvg);
        }, boundsUpdated = () => {
            bounds.clear();
            (0, render_1.updateBounds)(state);
            if (elements.svg)
                svg.renderSvg(state, elements.svg, elements.customSvg);
        };
        const state = maybeState;
        state.dom = {
            elements,
            bounds,
            redraw: debounceRedraw(redrawNow),
            redrawNow,
            unbind: prevUnbind,
            relative,
        };
        state.drawable.prevSvgHash = '';
        redrawNow(false);
        events.bindBoard(state, boundsUpdated);
        if (!prevUnbind)
            state.dom.unbind = events.bindDocument(state, boundsUpdated);
        state.events.insert && state.events.insert(elements);
        return state;
    }
    return (0, api_1.start)(redrawAll(), redrawAll);
}
exports.Chessground = Chessground;
function debounceRedraw(redrawNow) {
    let redrawing = false;
    return () => {
        if (redrawing)
            return;
        redrawing = true;
        requestAnimationFrame(() => {
            redrawNow();
            redrawing = false;
        });
    };
}

},{"./api":2,"./config":5,"./events":9,"./render":15,"./state":16,"./svg":17,"./util":20,"./wrap":21}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.configure = void 0;
const board_1 = require("./board");
const fen_1 = require("./fen");
function configure(state, config) {
    var _a, _b;
    if (config.movable && config.movable.dests)
        state.movable.dests = undefined;
    if ((_a = config.dropmode) === null || _a === void 0 ? void 0 : _a.dropDests)
        state.dropmode.dropDests = undefined;
    if ((_b = config.drawable) === null || _b === void 0 ? void 0 : _b.autoShapes)
        state.drawable.autoShapes = [];
    merge(state, config);
    if (config.dimensions)
        state.dimensions = config.dimensions;
    if (config.fen) {
        const pieces = (0, fen_1.read)(config.fen, state.dimensions, state.variant);
        if (state.pieces.get('a0') !== undefined)
            pieces.set('a0', state.pieces.get('a0'));
        state.pieces = pieces;
        state.drawable.shapes = [];
    }
    if ('check' in config)
        setCheck(state, config.check || false);
    if ('lastMove' in config && !config.lastMove)
        state.lastMove = undefined;
    else if (config.lastMove)
        state.lastMove = config.lastMove;
    if (state.selected)
        (0, board_1.setSelected)(state, state.selected);
    if (!state.animation.duration || state.animation.duration < 100)
        state.animation.enabled = false;
    if (!state.movable.rookCastle && state.movable.dests) {
        const rank = state.movable.playerIndex === 'p1' ? 1 : 8, kingStartPos = ('e' + rank), dests = state.movable.dests.get(kingStartPos), king = state.pieces.get(kingStartPos);
        if (!dests || !king || king.role !== 'k-piece')
            return;
        state.movable.dests.set(kingStartPos, dests.filter(d => !(d === 'a' + rank && dests.includes(('c' + rank))) &&
            !(d === 'h' + rank && dests.includes(('g' + rank)))));
    }
}
exports.configure = configure;
function setCheck(state, playerIndex) {
    state.check = undefined;
    if (playerIndex === true)
        playerIndex = state.turnPlayerIndex;
    if (playerIndex)
        for (const [k, p] of state.pieces) {
            if (p.role === 'k-piece' && p.playerIndex === playerIndex) {
                state.check = k;
            }
        }
}
function merge(base, extend) {
    for (const key in extend) {
        if (isObject(base[key]) && isObject(extend[key]))
            merge(base[key], extend[key]);
        else
            base[key] = extend[key];
    }
}
function isObject(o) {
    return typeof o === 'object';
}

},{"./board":3,"./fen":11}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cancel = exports.end = exports.move = exports.dragNewPiece = exports.start = void 0;
const board = require("./board");
const util = require("./util");
const draw_1 = require("./draw");
const anim_1 = require("./anim");
const predrop_1 = require("./predrop");
const T = require("./transformations");
function start(s, e) {
    if (!e.isTrusted || (e.button !== undefined && e.button !== 0))
        return;
    if (e.touches && e.touches.length > 1)
        return;
    const bounds = s.dom.bounds(), position = util.eventPosition(e), orig = board.getKeyAtDomPos(position, s.orientation, bounds, s.dimensions);
    if (!orig)
        return;
    const piece = s.pieces.get(orig);
    const previouslySelected = s.selected;
    if (!previouslySelected &&
        s.drawable.enabled &&
        (s.drawable.eraseOnClick || !piece || piece.playerIndex !== s.turnPlayerIndex))
        (0, draw_1.clear)(s);
    if (e.cancelable !== false &&
        (!e.touches || !s.movable.playerIndex || piece || previouslySelected || pieceCloseTo(s, position)))
        e.preventDefault();
    const hadPremove = !!s.premovable.current;
    const hadPredrop = !!s.predroppable.current;
    s.stats.ctrlKey = e.ctrlKey;
    if (s.selected && board.canMove(s, s.selected, orig)) {
        (0, anim_1.anim)(state => board.selectSquare(state, orig), s);
    }
    else {
        board.selectSquare(s, orig);
    }
    const stillSelected = s.selected === orig;
    const element = pieceElementByKey(s, orig);
    if (piece && element && stillSelected && board.isDraggable(s, orig)) {
        const squareBounds = computeSquareBounds(orig, bounds, s.dimensions, s.orientation);
        s.draggable.current = {
            orig,
            origPos: util.key2pos(orig),
            piece,
            rel: position,
            epos: position,
            pos: [0, 0],
            dec: s.draggable.centerPiece
                ? [
                    position[0] - (squareBounds.left + squareBounds.width / 2),
                    position[1] - (squareBounds.top + squareBounds.height / 2),
                ]
                : [0, 0],
            started: s.draggable.autoDistance && s.stats.dragged,
            element,
            previouslySelected,
            originTarget: e.target,
        };
        element.cgDragging = true;
        element.classList.add('dragging');
        const ghost = s.dom.elements.ghost;
        if (ghost) {
            const promoted = piece.promoted ? 'promoted ' : '';
            const side = piece.playerIndex === s.myPlayerIndex ? 'ally' : 'enemy';
            ghost.className = `ghost ${piece.playerIndex} ${promoted}${piece.role} ${side}`;
            util.translateAbs(ghost, util.posToTranslateAbs(bounds, s.dimensions)(util.key2pos(orig), s.orientation));
            util.setVisible(ghost, true);
        }
        processDrag(s);
    }
    else {
        if (hadPremove)
            board.unsetPremove(s);
        if (hadPredrop)
            board.unsetPredrop(s);
    }
    s.dom.redraw();
}
exports.start = start;
function pieceCloseTo(s, pos) {
    const orientation = s.orientation, bounds = s.dom.bounds(), radiusSq = Math.pow(bounds.width / 8, 2);
    for (const key in s.pieces) {
        const squareBounds = computeSquareBounds(key, bounds, s.dimensions, orientation), center = [squareBounds.left + squareBounds.width / 2, squareBounds.top + squareBounds.height / 2];
        if (util.distanceSq(center, pos) <= radiusSq)
            return true;
    }
    return false;
}
function dragNewPiece(s, piece, e, force) {
    const key = 'a0';
    s.pieces.set(key, piece);
    s.dom.redraw();
    const position = util.eventPosition(e), asP1 = board.p1Pov(s), bounds = s.dom.bounds(), squareBounds = computeSquareBounds(key, bounds, s.dimensions, s.orientation);
    const rel = [
        (asP1 ? 0 : s.dimensions.width - 1) * squareBounds.width + bounds.left,
        (asP1 ? s.dimensions.height : -1) * squareBounds.height + bounds.top,
    ];
    s.draggable.current = {
        orig: key,
        origPos: util.key2pos('a0'),
        piece,
        rel,
        epos: position,
        pos: [position[0] - rel[0], position[1] - rel[1]],
        dec: [-squareBounds.width / 2, -squareBounds.height / 2],
        started: true,
        element: () => pieceElementByKey(s, key),
        originTarget: e.target,
        newPiece: true,
        force: !!force,
    };
    if (piece && board.isPredroppable(s)) {
        s.predroppable.dropDests = (0, predrop_1.default)(s.pieces, piece, s.dimensions, s.variant);
    }
    processDrag(s);
}
exports.dragNewPiece = dragNewPiece;
function processDrag(s) {
    requestAnimationFrame(() => {
        var _a;
        const cur = s.draggable.current;
        if (!cur)
            return;
        if ((_a = s.animation.current) === null || _a === void 0 ? void 0 : _a.plan.anims.has(cur.orig))
            s.animation.current = undefined;
        const origPiece = s.pieces.get(cur.orig);
        if (!origPiece || !util.samePiece(origPiece, cur.piece))
            cancel(s);
        else {
            if (!cur.started && util.distanceSq(cur.epos, cur.rel) >= Math.pow(s.draggable.distance, 2))
                cur.started = true;
            if (cur.started) {
                if (typeof cur.element === 'function') {
                    const found = cur.element();
                    if (!found)
                        return;
                    found.cgDragging = true;
                    found.classList.add('dragging');
                    cur.element = found;
                }
                cur.pos = [cur.epos[0] - cur.rel[0], cur.epos[1] - cur.rel[1]];
                const translation = util.posToTranslateAbs(s.dom.bounds(), s.dimensions)(cur.origPos, s.orientation);
                translation[0] += cur.pos[0] + cur.dec[0];
                translation[1] += cur.pos[1] + cur.dec[1];
                util.translateAbs(cur.element, translation);
            }
        }
        processDrag(s);
    });
}
function move(s, e) {
    if (s.draggable.current && (!e.touches || e.touches.length < 2)) {
        s.draggable.current.epos = util.eventPosition(e);
    }
}
exports.move = move;
function end(s, e) {
    const cur = s.draggable.current;
    if (!cur)
        return;
    if (e.type === 'touchend' && e.cancelable !== false)
        e.preventDefault();
    if (e.type === 'touchend' && cur && cur.originTarget !== e.target && !cur.newPiece) {
        s.draggable.current = undefined;
        return;
    }
    board.unsetPremove(s);
    board.unsetPredrop(s);
    const eventPos = util.eventPosition(e) || cur.epos;
    const dest = board.getKeyAtDomPos(eventPos, s.orientation, s.dom.bounds(), s.dimensions);
    if (dest && cur.started && cur.orig !== dest) {
        if (cur.newPiece)
            board.dropNewPiece(s, cur.orig, dest, cur.force);
        else {
            s.stats.ctrlKey = e.ctrlKey;
            if (board.userMove(s, cur.orig, dest))
                s.stats.dragged = true;
        }
    }
    else if (cur.newPiece) {
        s.pieces.delete(cur.orig);
    }
    else if (s.draggable.deleteOnDropOff && !dest) {
        s.pieces.delete(cur.orig);
        util.callUserFunction(s.events.change);
    }
    if (cur && cur.orig === cur.previouslySelected && (cur.orig === dest || !dest))
        board.unselect(s);
    else if (!s.selectable.enabled)
        board.unselect(s);
    removeDragElements(s);
    s.draggable.current = undefined;
    s.dom.redraw();
}
exports.end = end;
function cancel(s) {
    const cur = s.draggable.current;
    if (cur) {
        if (cur.newPiece)
            s.pieces.delete(cur.orig);
        s.draggable.current = undefined;
        board.unselect(s);
        removeDragElements(s);
        s.dom.redraw();
    }
}
exports.cancel = cancel;
function removeDragElements(s) {
    const e = s.dom.elements;
    if (e.ghost)
        util.setVisible(e.ghost, false);
}
function computeSquareBounds(key, bounds, bd, orientation) {
    const pos = T.mapToP1Inverse[orientation](util.key2pos(key), bd);
    return {
        left: bounds.left + (bounds.width * (pos[0] - 1)) / bd.width,
        top: bounds.top + (bounds.height * (bd.height - pos[1])) / bd.height,
        width: bounds.width / bd.width,
        height: bounds.height / bd.height,
    };
}
function pieceElementByKey(s, key) {
    let el = s.dom.elements.board.firstChild;
    while (el) {
        if (el.cgKey === key && el.tagName === 'PIECE')
            return el;
        el = el.nextSibling;
    }
    return;
}

},{"./anim":1,"./board":3,"./draw":7,"./predrop":13,"./transformations":18,"./util":20}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.clear = exports.cancel = exports.end = exports.move = exports.processDraw = exports.start = void 0;
const board_1 = require("./board");
const util_1 = require("./util");
const brushes = ['green', 'red', 'blue', 'yellow'];
function start(state, e) {
    if (e.touches && e.touches.length > 1)
        return;
    e.stopPropagation();
    e.preventDefault();
    e.ctrlKey ? (0, board_1.unselect)(state) : (0, board_1.cancelMove)(state);
    const pos = (0, util_1.eventPosition)(e), orig = (0, board_1.getKeyAtDomPos)(pos, state.orientation, state.dom.bounds(), state.dimensions);
    if (!orig)
        return;
    state.drawable.current = {
        orig,
        pos,
        brush: eventBrush(e),
        snapToValidMove: state.drawable.defaultSnapToValidMove,
    };
    processDraw(state);
}
exports.start = start;
function processDraw(state) {
    requestAnimationFrame(() => {
        const cur = state.drawable.current;
        if (cur) {
            const keyAtDomPos = (0, board_1.getKeyAtDomPos)(cur.pos, state.orientation, state.dom.bounds(), state.dimensions);
            if (!keyAtDomPos) {
                cur.snapToValidMove = false;
            }
            const mouseSq = cur.snapToValidMove
                ? (0, board_1.getSnappedKeyAtDomPos)(cur.orig, cur.pos, state.orientation, state.dom.bounds(), state.dimensions)
                : keyAtDomPos;
            if (mouseSq !== cur.mouseSq) {
                cur.mouseSq = mouseSq;
                cur.dest = mouseSq !== cur.orig ? mouseSq : undefined;
                state.dom.redrawNow();
            }
            processDraw(state);
        }
    });
}
exports.processDraw = processDraw;
function move(state, e) {
    if (state.drawable.current)
        state.drawable.current.pos = (0, util_1.eventPosition)(e);
}
exports.move = move;
function end(state) {
    const cur = state.drawable.current;
    if (cur) {
        if (cur.mouseSq)
            addShape(state.drawable, cur);
        cancel(state);
    }
}
exports.end = end;
function cancel(state) {
    if (state.drawable.current) {
        state.drawable.current = undefined;
        state.dom.redraw();
    }
}
exports.cancel = cancel;
function clear(state) {
    if (state.drawable.shapes.length) {
        state.drawable.shapes = [];
        state.dom.redraw();
        onChange(state.drawable);
    }
}
exports.clear = clear;
function eventBrush(e) {
    var _a;
    const modA = (e.shiftKey || e.ctrlKey) && (0, util_1.isRightButton)(e);
    const modB = e.altKey || e.metaKey || ((_a = e.getModifierState) === null || _a === void 0 ? void 0 : _a.call(e, 'AltGraph'));
    return brushes[(modA ? 1 : 0) + (modB ? 2 : 0)];
}
function addShape(drawable, cur) {
    const sameShape = (s) => s.orig === cur.orig && s.dest === cur.dest;
    const similar = drawable.shapes.filter(sameShape)[0];
    if (similar)
        drawable.shapes = drawable.shapes.filter(s => !sameShape(s));
    if (!similar || similar.brush !== cur.brush)
        drawable.shapes.push(cur);
    onChange(drawable);
}
function onChange(drawable) {
    if (drawable.onChange)
        drawable.onChange(drawable.shapes);
}

},{"./board":3,"./util":20}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.drop = exports.cancelDropMode = exports.setDropMode = void 0;
const board = require("./board");
const util = require("./util");
const drag_1 = require("./drag");
const predrop_1 = require("./predrop");
function setDropMode(s, piece) {
    s.dropmode.active = true;
    s.dropmode.piece = piece;
    (0, drag_1.cancel)(s);
    board.unselect(s);
    if (piece && board.isPredroppable(s)) {
        s.predroppable.dropDests = (0, predrop_1.default)(s.pieces, piece, s.dimensions, s.variant);
    }
}
exports.setDropMode = setDropMode;
function cancelDropMode(s) {
    var _a;
    s.dropmode.active = false;
    util.callUserFunction((_a = s.dropmode.events) === null || _a === void 0 ? void 0 : _a.cancel);
}
exports.cancelDropMode = cancelDropMode;
function drop(s, e) {
    if (!s.dropmode.active)
        return;
    board.unsetPremove(s);
    board.unsetPredrop(s);
    const piece = s.dropmode.piece;
    if (piece) {
        s.pieces.set('a0', piece);
        const position = util.eventPosition(e);
        const dest = position && board.getKeyAtDomPos(position, s.orientation, s.dom.bounds(), s.dimensions);
        if (dest)
            board.dropNewPiece(s, 'a0', dest);
    }
    s.dom.redraw();
}
exports.drop = drop;

},{"./board":3,"./drag":6,"./predrop":13,"./util":20}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.bindDocument = exports.bindBoard = void 0;
const drag = require("./drag");
const draw = require("./draw");
const drop_1 = require("./drop");
const util_1 = require("./util");
const board_1 = require("./board");
function bindBoard(s, boundsUpdated) {
    const boardEl = s.dom.elements.board;
    if (!s.dom.relative && s.resizable && 'ResizeObserver' in window) {
        const observer = new window['ResizeObserver'](boundsUpdated);
        observer.observe(boardEl);
    }
    if (s.viewOnly)
        return;
    const onStart = startDragOrDraw(s);
    boardEl.addEventListener('touchstart', onStart, { passive: false });
    boardEl.addEventListener('mousedown', onStart, { passive: false });
    if (s.disableContextMenu || s.drawable.enabled) {
        boardEl.addEventListener('contextmenu', e => e.preventDefault());
    }
}
exports.bindBoard = bindBoard;
function bindDocument(s, boundsUpdated) {
    const unbinds = [];
    if (!s.dom.relative && s.resizable && !('ResizeObserver' in window)) {
        unbinds.push(unbindable(document.body, 'chessground.resize', boundsUpdated));
    }
    if (!s.viewOnly) {
        const onmove = dragOrDraw(s, drag.move, draw.move);
        const onend = dragOrDraw(s, drag.end, draw.end);
        for (const ev of ['touchmove', 'mousemove'])
            unbinds.push(unbindable(document, ev, onmove));
        for (const ev of ['touchend', 'mouseup'])
            unbinds.push(unbindable(document, ev, onend));
        const onScroll = () => s.dom.bounds.clear();
        unbinds.push(unbindable(document, 'scroll', onScroll, { capture: true, passive: true }));
        unbinds.push(unbindable(window, 'resize', onScroll, { passive: true }));
    }
    return () => unbinds.forEach(f => f());
}
exports.bindDocument = bindDocument;
function unbindable(el, eventName, callback, options) {
    el.addEventListener(eventName, callback, options);
    return () => el.removeEventListener(eventName, callback, options);
}
function startDragOrDraw(s) {
    return e => {
        var _a;
        if (s.draggable.current)
            drag.cancel(s);
        else if (s.drawable.current)
            draw.cancel(s);
        else if (e.shiftKey || (0, util_1.isRightButton)(e)) {
            if (s.drawable.enabled)
                draw.start(s, e);
        }
        else if (!s.viewOnly) {
            if (s.dropmode.active && undefined === squareOccupied(s, e)) {
                (0, drop_1.drop)(s, e);
            }
            else if (s.dropmode.active &&
                s.movable.playerIndex !== s.turnPlayerIndex &&
                ((_a = squareOccupied(s, e)) === null || _a === void 0 ? void 0 : _a.playerIndex) === s.turnPlayerIndex &&
                !s.onlyDropsVariant) {
                (0, drop_1.drop)(s, e);
            }
            else {
                if (!s.onlyDropsVariant)
                    (0, drop_1.cancelDropMode)(s);
                drag.start(s, e);
            }
        }
    };
}
function dragOrDraw(s, withDrag, withDraw) {
    return e => {
        if (s.drawable.current) {
            if (s.drawable.enabled)
                withDraw(s, e);
        }
        else if (!s.viewOnly)
            withDrag(s, e);
    };
}
function squareOccupied(s, e) {
    const position = (0, util_1.eventPosition)(e);
    const dest = position && (0, board_1.getKeyAtDomPos)(position, s.orientation, s.dom.bounds(), s.dimensions);
    if (dest && s.pieces.get(dest))
        return s.pieces.get(dest);
    return undefined;
}

},{"./board":3,"./drag":6,"./draw":7,"./drop":8,"./util":20}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function explosion(state, keys) {
    state.exploding = { stage: 1, keys };
    state.dom.redraw();
    setTimeout(() => {
        setStage(state, 2);
        setTimeout(() => setStage(state, undefined), 120);
    }, 120);
}
exports.default = explosion;
function setStage(state, stage) {
    if (state.exploding) {
        if (stage)
            state.exploding.stage = stage;
        else
            state.exploding = undefined;
        state.dom.redraw();
    }
}

},{}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.write = exports.read = exports.initial = void 0;
const util_1 = require("./util");
exports.initial = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR';
function roles(letter) {
    return (letter.replace('+', 'p') + '-piece');
}
function letters(role) {
    const letterPart = role.slice(0, role.indexOf('-'));
    return letterPart.length > 1 ? letterPart.replace('p', '+') : letterPart;
}
function read(fen, dimensions, variant) {
    if (fen === 'start')
        fen = exports.initial;
    if (fen.indexOf('[') !== -1)
        fen = fen.slice(0, fen.indexOf('['));
    const pieces = new Map();
    let row = dimensions.height;
    let col = 0;
    let promoted = false;
    let num = 0;
    for (const c of fen) {
        switch (c) {
            case ' ':
                return pieces;
            case '/':
                --row;
                if (row === 0)
                    return pieces;
                col = 0;
                num = 0;
                break;
            case '+':
                promoted = true;
                break;
            case '~': {
                const piece = pieces.get((0, util_1.pos2key)([col, row]));
                if (piece)
                    piece.promoted = true;
                break;
            }
            default: {
                const nb = c.charCodeAt(0);
                if (48 <= nb && nb < 58) {
                    num = num + nb - 48;
                }
                else {
                    col += 1 + num;
                    num = 0;
                    const letter = variant === 'oware' ? c : c.toLowerCase();
                    const playerIndex = (variant === 'oware' && row === 1
                        ? 'p1'
                        : variant === 'oware' && row === 2
                            ? 'p2'
                            : c === letter
                                ? 'p2'
                                : 'p1');
                    const piece = {
                        role: roles(letter),
                        playerIndex: playerIndex,
                    };
                    if (promoted) {
                        piece.role = ('p' + piece.role);
                        piece.promoted = true;
                        promoted = false;
                    }
                    pieces.set((0, util_1.pos2key)([col, row]), piece);
                }
            }
        }
    }
    return pieces;
}
exports.read = read;
function write(pieces, bd, variant) {
    return util_1.invNRanks
        .slice(-bd.height)
        .map(y => util_1.NRanks.slice(0, bd.width)
        .map(x => {
        const piece = pieces.get((0, util_1.pos2key)([x, y]));
        if (piece) {
            const letter = letters(piece.role) + (piece.promoted && letters(piece.role).charAt(0) !== '+' ? '~' : '');
            return piece.playerIndex === 'p1' && variant !== 'oware' ? letter.toUpperCase() : letter;
        }
        else
            return '1';
    })
        .join(''))
        .join('/')
        .replace(/1{2,}/g, s => s.length.toString());
}
exports.write = write;

},{"./util":20}],12:[function(require,module,exports){
module.exports = require('./chessground').Chessground;

},{"./chessground":4}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const util = require("./util");
const wholeBoard = (_x, _y) => true;
function rankRange(from, to, playerIndex, bd) {
    const height = bd.height;
    if (from < 1)
        from += height;
    if (to < 1)
        to += height;
    return (_x, y) => {
        if (playerIndex === 'p2')
            y = height - y + 1;
        return from <= y && y <= to;
    };
}
function emptysquares(pieces) {
    return (x, y) => {
        const pos = util.pos2key([x, y]);
        return !pieces.has(pos);
    };
}
function predrop(pieces, piece, bd, variant) {
    const playerIndex = piece.playerIndex;
    const role = piece.role;
    let mobility = wholeBoard;
    switch (variant) {
        case 'crazyhouse':
        case 'shouse':
        case 'capahouse':
        case 'gothhouse':
            switch (role) {
                case 'p-piece':
                    mobility = rankRange(2, -1, playerIndex, bd);
                    break;
            }
            break;
        case 'placement':
            mobility = rankRange(1, 1, playerIndex, bd);
            break;
        case 'sittuyin':
            switch (role) {
                case 'r-piece':
                    mobility = rankRange(1, 1, playerIndex, bd);
                    break;
                default:
                    mobility = (x, y) => {
                        const width = bd.width;
                        const height = bd.height;
                        if (playerIndex === 'p2') {
                            x = width - x + 1;
                            y = height - y + 1;
                        }
                        return y < 3 || (y === 3 && x > 4);
                    };
            }
            break;
        case 'shogi':
        case 'minishogi':
        case 'gorogoro':
            switch (role) {
                case 'p-piece':
                case 'l-piece':
                    mobility = rankRange(1, -1, playerIndex, bd);
                    break;
                case 'n-piece':
                    mobility = rankRange(1, -2, playerIndex, bd);
                    break;
            }
            break;
        case 'kyotoshogi':
        case 'dobutsu':
            mobility = wholeBoard;
            break;
        case 'torishogi':
            switch (role) {
                case 's-piece':
                    mobility = rankRange(1, -1, playerIndex, bd);
                    break;
            }
            break;
        case 'grandhouse':
            switch (role) {
                case 'p-piece':
                    mobility = rankRange(2, 7, playerIndex, bd);
                    break;
            }
            break;
        case 'shogun':
            mobility = rankRange(1, 5, playerIndex, bd);
            break;
        case 'synochess':
            mobility = (_x, y) => y === 5;
            break;
        case 'shinobi':
            mobility = (_x, y) => y <= 4;
            break;
        case 'flipello':
            mobility = emptysquares(pieces);
            break;
        default:
            console.warn('Unknown drop variant', variant);
    }
    return util
        .allKeys(bd)
        .map(util.key2pos)
        .filter(pos => {
        var _a;
        return ((_a = pieces.get(util.pos2key(pos))) === null || _a === void 0 ? void 0 : _a.playerIndex) !== playerIndex && mobility(pos[0], pos[1]);
    })
        .map(util.pos2key);
}
exports.default = predrop;

},{"./util":20}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.premove = exports.loachecker = exports.queen = exports.knight = void 0;
const util = require("./util");
function diff(a, b) {
    return Math.abs(a - b);
}
function pawn(playerIndex) {
    return (x1, y1, x2, y2) => diff(x1, x2) < 2 &&
        (playerIndex === 'p1'
            ?
                y2 === y1 + 1 || (y1 <= 2 && y2 === y1 + 2 && x1 === x2)
            : y2 === y1 - 1 || (y1 >= 7 && y2 === y1 - 2 && x1 === x2));
}
const knight = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return (xd === 1 && yd === 2) || (xd === 2 && yd === 1);
};
exports.knight = knight;
const bishop = (x1, y1, x2, y2) => {
    return diff(x1, x2) === diff(y1, y2);
};
const rook = (x1, y1, x2, y2) => {
    return x1 === x2 || y1 === y2;
};
const queen = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2);
};
exports.queen = queen;
const loachecker = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2);
};
exports.loachecker = loachecker;
function king(playerIndex, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => (diff(x1, x2) < 2 && diff(y1, y2) < 2) ||
        (canCastle &&
            y1 === y2 &&
            y1 === (playerIndex === 'p1' ? 1 : 8) &&
            ((x1 === 5 && ((util.containsX(rookFiles, 1) && x2 === 3) || (util.containsX(rookFiles, 8) && x2 === 7))) ||
                util.containsX(rookFiles, x2)));
}
function rookFilesOf(pieces, playerIndex) {
    const backrank = playerIndex === 'p1' ? '1' : '8';
    const files = [];
    for (const [key, piece] of pieces) {
        if (key[1] === backrank && piece && piece.playerIndex === playerIndex && piece.role === 'r-piece') {
            files.push(util.key2pos(key)[0]);
        }
    }
    return files;
}
const kingNoCastling = (x1, y1, x2, y2) => {
    return diff(x1, x2) < 2 && diff(y1, y2) < 2;
};
function king960(playerIndex, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) ||
        (canCastle && y1 === y2 && y1 === (playerIndex === 'p1' ? 1 : 8) && util.containsX(rookFiles, x2));
}
function kingCapa(playerIndex, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) ||
        (canCastle &&
            y1 === y2 &&
            y1 === (playerIndex === 'p1' ? 1 : 8) &&
            x1 === 6 &&
            ((x2 === 9 && util.containsX(rookFiles, 10)) || (x2 === 3 && util.containsX(rookFiles, 1))));
}
function kingShako(playerIndex, rookFiles, canCastle) {
    return (x1, y1, x2, y2) => kingNoCastling(x1, y1, x2, y2) ||
        (canCastle &&
            y1 === y2 &&
            y1 === (playerIndex === 'p1' ? 2 : 9) &&
            x1 === 6 &&
            ((x2 === 8 && util.containsX(rookFiles, 9)) || (x2 === 4 && util.containsX(rookFiles, 2))));
}
function rookFilesOfShako(pieces, playerIndex) {
    const backrank = playerIndex === 'p1' ? '2' : '9';
    const files = [];
    for (const [key, piece] of pieces) {
        if (key[1] === backrank && piece && piece.playerIndex === playerIndex && piece.role === 'r-piece') {
            files.push(util.key2pos(key)[0]);
        }
    }
    return files;
}
const wazir = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return (xd === 1 && yd === 0) || (xd === 0 && yd === 1);
};
const ferz = (x1, y1, x2, y2) => diff(x1, x2) === diff(y1, y2) && diff(x1, x2) === 1;
const elephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === yd && xd === 2;
};
const archbishop = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || (0, exports.knight)(x1, y1, x2, y2);
};
const chancellor = (x1, y1, x2, y2) => {
    return rook(x1, y1, x2, y2) || (0, exports.knight)(x1, y1, x2, y2);
};
const amazon = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || rook(x1, y1, x2, y2) || (0, exports.knight)(x1, y1, x2, y2);
};
const centaur = (x1, y1, x2, y2) => {
    return kingNoCastling(x1, y1, x2, y2) || (0, exports.knight)(x1, y1, x2, y2);
};
function grandPawn(playerIndex) {
    return (x1, y1, x2, y2) => diff(x1, x2) < 2 &&
        (playerIndex === 'p1'
            ? y2 === y1 + 1 || (y1 <= 3 && y2 === y1 + 2 && x1 === x2)
            : y2 === y1 - 1 || (y1 >= 8 && y2 === y1 - 2 && x1 === x2));
}
function shogiLance(playerIndex) {
    return (x1, y1, x2, y2) => x2 === x1 && (playerIndex === 'p1' ? y2 > y1 : y2 < y1);
}
function shogiSilver(playerIndex) {
    return (x1, y1, x2, y2) => ferz(x1, y1, x2, y2) || (x1 === x2 && (playerIndex === 'p1' ? y2 === y1 + 1 : y2 === y1 - 1));
}
function shogiGold(playerIndex) {
    return (x1, y1, x2, y2) => wazir(x1, y1, x2, y2) || (diff(x1, x2) < 2 && (playerIndex === 'p1' ? y2 === y1 + 1 : y2 === y1 - 1));
}
function shogiPawn(playerIndex) {
    return (x1, y1, x2, y2) => x2 === x1 && (playerIndex === 'p1' ? y2 === y1 + 1 : y2 === y1 - 1);
}
function shogiKnight(playerIndex) {
    return (x1, y1, x2, y2) => (x2 === x1 - 1 || x2 === x1 + 1) && (playerIndex === 'p1' ? y2 === y1 + 2 : y2 === y1 - 2);
}
const shogiDragon = (x1, y1, x2, y2) => {
    return rook(x1, y1, x2, y2) || ferz(x1, y1, x2, y2);
};
const shogiHorse = (x1, y1, x2, y2) => {
    return bishop(x1, y1, x2, y2) || wazir(x1, y1, x2, y2);
};
function palace(bd, playerIndex) {
    const middleFile = Math.floor((bd.width + 1) / 2);
    const startingRank = playerIndex === 'p1' ? 1 : bd.height - 2;
    return [
        [middleFile - 1, startingRank + 2],
        [middleFile, startingRank + 2],
        [middleFile + 1, startingRank + 2],
        [middleFile - 1, startingRank + 1],
        [middleFile, startingRank + 1],
        [middleFile + 1, startingRank + 1],
        [middleFile - 1, startingRank],
        [middleFile, startingRank],
        [middleFile + 1, startingRank],
    ];
}
function xiangqiPawn(playerIndex) {
    return (x1, y1, x2, y2) => (x2 === x1 && (playerIndex === 'p1' ? y2 === y1 + 1 : y2 === y1 - 1)) ||
        (y2 === y1 && diff(x1, x2) < 2 && (playerIndex === 'p1' ? y1 > 5 : y1 < 6));
}
function minixiangqiPawn(playerIndex) {
    return (x1, y1, x2, y2) => (x2 === x1 && (playerIndex === 'p1' ? y2 === y1 + 1 : y2 === y1 - 1)) || (y2 === y1 && diff(x1, x2) < 2);
}
function xiangqiElephant(playerIndex) {
    return (x1, y1, x2, y2) => elephant(x1, y1, x2, y2) && (playerIndex === 'p1' ? y2 < 6 : y2 > 5);
}
function xiangqiAdvisor(playerIndex, bd) {
    const myPalace = palace(bd, playerIndex);
    return (x1, y1, x2, y2) => ferz(x1, y1, x2, y2) && myPalace.some(point => point[0] === x2 && point[1] === y2);
}
function xiangqiKing(playerIndex, bd) {
    const myPalace = palace(bd, playerIndex);
    return (x1, y1, x2, y2) => wazir(x1, y1, x2, y2) && myPalace.some(point => point[0] === x2 && point[1] === y2);
}
const shakoElephant = (x1, y1, x2, y2) => {
    return diff(x1, x2) === diff(y1, y2) && diff(x1, x2) < 3;
};
const janggiElephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return (xd === 2 && yd === 3) || (xd === 3 && yd === 2);
};
function janggiPawn(playerIndex, bd) {
    const oppPalace = palace(bd, util.opposite(playerIndex));
    return (x1, y1, x2, y2) => {
        const palacePos = oppPalace.findIndex(point => point[0] === x1 && point[1] === y1);
        let additionalMobility;
        switch (palacePos) {
            case 0:
                additionalMobility = (x1, y1, x2, y2) => x2 === x1 + 1 && playerIndex === 'p2' && y2 === y1 - 1;
                break;
            case 2:
                additionalMobility = (x1, y1, x2, y2) => x2 === x1 - 1 && playerIndex === 'p2' && y2 === y1 - 1;
                break;
            case 4:
                additionalMobility = (x1, y1, x2, y2) => diff(x1, x2) === 1 && (playerIndex === 'p1' ? y2 === y1 + 1 : y2 === y1 - 1);
                break;
            case 6:
                additionalMobility = (x1, y1, x2, y2) => x2 === x1 + 1 && playerIndex === 'p1' && y2 === y1 + 1;
                break;
            case 8:
                additionalMobility = (x1, y1, x2, y2) => x2 === x1 - 1 && playerIndex === 'p1' && y2 === y1 + 1;
                break;
            default:
                additionalMobility = () => false;
        }
        return ((x2 === x1 && (playerIndex === 'p1' ? y2 === y1 + 1 : y2 === y1 - 1)) ||
            (y2 === y1 && diff(x1, x2) < 2) ||
            additionalMobility(x1, y1, x2, y2));
    };
}
function janggiRook(bd) {
    const wPalace = palace(bd, 'p1');
    const bPalace = palace(bd, 'p2');
    return (x1, y1, x2, y2) => {
        let additionalMobility;
        const wPalacePos = wPalace.findIndex(point => point[0] === x1 && point[1] === y1);
        const bPalacePos = bPalace.findIndex(point => point[0] === x1 && point[1] === y1);
        const palacePos = wPalacePos !== -1 ? wPalacePos : bPalacePos;
        const xd = diff(x1, x2);
        const yd = diff(y1, y2);
        switch (palacePos) {
            case 0:
                additionalMobility = (x1, y1, x2, y2) => xd === yd && x2 > x1 && x2 <= x1 + 2 && y2 < y1 && y2 >= y1 - 2;
                break;
            case 2:
                additionalMobility = (x1, y1, x2, y2) => xd === yd && x2 < x1 && x2 >= x1 - 2 && y2 < y1 && y2 >= y1 - 2;
                break;
            case 4:
                additionalMobility = ferz;
                break;
            case 6:
                additionalMobility = (x1, y1, x2, y2) => xd === yd && x2 > x1 && x2 <= x1 + 2 && y2 > y1 && y2 <= y1 + 2;
                break;
            case 8:
                additionalMobility = (x1, y1, x2, y2) => xd === yd && x2 < x1 && x2 >= x1 - 2 && y2 > y1 && y2 <= y1 + 2;
                break;
            default:
                additionalMobility = () => false;
        }
        return rook(x1, y1, x2, y2) || additionalMobility(x1, y1, x2, y2);
    };
}
function janggiKing(playerIndex, bd) {
    const myPalace = palace(bd, playerIndex);
    return (x1, y1, x2, y2) => {
        const palacePos = myPalace.findIndex(point => point[0] === x1 && point[1] === y1);
        let additionalMobility;
        switch (palacePos) {
            case 0:
                additionalMobility = (x1, y1, x2, y2) => x2 === x1 + 1 && y2 === y1 - 1;
                break;
            case 2:
                additionalMobility = (x1, y1, x2, y2) => x2 === x1 - 1 && y2 === y1 - 1;
                break;
            case 4:
                additionalMobility = ferz;
                break;
            case 6:
                additionalMobility = (x1, y1, x2, y2) => x2 === x1 + 1 && y2 === y1 + 1;
                break;
            case 8:
                additionalMobility = (x1, y1, x2, y2) => x2 === x1 - 1 && y2 === y1 + 1;
                break;
            default:
                additionalMobility = () => false;
        }
        return ((wazir(x1, y1, x2, y2) || additionalMobility(x1, y1, x2, y2)) &&
            myPalace.some(point => point[0] === x2 && point[1] === y2));
    };
}
const musketeerLeopard = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return (xd === 1 || xd === 2) && (yd === 1 || yd === 2);
};
const musketeerHawk = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return ((xd === 0 && (yd === 2 || yd === 3)) ||
        (yd === 0 && (xd === 2 || xd === 3)) ||
        (xd === yd && (xd === 2 || xd === 3)));
};
const musketeerElephant = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd === 1 || yd === 1 || (xd === 2 && (yd === 0 || yd === 2)) || (xd === 0 && yd === 2);
};
const musketeerCannon = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd < 3 && (yd < 2 || (yd === 2 && xd === 0));
};
const musketeerUnicorn = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return (0, exports.knight)(x1, y1, x2, y2) || (xd === 1 && yd === 3) || (xd === 3 && yd === 1);
};
const musketeerDragon = (x1, y1, x2, y2) => {
    return (0, exports.knight)(x1, y1, x2, y2) || (0, exports.queen)(x1, y1, x2, y2);
};
const musketeerFortress = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return (xd === yd && xd < 4) || (yd === 0 && xd === 2) || (yd === 2 && xd < 2);
};
const musketeerSpider = (x1, y1, x2, y2) => {
    const xd = diff(x1, x2);
    const yd = diff(y1, y2);
    return xd < 3 && yd < 3 && !(xd === 1 && yd === 0) && !(xd === 0 && yd === 1);
};
function toriGoose(playerIndex) {
    return (x1, y1, x2, y2) => {
        const xd = diff(x1, x2);
        return playerIndex === 'p1'
            ? (xd === 2 && y2 === y1 + 2) || (xd === 0 && y2 === y1 - 2)
            : (xd === 2 && y2 === y1 - 2) || (xd === 0 && y2 === y1 + 2);
    };
}
function toriLeftQuail(playerIndex) {
    return (x1, y1, x2, y2) => {
        const xd = diff(x1, x2);
        const yd = diff(y1, y2);
        return playerIndex === 'p1'
            ? (x2 === x1 && y2 > y1) || (xd === yd && x2 > x1 && y2 < y1) || (x2 === x1 - 1 && y2 === y1 - 1)
            : (x2 === x1 && y2 < y1) || (xd === yd && x2 < x1 && y2 > y1) || (x2 === x1 + 1 && y2 === y1 + 1);
    };
}
function toriRightQuail(playerIndex) {
    return (x1, y1, x2, y2) => {
        const xd = diff(x1, x2);
        const yd = diff(y1, y2);
        return playerIndex === 'p1'
            ? (x2 === x1 && y2 > y1) || (xd === yd && x2 < x1 && y2 < y1) || (x2 === x1 + 1 && y2 === y1 - 1)
            : (x2 === x1 && y2 < y1) || (xd === yd && x2 > x1 && y2 > y1) || (x2 === x1 - 1 && y2 === y1 + 1);
    };
}
function toriPheasant(playerIndex) {
    return (x1, y1, x2, y2) => {
        const xd = diff(x1, x2);
        return playerIndex === 'p1'
            ? (x2 === x1 && y2 === y1 + 2) || (xd === 1 && y2 === y1 - 1)
            : (x2 === x1 && y2 === y1 - 2) || (xd === 1 && y2 === y1 + 1);
    };
}
const toriCrane = (x1, y1, x2, y2) => {
    return kingNoCastling(x1, y1, x2, y2) && y2 !== y1;
};
function toriFalcon(playerIndex) {
    return (x1, y1, x2, y2) => {
        return playerIndex === 'p1'
            ? kingNoCastling(x1, y1, x2, y2) && !(x2 === x1 && y2 === y1 - 1)
            : kingNoCastling(x1, y1, x2, y2) && !(x2 === x1 && y2 === y1 + 1);
    };
}
function toriEagle(playerIndex) {
    return (x1, y1, x2, y2) => {
        const xd = diff(x1, x2);
        const yd = diff(y1, y2);
        return playerIndex === 'p1'
            ? kingNoCastling(x1, y1, x2, y2) || (xd === yd && (y2 > y1 || (y2 < y1 && yd <= 2))) || (x2 === x1 && y2 < y1)
            : kingNoCastling(x1, y1, x2, y2) || (xd === yd && (y2 < y1 || (y2 > y1 && yd <= 2))) || (x2 === x1 && y2 > y1);
    };
}
function premove(pieces, key, canCastle, bd, variant, chess960) {
    const piece = pieces.get(key);
    const role = piece.role;
    const playerIndex = piece.playerIndex;
    if (!piece)
        return [];
    const pos = util.key2pos(key);
    let mobility;
    switch (variant) {
        case 'xiangqi':
        case 'manchu':
            switch (role) {
                case 'p-piece':
                    mobility = xiangqiPawn(playerIndex);
                    break;
                case 'c-piece':
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = xiangqiElephant(playerIndex);
                    break;
                case 'a-piece':
                    mobility = xiangqiAdvisor(playerIndex, bd);
                    break;
                case 'k-piece':
                    mobility = xiangqiKing(playerIndex, bd);
                    break;
                case 'm-piece':
                    mobility = chancellor;
                    break;
            }
            break;
        case 'janggi':
            switch (piece.role) {
                case 'p-piece':
                    mobility = janggiPawn(playerIndex, bd);
                    break;
                case 'c-piece':
                case 'r-piece':
                    mobility = janggiRook(bd);
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = janggiElephant;
                    break;
                case 'a-piece':
                case 'k-piece':
                    mobility = janggiKing(playerIndex, bd);
                    break;
            }
            break;
        case 'minixiangqi':
            {
                switch (piece.role) {
                    case 'p-piece':
                        mobility = minixiangqiPawn(playerIndex);
                        break;
                    case 'c-piece':
                    case 'r-piece':
                        mobility = rook;
                        break;
                    case 'n-piece':
                        mobility = exports.knight;
                        break;
                    case 'k-piece':
                        mobility = xiangqiKing(playerIndex, bd);
                        break;
                }
            }
            break;
        case 'shogi':
        case 'minishogi':
        case 'gorogoro':
            switch (piece.role) {
                case 'p-piece':
                    mobility = shogiPawn(playerIndex);
                    break;
                case 'l-piece':
                    mobility = shogiLance(playerIndex);
                    break;
                case 'n-piece':
                    mobility = shogiKnight(playerIndex);
                    break;
                case 'k-piece':
                    mobility = kingNoCastling;
                    break;
                case 's-piece':
                    mobility = shogiSilver(playerIndex);
                    break;
                case 'pp-piece':
                case 'pl-piece':
                case 'pn-piece':
                case 'ps-piece':
                case 'g-piece':
                    mobility = shogiGold(playerIndex);
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'pr-piece':
                    mobility = shogiDragon;
                    break;
                case 'pb-piece':
                    mobility = shogiHorse;
                    break;
            }
            break;
        case 'kyotoshogi':
            switch (piece.role) {
                case 'l-piece':
                    mobility = shogiLance(playerIndex);
                    break;
                case 'pl-piece':
                    mobility = shogiGold(playerIndex);
                    break;
                case 's-piece':
                    mobility = shogiSilver(playerIndex);
                    break;
                case 'ps-piece':
                    mobility = bishop;
                    break;
                case 'n-piece':
                    mobility = shogiKnight(playerIndex);
                    break;
                case 'pn-piece':
                    mobility = shogiGold(playerIndex);
                    break;
                case 'p-piece':
                    mobility = shogiPawn(playerIndex);
                    break;
                case 'pp-piece':
                    mobility = rook;
                    break;
                case 'k-piece':
                    mobility = kingNoCastling;
                    break;
            }
            break;
        case 'dobutsu':
            switch (piece.role) {
                case 'c-piece':
                    mobility = shogiPawn(playerIndex);
                    break;
                case 'e-piece':
                    mobility = ferz;
                    break;
                case 'g-piece':
                    mobility = wazir;
                    break;
                case 'l-piece':
                    mobility = kingNoCastling;
                    break;
                case 'pc-piece':
                    mobility = shogiGold(playerIndex);
                    break;
            }
            break;
        case 'torishogi':
            switch (role) {
                case 's-piece':
                    mobility = shogiPawn(playerIndex);
                    break;
                case 'ps-piece':
                    mobility = toriGoose(playerIndex);
                    break;
                case 'l-piece':
                    mobility = toriLeftQuail(playerIndex);
                    break;
                case 'r-piece':
                    mobility = toriRightQuail(playerIndex);
                    break;
                case 'p-piece':
                    mobility = toriPheasant(playerIndex);
                    break;
                case 'c-piece':
                    mobility = toriCrane;
                    break;
                case 'f-piece':
                    mobility = toriFalcon(playerIndex);
                    break;
                case 'pf-piece':
                    mobility = toriEagle(playerIndex);
                    break;
                case 'k-piece':
                    mobility = kingNoCastling;
                    break;
            }
            break;
        case 'makruk':
        case 'makpong':
        case 'sittuyin':
        case 'cambodian':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 's-piece':
                    mobility = shogiSilver(playerIndex);
                    break;
                case 'f-piece':
                case 'm-piece':
                    mobility = ferz;
                    break;
                case 'k-piece':
                    mobility = kingNoCastling;
                    break;
            }
            break;
        case 'grand':
        case 'grandhouse':
            switch (role) {
                case 'p-piece':
                    mobility = grandPawn(playerIndex);
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'c-piece':
                    mobility = chancellor;
                    break;
                case 'a-piece':
                    mobility = archbishop;
                    break;
                case 'k-piece':
                    mobility = kingNoCastling;
                    break;
            }
            break;
        case 'shako':
            switch (role) {
                case 'p-piece':
                    mobility = grandPawn(playerIndex);
                    break;
                case 'c-piece':
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'e-piece':
                    mobility = shakoElephant;
                    break;
                case 'k-piece':
                    mobility = kingShako(playerIndex, rookFilesOfShako(pieces, playerIndex), canCastle);
                    break;
            }
            break;
        case 'shogun':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'pp-piece':
                    mobility = kingNoCastling;
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'pr-piece':
                    mobility = chancellor;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'pn-piece':
                    mobility = centaur;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'pb-piece':
                    mobility = archbishop;
                    break;
                case 'f-piece':
                    mobility = ferz;
                    break;
                case 'pf-piece':
                    mobility = exports.queen;
                    break;
                case 'k-piece':
                    mobility = king(playerIndex, rookFilesOf(pieces, playerIndex), canCastle);
                    break;
            }
            break;
        case 'orda':
        case 'ordamirror':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'l-piece':
                    mobility = chancellor;
                    break;
                case 'h-piece':
                    mobility = centaur;
                    break;
                case 'a-piece':
                    mobility = archbishop;
                    break;
                case 'y-piece':
                    mobility = shogiSilver(playerIndex);
                    break;
                case 'f-piece':
                    mobility = amazon;
                    break;
                case 'k-piece':
                    mobility = king(playerIndex, rookFilesOf(pieces, playerIndex), canCastle);
                    break;
            }
            break;
        case 'synochess':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'c-piece':
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 's-piece':
                    mobility = minixiangqiPawn(playerIndex);
                    break;
                case 'e-piece':
                    mobility = shakoElephant;
                    break;
                case 'a-piece':
                    mobility = kingNoCastling;
                    break;
                case 'k-piece':
                    mobility = king(playerIndex, rookFilesOf(pieces, playerIndex), canCastle && playerIndex === 'p1');
                    break;
            }
            break;
        case 'musketeer':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'l-piece':
                    mobility = musketeerLeopard;
                    break;
                case 'o-piece':
                    mobility = musketeerCannon;
                    break;
                case 'u-piece':
                    mobility = musketeerUnicorn;
                    break;
                case 'd-piece':
                    mobility = musketeerDragon;
                    break;
                case 'c-piece':
                    mobility = chancellor;
                    break;
                case 'a-piece':
                    mobility = archbishop;
                    break;
                case 'e-piece':
                    mobility = musketeerElephant;
                    break;
                case 'h-piece':
                    mobility = musketeerHawk;
                    break;
                case 'f-piece':
                    mobility = musketeerFortress;
                    break;
                case 's-piece':
                    mobility = musketeerSpider;
                    break;
                case 'k-piece':
                    mobility = king(playerIndex, rookFilesOf(pieces, playerIndex), canCastle);
                    break;
            }
            break;
        case 'hoppelpoppel':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                case 'b-piece':
                    mobility = archbishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'k-piece':
                    mobility = king(playerIndex, rookFilesOf(pieces, playerIndex), canCastle);
                    break;
            }
            break;
        case 'shinobi':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'pl-piece':
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'ph-piece':
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'pm-piece':
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'pp-piece':
                case 'c-piece':
                    mobility = kingNoCastling;
                    break;
                case 'l-piece':
                    mobility = shogiLance(playerIndex);
                    break;
                case 'h-piece':
                    mobility = shogiKnight(playerIndex);
                    break;
                case 'm-piece':
                    mobility = ferz;
                    break;
                case 'd-piece':
                    mobility = shogiDragon;
                    break;
                case 'j-piece':
                    mobility = archbishop;
                    break;
                case 'k-piece':
                    mobility = king(playerIndex, rookFilesOf(pieces, playerIndex), canCastle);
                    break;
            }
            break;
        case 'empire':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 's-piece':
                    mobility = minixiangqiPawn(playerIndex);
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'd-piece':
                case 't-piece':
                case 'c-piece':
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'e-piece':
                    mobility = amazon;
                    break;
                case 'k-piece':
                    mobility = king(playerIndex, rookFilesOf(pieces, playerIndex), canCastle);
                    break;
            }
            break;
        case 'capablanca':
        case 'capahouse':
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'c-piece':
                    mobility = chancellor;
                    break;
                case 'a-piece':
                    mobility = archbishop;
                    break;
                case 'k-piece':
                    mobility = chess960
                        ? king960(playerIndex, rookFilesOf(pieces, playerIndex), canCastle)
                        : kingCapa(playerIndex, rookFilesOf(pieces, playerIndex), canCastle);
                    break;
            }
            break;
        default:
            switch (role) {
                case 'p-piece':
                    mobility = pawn(playerIndex);
                    break;
                case 'r-piece':
                    mobility = rook;
                    break;
                case 'n-piece':
                    mobility = exports.knight;
                    break;
                case 'b-piece':
                    mobility = bishop;
                    break;
                case 'q-piece':
                    mobility = exports.queen;
                    break;
                case 'e-piece':
                case 'c-piece':
                    mobility = chancellor;
                    break;
                case 'h-piece':
                case 'a-piece':
                    mobility = archbishop;
                    break;
                case 'k-piece':
                    mobility = chess960
                        ? king960(playerIndex, rookFilesOf(pieces, playerIndex), canCastle)
                        : king(playerIndex, rookFilesOf(pieces, playerIndex), canCastle);
                    break;
                case 'l-piece':
                    mobility = exports.loachecker;
                    break;
            }
    }
    return util
        .allKeys(bd)
        .map(util.key2pos)
        .filter(pos2 => {
        return (pos[0] !== pos2[0] || pos[1] !== pos2[1]) && mobility(pos[0], pos[1], pos2[0], pos2[1]);
    })
        .map(util.pos2key);
}
exports.premove = premove;

},{"./util":20}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateBounds = exports.render = void 0;
const util_1 = require("./util");
const board_1 = require("./board");
const T = require("./transformations");
function render(s) {
    const orientation = s.orientation, asP1 = (0, board_1.p1Pov)(s), posToTranslate = s.dom.relative ? util_1.posToTranslateRel : (0, util_1.posToTranslateAbs)(s.dom.bounds(), s.dimensions), translate = s.dom.relative ? util_1.translateRel : util_1.translateAbs, boardEl = s.dom.elements.board, pieces = s.pieces, curAnim = s.animation.current, anims = curAnim ? curAnim.plan.anims : new Map(), fadings = curAnim ? curAnim.plan.fadings : new Map(), curDrag = s.draggable.current, squares = computeSquareClasses(s), samePieces = new Set(), sameSquares = new Set(), movedPieces = new Map(), movedSquares = new Map();
    let k, el, pieceAtKey, elPieceName, anim, fading, pMvdset, pMvd, sMvdset, sMvd;
    el = boardEl.firstChild;
    while (el) {
        k = el.cgKey;
        if (isPieceNode(el)) {
            pieceAtKey = pieces.get(k);
            anim = anims.get(k);
            fading = fadings.get(k);
            elPieceName = el.cgPiece;
            if (el.cgDragging && (!curDrag || curDrag.orig !== k)) {
                el.classList.remove('dragging');
                translate(el, posToTranslate((0, util_1.key2pos)(k), orientation, s.dimensions));
                el.cgDragging = false;
            }
            if (!fading && el.cgFading) {
                el.cgFading = false;
                el.classList.remove('fading');
            }
            if (pieceAtKey) {
                if (anim && el.cgAnimating && elPieceName === pieceNameOf(pieceAtKey, s.myPlayerIndex)) {
                    const pos = (0, util_1.key2pos)(k);
                    pos[0] += anim[2];
                    pos[1] += anim[3];
                    el.classList.add('anim');
                    translate(el, posToTranslate(pos, orientation, s.dimensions));
                }
                else if (el.cgAnimating) {
                    el.cgAnimating = false;
                    el.classList.remove('anim');
                    translate(el, posToTranslate((0, util_1.key2pos)(k), orientation, s.dimensions));
                    if (s.addPieceZIndex)
                        el.style.zIndex = posZIndex((0, util_1.key2pos)(k), orientation, asP1, s.dimensions);
                }
                if (elPieceName === pieceNameOf(pieceAtKey, s.myPlayerIndex) && (!fading || !el.cgFading)) {
                    samePieces.add(k);
                }
                else {
                    if (fading && elPieceName === pieceNameOf(fading, s.myPlayerIndex)) {
                        el.classList.add('fading');
                        el.cgFading = true;
                    }
                    else {
                        appendValue(movedPieces, elPieceName, el);
                    }
                }
            }
            else {
                appendValue(movedPieces, elPieceName, el);
            }
        }
        else if (isSquareNode(el)) {
            const cn = el.className;
            if (squares.get(k) === cn)
                sameSquares.add(k);
            else if (movedSquares.has(cn))
                appendValue(movedSquares, cn, el);
            else
                movedSquares.set(cn, [el]);
        }
        el = el.nextSibling;
    }
    for (const [sk, className] of squares) {
        if (!sameSquares.has(sk)) {
            sMvdset = movedSquares.get(className);
            sMvd = sMvdset && sMvdset.pop();
            const translation = posToTranslate((0, util_1.key2pos)(sk), orientation, s.dimensions);
            if (sMvd) {
                sMvd.cgKey = sk;
                translate(sMvd, translation);
            }
            else {
                const squareNode = (0, util_1.createEl)('square', className);
                squareNode.cgKey = sk;
                translate(squareNode, translation);
                boardEl.insertBefore(squareNode, boardEl.firstChild);
            }
        }
    }
    for (const [k, p] of pieces) {
        anim = anims.get(k);
        if (!samePieces.has(k)) {
            pMvdset = movedPieces.get(pieceNameOf(p, s.myPlayerIndex));
            pMvd = pMvdset && pMvdset.pop();
            if (pMvd) {
                pMvd.cgKey = k;
                if (pMvd.cgFading) {
                    pMvd.classList.remove('fading');
                    pMvd.cgFading = false;
                }
                const pos = (0, util_1.key2pos)(k);
                if (s.addPieceZIndex)
                    pMvd.style.zIndex = posZIndex(pos, orientation, asP1, s.dimensions);
                if (anim) {
                    pMvd.cgAnimating = true;
                    pMvd.classList.add('anim');
                    pos[0] += anim[2];
                    pos[1] += anim[3];
                }
                translate(pMvd, posToTranslate(pos, orientation, s.dimensions));
            }
            else {
                const pieceName = pieceNameOf(p, s.myPlayerIndex), pieceNode = (0, util_1.createEl)('piece', pieceName), pos = (0, util_1.key2pos)(k);
                pieceNode.cgPiece = pieceName;
                pieceNode.cgKey = k;
                if (anim) {
                    pieceNode.cgAnimating = true;
                    pos[0] += anim[2];
                    pos[1] += anim[3];
                }
                translate(pieceNode, posToTranslate(pos, orientation, s.dimensions));
                if (s.addPieceZIndex)
                    pieceNode.style.zIndex = posZIndex(pos, orientation, asP1, s.dimensions);
                boardEl.appendChild(pieceNode);
            }
        }
    }
    for (const nodes of movedPieces.values())
        removeNodes(s, nodes);
    for (const nodes of movedSquares.values())
        removeNodes(s, nodes);
}
exports.render = render;
function updateBounds(s) {
    if (s.dom.relative)
        return;
    const orientation = s.orientation, posToTranslate = (0, util_1.posToTranslateAbs)(s.dom.bounds(), s.dimensions);
    let el = s.dom.elements.board.firstChild;
    while (el) {
        if ((isPieceNode(el) && !el.cgAnimating) || isSquareNode(el)) {
            (0, util_1.translateAbs)(el, posToTranslate((0, util_1.key2pos)(el.cgKey), orientation));
        }
        el = el.nextSibling;
    }
}
exports.updateBounds = updateBounds;
function isPieceNode(el) {
    return el.tagName === 'PIECE';
}
function isSquareNode(el) {
    return el.tagName === 'SQUARE';
}
function removeNodes(s, nodes) {
    for (const node of nodes)
        s.dom.elements.board.removeChild(node);
}
function posZIndex(pos, orientation, asP1, bd) {
    pos = T.mapToP1[orientation](pos, bd);
    let z = 2 + (pos[1] - 1) * bd.height + (bd.width - pos[0]);
    if (asP1)
        z = 67 - z;
    return z + '';
}
function pieceNameOf(piece, myPlayerIndex) {
    const promoted = piece.promoted ? 'promoted ' : '';
    const side = piece.playerIndex === myPlayerIndex ? 'ally' : 'enemy';
    return `${piece.playerIndex} ${promoted}${piece.role} ${side}`;
}
function computeSquareClasses(s) {
    var _a, _b, _c, _d;
    const squares = new Map();
    if (s.lastMove && s.highlight.lastMove)
        for (const k of s.lastMove) {
            if (k !== 'a0') {
                addSquare(squares, k, 'last-move');
            }
        }
    if (s.check && s.highlight.check)
        addSquare(squares, s.check, 'check');
    if (s.selected) {
        addSquare(squares, s.selected, 'selected');
        if (s.movable.showDests) {
            const dests = (_a = s.movable.dests) === null || _a === void 0 ? void 0 : _a.get(s.selected);
            if (dests)
                for (const k of dests) {
                    addSquare(squares, k, 'move-dest' + (s.pieces.has(k) ? ' oc' : ''));
                }
            const pDests = s.premovable.dests;
            if (pDests)
                for (const k of pDests) {
                    addSquare(squares, k, 'premove-dest' + (s.pieces.has(k) ? ' oc' : ''));
                }
        }
    }
    else if (s.dropmode.active || ((_b = s.draggable.current) === null || _b === void 0 ? void 0 : _b.orig) === 'a0') {
        const piece = s.dropmode.active ? s.dropmode.piece : (_c = s.draggable.current) === null || _c === void 0 ? void 0 : _c.piece;
        if (piece) {
            if (s.dropmode.showDropDests) {
                const dests = (_d = s.dropmode.dropDests) === null || _d === void 0 ? void 0 : _d.get(piece.role);
                if (dests)
                    for (const k of dests) {
                        addSquare(squares, k, 'move-dest');
                    }
            }
            if (s.predroppable.showDropDests) {
                const pDests = s.predroppable.dropDests;
                if (pDests)
                    for (const k of pDests) {
                        addSquare(squares, k, 'premove-dest' + (s.pieces.has(k) ? ' oc' : ''));
                    }
            }
        }
    }
    const premove = s.premovable.current;
    if (premove)
        for (const k of premove)
            addSquare(squares, k, 'current-premove');
    else if (s.predroppable.current)
        addSquare(squares, s.predroppable.current.key, 'current-premove');
    const o = s.exploding;
    if (o)
        for (const k of o.keys)
            addSquare(squares, k, 'exploding' + o.stage);
    return squares;
}
function addSquare(squares, key, klass) {
    const classes = squares.get(key);
    if (classes)
        squares.set(key, `${classes} ${klass}`);
    else
        squares.set(key, klass);
}
function appendValue(map, key, value) {
    const arr = map.get(key);
    if (arr)
        arr.push(value);
    else
        map.set(key, [value]);
}

},{"./board":3,"./transformations":18,"./util":20}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.defaults = void 0;
const fen = require("./fen");
const util_1 = require("./util");
function defaults() {
    return {
        pieces: fen.read(fen.initial, { width: 8, height: 8 }, 'chess'),
        orientation: 'p1',
        myPlayerIndex: 'p1',
        startPlayerIndex: 'p1',
        turnPlayerIndex: 'p1',
        coordinates: true,
        autoCastle: true,
        viewOnly: false,
        disableContextMenu: false,
        resizable: true,
        addPieceZIndex: false,
        pieceKey: false,
        highlight: {
            lastMove: true,
            check: true,
        },
        animation: {
            enabled: true,
            duration: 200,
        },
        movable: {
            free: true,
            playerIndex: 'both',
            showDests: true,
            events: {},
            rookCastle: true,
        },
        premovable: {
            enabled: true,
            showDests: true,
            castle: true,
            events: {},
        },
        predroppable: {
            enabled: false,
            showDropDests: true,
            events: {},
        },
        draggable: {
            enabled: true,
            distance: 3,
            autoDistance: true,
            centerPiece: true,
            showGhost: true,
            deleteOnDropOff: false,
        },
        dropmode: {
            active: false,
            showDropDests: true,
        },
        selectable: {
            enabled: true,
        },
        stats: {
            dragged: !('ontouchstart' in window),
        },
        events: {},
        drawable: {
            enabled: true,
            visible: true,
            defaultSnapToValidMove: true,
            eraseOnClick: true,
            shapes: [],
            autoShapes: [],
            brushes: {
                green: { key: 'g', color: '#15781B', opacity: 1, lineWidth: 10 },
                red: { key: 'r', color: '#882020', opacity: 1, lineWidth: 10 },
                blue: { key: 'b', color: '#003088', opacity: 1, lineWidth: 10 },
                yellow: { key: 'y', color: '#e68f00', opacity: 1, lineWidth: 10 },
                paleBlue: { key: 'pb', color: '#003088', opacity: 0.4, lineWidth: 15 },
                paleGreen: { key: 'pg', color: '#15781B', opacity: 0.4, lineWidth: 15 },
                paleRed: { key: 'pr', color: '#882020', opacity: 0.4, lineWidth: 15 },
                paleGrey: {
                    key: 'pgr',
                    color: '#4a4a4a',
                    opacity: 0.35,
                    lineWidth: 15,
                },
            },
            pieces: {
                baseUrl: 'https://playstrategy.org/assets/piece/cburnett/',
            },
            prevSvgHash: '',
        },
        hold: (0, util_1.timer)(),
        dimensions: { width: 8, height: 8 },
        variant: 'chess',
        chess960: false,
        notation: 0,
        onlyDropsVariant: false,
    };
}
exports.defaults = defaults;

},{"./fen":11,"./util":20}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setAttributes = exports.renderSvg = exports.createElement = void 0;
const util_1 = require("./util");
const T = require("./transformations");
function createElement(tagName) {
    return document.createElementNS('http://www.w3.org/2000/svg', tagName);
}
exports.createElement = createElement;
function renderSvg(state, svg, customSvg) {
    const d = state.drawable, curD = d.current, cur = curD && curD.mouseSq ? curD : undefined, arrowDests = new Map(), bounds = state.dom.bounds();
    for (const s of d.shapes.concat(d.autoShapes).concat(cur ? [cur] : [])) {
        if (s.dest)
            arrowDests.set(s.dest, (arrowDests.get(s.dest) || 0) + 1);
    }
    const shapes = d.shapes.concat(d.autoShapes).map((s) => {
        return {
            shape: s,
            current: false,
            hash: shapeHash(s, arrowDests, false, bounds),
        };
    });
    if (cur)
        shapes.push({
            shape: cur,
            current: true,
            hash: shapeHash(cur, arrowDests, true, bounds),
        });
    const fullHash = shapes.map(sc => sc.hash).join(';');
    if (fullHash === state.drawable.prevSvgHash)
        return;
    state.drawable.prevSvgHash = fullHash;
    const defsEl = svg.querySelector('defs');
    const shapesEl = svg.querySelector('g');
    const customSvgsEl = customSvg.querySelector('g');
    syncDefs(d, shapes, defsEl);
    syncShapes(state, shapes.filter(s => !s.shape.customSvg), d.brushes, arrowDests, shapesEl);
    syncShapes(state, shapes.filter(s => s.shape.customSvg), d.brushes, arrowDests, customSvgsEl);
}
exports.renderSvg = renderSvg;
function syncDefs(d, shapes, defsEl) {
    const brushes = new Map();
    let brush;
    for (const s of shapes) {
        if (s.shape.dest) {
            brush = d.brushes[s.shape.brush];
            if (s.shape.modifiers)
                brush = makeCustomBrush(brush, s.shape.modifiers);
            brushes.set(brush.key, brush);
        }
    }
    const keysInDom = new Set();
    let el = defsEl.firstChild;
    while (el) {
        keysInDom.add(el.getAttribute('cgKey'));
        el = el.nextSibling;
    }
    for (const [key, brush] of brushes.entries()) {
        if (!keysInDom.has(key))
            defsEl.appendChild(renderMarker(brush));
    }
}
function syncShapes(state, shapes, brushes, arrowDests, root) {
    const bounds = state.dom.bounds(), hashesInDom = new Map(), toRemove = [];
    for (const sc of shapes)
        hashesInDom.set(sc.hash, false);
    let el = root.firstChild, elHash;
    while (el) {
        elHash = el.getAttribute('cgHash');
        if (hashesInDom.has(elHash))
            hashesInDom.set(elHash, true);
        else
            toRemove.push(el);
        el = el.nextSibling;
    }
    for (const el of toRemove)
        root.removeChild(el);
    for (const sc of shapes) {
        if (!hashesInDom.get(sc.hash))
            root.appendChild(renderShape(state, sc, brushes, arrowDests, bounds));
    }
}
function shapeHash({ orig, dest, brush, piece, modifiers, customSvg }, arrowDests, current, bounds) {
    return [
        bounds.width,
        bounds.height,
        current,
        orig,
        dest,
        brush,
        dest && (arrowDests.get(dest) || 0) > 1,
        piece && pieceHash(piece),
        modifiers && modifiersHash(modifiers),
        customSvg && customSvgHash(customSvg),
    ]
        .filter(x => x)
        .join(',');
}
function pieceHash(piece) {
    return [piece.playerIndex, piece.role, piece.scale].filter(x => x).join(',');
}
function modifiersHash(m) {
    return '' + (m.lineWidth || '');
}
function customSvgHash(s) {
    let h = 0;
    for (let i = 0; i < s.length; i++) {
        h = ((h << 5) - h + s.charCodeAt(i)) >>> 0;
    }
    return 'custom-' + h.toString();
}
function renderShape(state, { shape, current, hash }, brushes, arrowDests, bounds) {
    let el;
    if (shape.customSvg) {
        const orig = orient((0, util_1.key2pos)(shape.orig), state.orientation, state.dimensions);
        el = renderCustomSvg(shape.customSvg, orig, bounds, state.dimensions);
    }
    else if (shape.piece)
        el = renderPiece(state.drawable.pieces.baseUrl, orient((0, util_1.key2pos)(shape.orig), state.orientation, state.dimensions), shape.piece, bounds, state.dimensions, state.myPlayerIndex, state.variant);
    else {
        const orig = orient((0, util_1.key2pos)(shape.orig), state.orientation, state.dimensions);
        if (shape.orig && shape.dest) {
            let brush = brushes[shape.brush];
            if (shape.modifiers)
                brush = makeCustomBrush(brush, shape.modifiers);
            el = renderArrow(brush, orig, orient((0, util_1.key2pos)(shape.dest), state.orientation, state.dimensions), current, (arrowDests.get(shape.dest) || 0) > 1, bounds, state.dimensions);
        }
        else
            el = renderCircle(brushes[shape.brush], orig, current, bounds, state.dimensions);
    }
    el.setAttribute('cgHash', hash);
    return el;
}
function renderCustomSvg(customSvg, pos, bounds, bd) {
    const { width, height } = bounds;
    const w = width / bd.width;
    const h = height / bd.height;
    const x = (pos[0] - 1) * w;
    const y = (bd.height - pos[1]) * h;
    const g = setAttributes(createElement('g'), { transform: `translate(${x},${y})` });
    const svg = setAttributes(createElement('svg'), { width: w, height: h, viewBox: '0 0 100 100' });
    g.appendChild(svg);
    svg.innerHTML = customSvg;
    return g;
}
function renderCircle(brush, pos, current, bounds, bd) {
    const o = pos2px(pos, bounds, bd), widths = circleWidth(bounds, bd), radius = (bounds.width + bounds.height) / (2 * (bd.height + bd.width));
    return setAttributes(createElement('circle'), {
        stroke: brush.color,
        'stroke-width': widths[current ? 0 : 1],
        fill: 'none',
        opacity: opacity(brush, current),
        cx: o[0],
        cy: o[1],
        r: radius - widths[1] / 2,
    });
}
function renderArrow(brush, orig, dest, current, shorten, bounds, bd) {
    const m = arrowMargin(bounds, shorten && !current, bd), a = pos2px(orig, bounds, bd), b = pos2px(dest, bounds, bd), dx = b[0] - a[0], dy = b[1] - a[1], angle = Math.atan2(dy, dx), xo = Math.cos(angle) * m, yo = Math.sin(angle) * m;
    return setAttributes(createElement('line'), {
        stroke: brush.color,
        'stroke-width': lineWidth(brush, current, bounds, bd),
        'stroke-linecap': 'round',
        'marker-end': 'url(#arrowhead-' + brush.key + ')',
        opacity: opacity(brush, current),
        x1: a[0],
        y1: a[1],
        x2: b[0] - xo,
        y2: b[1] - yo,
    });
}
function renderPiece(baseUrl, pos, piece, bounds, bd, myPlayerIndex, variant) {
    const o = pos2px(pos, bounds, bd), width = (bounds.width / bd.width) * (piece.scale || 1), height = (bounds.height / bd.height) * (piece.scale || 1), name = roleToSvgName(variant, piece);
    const href = baseUrl.endsWith('/') ? baseUrl.slice('https://playstrategy.org'.length) + name + '.svg' : baseUrl;
    const side = piece.playerIndex === myPlayerIndex ? 'ally' : 'enemy';
    return setAttributes(createElement('image'), {
        className: `${piece.role} ${piece.playerIndex} ${side}`,
        x: o[0] - width / 2,
        y: o[1] - height / 2,
        width: width,
        height: height,
        href: href,
    });
}
function renderMarker(brush) {
    const marker = setAttributes(createElement('marker'), {
        id: 'arrowhead-' + brush.key,
        orient: 'auto',
        markerWidth: 4,
        markerHeight: 8,
        refX: 2.05,
        refY: 2.01,
    });
    marker.appendChild(setAttributes(createElement('path'), {
        d: 'M0,0 V4 L3,2 Z',
        fill: brush.color,
    }));
    marker.setAttribute('cgKey', brush.key);
    return marker;
}
function setAttributes(el, attrs) {
    for (const key in attrs)
        el.setAttribute(key, attrs[key]);
    return el;
}
exports.setAttributes = setAttributes;
function orient(pos, orientation, bd) {
    return T.mapToP1Inverse[orientation](pos, bd);
}
function makeCustomBrush(base, modifiers) {
    return {
        color: base.color,
        opacity: Math.round(base.opacity * 10) / 10,
        lineWidth: Math.round(modifiers.lineWidth || base.lineWidth),
        key: [base.key, modifiers.lineWidth].filter(x => x).join(''),
    };
}
function circleWidth(bounds, bd) {
    const base = bounds.width / (bd.width * 64);
    return [3 * base, 4 * base];
}
function lineWidth(brush, current, bounds, bd) {
    return (((brush.lineWidth || 10) * (current ? 0.85 : 1)) / (bd.width * 64)) * bounds.width;
}
function opacity(brush, current) {
    return (brush.opacity || 1) * (current ? 0.9 : 1);
}
function arrowMargin(bounds, shorten, bd) {
    return ((shorten ? 20 : 10) / (bd.width * 64)) * bounds.width;
}
function pos2px(pos, bounds, bd) {
    return [((pos[0] - 0.5) * bounds.width) / bd.width, ((bd.height + 0.5 - pos[1]) * bounds.height) / bd.height];
}
function roleToSvgName(variant, piece) {
    switch (variant) {
        case 'shogi':
            switch (piece.role) {
                case 'pp-piece':
                    return '0' + 'TO';
                case 'pl-piece':
                    return '0' + 'NY';
                case 'pn-piece':
                    return '0' + 'NK';
                case 'ps-piece':
                    return '0' + 'NG';
                case 'pr-piece':
                    return '0' + 'RY';
                case 'pb-piece':
                    return '0' + 'UM';
                case 'p-piece':
                    return '0FU';
                case 'l-piece':
                    return '0KY';
                case 'n-piece':
                    return '0KE';
                case 's-piece':
                    return '0GI';
                case 'r-piece':
                    return '0HI';
                case 'b-piece':
                    return '0KA';
                case 'g-piece':
                    return '0KI';
                case 'k-piece':
                    return piece.playerIndex === 'p1' ? '0GY' : '0OU';
                default:
                    return '';
            }
        case 'xiangqi':
            return (piece.playerIndex === 'p1' ? 'R' : 'B') + piece.role[0].toUpperCase();
        case 'flipello':
        case 'linesOfAction':
            return (piece.playerIndex === 'p1' ? 'b' : 'w') + piece.role[0].toUpperCase();
        case 'oware': {
            const asciiNum = piece.role[0].charCodeAt(0);
            return asciiNum > 90 ? (asciiNum - 70).toString() : (asciiNum - 64).toString();
        }
        default:
            return (piece.playerIndex === 'p1' ? 'w' : 'b') + piece.role[0].toUpperCase();
    }
}

},{"./transformations":18,"./util":20}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.translateBase = exports.mapToP1Inverse = exports.mapToP1 = void 0;
exports.mapToP1 = {
    p1: (pos, _) => pos,
    p2: (pos, bt) => [bt.width + 1 - pos[0], bt.height + 1 - pos[1]],
    right: (pos, bt) => [bt.height + 1 - pos[1], pos[0]],
    left: (pos, bt) => [pos[1], bt.width + 1 - pos[0]],
};
exports.mapToP1Inverse = {
    p1: (pos, _) => pos,
    p2: (pos, bt) => [bt.width + 1 - pos[0], bt.height + 1 - pos[1]],
    right: (pos, bt) => [pos[1], bt.width + 1 - pos[0]],
    left: (pos, bt) => [bt.width + 1 - pos[0], pos[1]],
};
exports.translateBase = {
    p1: (pos, xScale, yScale, bt) => [
        (pos[0] - 1) * xScale,
        (bt.height - pos[1]) * yScale,
    ],
    p2: (pos, xScale, yScale, bt) => [
        (bt.width - pos[0]) * xScale,
        (pos[1] - 1) * yScale,
    ],
    right: (pos, xScale, yScale, _) => [(pos[1] - 1) * xScale, (pos[0] - 1) * yScale],
    left: (pos, xScale, yScale, bt) => [
        (bt.width - pos[0]) * xScale,
        (pos[1] - 1) * yScale,
    ],
};

},{}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.xiangqiVariants = exports.shogiVariants = exports.letters = exports.ranks10 = exports.ranks = exports.files = exports.playerIndexs = exports.orientations = void 0;
exports.orientations = ['p1', 'p2', 'left', 'right'];
exports.playerIndexs = ['p1', 'p2'];
exports.files = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j'];
exports.ranks = ['1', '2', '3', '4', '5', '6', '7', '8', '9', ':'];
exports.ranks10 = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];
exports.letters = [
    'a',
    'b',
    'c',
    'd',
    'e',
    'f',
    'g',
    'h',
    'i',
    'j',
    'k',
    'l',
    'm',
    'n',
    'o',
    'p',
    'q',
    'r',
    's',
    't',
    'u',
    'v',
    'w',
    'x',
    'y',
    'z',
    'A',
    'B',
    'C',
    'D',
    'E',
    'F',
    'G',
    'H',
    'I',
    'J',
    'K',
    'L',
    'M',
    'N',
    'O',
    'P',
    'Q',
    'R',
    'S',
    'T',
    'U',
    'V',
    'W',
    'X',
    'Y',
    'Z',
];
exports.shogiVariants = ['shogi', 'minishogi', 'kyotoshogi', 'dobutsu', 'gorogoro', 'torishogi'];
exports.xiangqiVariants = ['xiangqi', 'minixiangqi', 'manchu', 'janggi'];

},{}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.callUserFunction = exports.computeSquareCenter = exports.createEl = exports.isRightButton = exports.eventPosition = exports.setVisible = exports.translateRel = exports.translateAbs = exports.posToTranslateRel = exports.posToTranslateAbs = exports.samePiece = exports.distanceSq = exports.containsX = exports.isPlayerIndex = exports.orientationForLOA = exports.oppositeOrientationForLOA = exports.oppositeOrientation = exports.opposite = exports.timer = exports.memo = exports.allPos = exports.key2pos = exports.pos2key = exports.allKeys = exports.invNRanks = exports.NRanks = exports.invRanks = exports.playerIndexs = void 0;
const cg = require("./types");
const T = require("./transformations");
exports.playerIndexs = ['p1', 'p2'];
exports.invRanks = [...cg.ranks10].reverse();
exports.NRanks = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
exports.invNRanks = [10, 9, 8, 7, 6, 5, 4, 3, 2, 1];
function files(n) {
    return cg.files.slice(0, n);
}
function ranks(n) {
    return cg.ranks10.slice(0, n);
}
function allKeys(bd = { width: 8, height: 8 }) {
    return Array.prototype.concat(...files(bd.width).map(c => ranks(bd.height).map(r => c + r)));
}
exports.allKeys = allKeys;
function pos2key(pos) {
    return (cg.files[pos[0] - 1] + cg.ranks10[pos[1] - 1]);
}
exports.pos2key = pos2key;
function key2pos(k) {
    return [k.charCodeAt(0) - 96, parseInt(k.slice(1))];
}
exports.key2pos = key2pos;
const allPos = (bd) => allKeys(bd).map(key2pos);
exports.allPos = allPos;
function memo(f) {
    let v;
    const ret = () => {
        if (v === undefined)
            v = f();
        return v;
    };
    ret.clear = () => {
        v = undefined;
    };
    return ret;
}
exports.memo = memo;
const timer = () => {
    let startAt;
    return {
        start() {
            startAt = performance.now();
        },
        cancel() {
            startAt = undefined;
        },
        stop() {
            if (!startAt)
                return 0;
            const time = performance.now() - startAt;
            startAt = undefined;
            return time;
        },
    };
};
exports.timer = timer;
const opposite = (c) => (c === 'p1' ? 'p2' : 'p1');
exports.opposite = opposite;
const flipOrientationLookup = {
    p1: 'p2',
    p2: 'p1',
    left: 'right',
    right: 'left',
};
const oppositeOrientation = (c) => flipOrientationLookup[c];
exports.oppositeOrientation = oppositeOrientation;
const flipOrientationLookupForLOA = {
    p1: 'right',
    p2: 'p1',
};
const oppositeOrientationForLOA = (c) => flipOrientationLookupForLOA[c];
exports.oppositeOrientationForLOA = oppositeOrientationForLOA;
const orientationLookupForLOA = {
    p1: 'p1',
    p2: 'right',
};
const orientationForLOA = (c) => orientationLookupForLOA[c];
exports.orientationForLOA = orientationForLOA;
const isPlayerIndex = (c) => c === 'p1' || c === 'p2';
exports.isPlayerIndex = isPlayerIndex;
function containsX(xs, x) {
    return xs !== undefined && xs.indexOf(x) !== -1;
}
exports.containsX = containsX;
const distanceSq = (pos1, pos2) => {
    const dx = pos1[0] - pos2[0], dy = pos1[1] - pos2[1];
    return dx * dx + dy * dy;
};
exports.distanceSq = distanceSq;
const samePiece = (player1, player2) => {
    return player1.role === player2.role && player1.playerIndex === player2.playerIndex;
};
exports.samePiece = samePiece;
const posToTranslateBase = (pos, orientation, xFactor, yFactor, bt) => {
    return T.translateBase[orientation](pos, xFactor, yFactor, bt);
};
const posToTranslateAbs = (bounds, bt) => {
    const xFactor = bounds.width / bt.width, yFactor = bounds.height / bt.height;
    return (pos, orientation) => posToTranslateBase(pos, orientation, xFactor, yFactor, bt);
};
exports.posToTranslateAbs = posToTranslateAbs;
const posToTranslateRel = (pos, orientation, bt) => posToTranslateBase(pos, orientation, 100, 100, bt);
exports.posToTranslateRel = posToTranslateRel;
const translateAbs = (el, pos) => {
    el.style.transform = `translate(${pos[0]}px,${pos[1]}px)`;
};
exports.translateAbs = translateAbs;
const translateRel = (el, percents) => {
    el.style.transform = `translate(${percents[0]}%,${percents[1]}%)`;
};
exports.translateRel = translateRel;
const setVisible = (el, v) => {
    el.style.visibility = v ? 'visible' : 'hidden';
};
exports.setVisible = setVisible;
const eventPosition = (e) => {
    var _a;
    if (e.clientX || e.clientX === 0)
        return [e.clientX, e.clientY];
    if ((_a = e.targetTouches) === null || _a === void 0 ? void 0 : _a[0])
        return [e.targetTouches[0].clientX, e.targetTouches[0].clientY];
    return;
};
exports.eventPosition = eventPosition;
const isRightButton = (e) => e.buttons === 2 || e.button === 2;
exports.isRightButton = isRightButton;
const createEl = (tagName, className) => {
    const el = document.createElement(tagName);
    if (className)
        el.className = className;
    return el;
};
exports.createEl = createEl;
function computeSquareCenter(key, orientation, bounds, bd) {
    const pos = T.mapToP1Inverse[orientation](key2pos(key), bd);
    return [
        bounds.left + (bounds.width * (pos[0] - 1 + 0.5)) / bd.width,
        bounds.top + (bounds.height * (bd.height - (pos[1] - 1 + 0.5))) / bd.height,
    ];
}
exports.computeSquareCenter = computeSquareCenter;
function callUserFunction(f, ...args) {
    if (f)
        setTimeout(() => f(...args), 1);
}
exports.callUserFunction = callUserFunction;

},{"./transformations":18,"./types":19}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.renderWrap = void 0;
const util_1 = require("./util");
const types_1 = require("./types");
const svg_1 = require("./svg");
function renderWrap(element, s, relative) {
    element.innerHTML = '';
    element.classList.add('cg-wrap');
    for (const c of types_1.orientations)
        element.classList.toggle('orientation-' + c, s.orientation === c);
    element.classList.toggle('manipulable', !s.viewOnly);
    const helper = (0, util_1.createEl)('cg-helper');
    element.appendChild(helper);
    const container = (0, util_1.createEl)('cg-container');
    helper.appendChild(container);
    const extension = (0, util_1.createEl)('extension');
    container.appendChild(extension);
    const board = (0, util_1.createEl)('cg-board');
    container.appendChild(board);
    let svg;
    let customSvg;
    if (s.drawable.visible && !relative) {
        svg = (0, svg_1.setAttributes)((0, svg_1.createElement)('svg'), { class: 'cg-shapes' });
        svg.appendChild((0, svg_1.createElement)('defs'));
        svg.appendChild((0, svg_1.createElement)('g'));
        customSvg = (0, svg_1.setAttributes)((0, svg_1.createElement)('svg'), { class: 'cg-custom-svgs' });
        customSvg.appendChild((0, svg_1.createElement)('g'));
        container.appendChild(svg);
        container.appendChild(customSvg);
    }
    if (s.coordinates) {
        const orientClass = ' ' + s.orientation;
        const shogi = types_1.shogiVariants.includes(s.variant);
        const xiangqi = types_1.xiangqiVariants.includes(s.variant);
        if (shogi) {
            container.appendChild(renderCoords(types_1.ranks.slice(0, s.dimensions.height).reverse(), 'files' + orientClass));
            container.appendChild(renderCoords(types_1.ranks.slice(0, s.dimensions.width).reverse(), 'ranks' + orientClass));
        }
        else if (s.notation === 6) {
            container.appendChild(renderCoords(['0'].concat(types_1.ranks.slice(0, 9).reverse()), 'ranks' + orientClass));
            container.appendChild(renderCoords(types_1.ranks.slice(0, 9), 'files' + orientClass));
        }
        else if (xiangqi) {
            if (s.orientation === 'p1') {
                container.appendChild(renderCoords(types_1.ranks10.slice(0, s.dimensions.width).reverse(), 'files' + ' p1'));
                container.appendChild(renderCoords(types_1.ranks10.slice(0, s.dimensions.width).reverse(), 'files' + ' p2'));
            }
            else {
                container.appendChild(renderCoords(types_1.ranks10.slice(0, s.dimensions.width), 'files' + ' p1'));
                container.appendChild(renderCoords(types_1.ranks10.slice(0, s.dimensions.width), 'files' + ' p2'));
            }
        }
        else if (s.variant === 'flipello') {
            container.appendChild(renderCoords(types_1.ranks10.slice(0, s.dimensions.height).reverse(), 'ranks' + orientClass));
            container.appendChild(renderCoords(types_1.files.slice(0, s.dimensions.width), 'files' + orientClass));
        }
        else if (s.variant === 'oware') {
            if (s.orientation === 'p1') {
                container.appendChild(renderCoords(types_1.files.slice(0, s.dimensions.width).map(x => x.toUpperCase()), 'files' + ' p1'));
                container.appendChild(renderCoords(types_1.files.slice(0, s.dimensions.width), 'files' + ' p2'));
            }
            else {
                container.appendChild(renderCoords(types_1.files
                    .slice(0, s.dimensions.width)
                    .map(x => x.toUpperCase())
                    .reverse(), 'files' + ' p1'));
                container.appendChild(renderCoords(types_1.files.slice(0, s.dimensions.width).reverse(), 'files' + ' p2'));
            }
        }
        else {
            container.appendChild(renderCoords(types_1.ranks10.slice(0, s.dimensions.height), 'ranks' + orientClass));
            container.appendChild(renderCoords(types_1.files.slice(0, s.dimensions.width), 'files' + orientClass));
        }
    }
    let ghost;
    if (s.draggable.showGhost && !relative) {
        ghost = (0, util_1.createEl)('piece', 'ghost');
        (0, util_1.setVisible)(ghost, false);
        container.appendChild(ghost);
    }
    return {
        board,
        container,
        ghost,
        svg,
        customSvg,
    };
}
exports.renderWrap = renderWrap;
function renderCoords(elems, className) {
    const el = (0, util_1.createEl)('coords', className);
    let f;
    for (const elem of elems) {
        f = (0, util_1.createEl)('coord');
        f.textContent = elem;
        el.appendChild(f);
    }
    return el;
}

},{"./svg":17,"./types":19,"./util":20}]},{},[12])(12)
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYW5pbS50cyIsInNyYy9hcGkudHMiLCJzcmMvYm9hcmQudHMiLCJzcmMvY2hlc3Nncm91bmQudHMiLCJzcmMvY29uZmlnLnRzIiwic3JjL2RyYWcudHMiLCJzcmMvZHJhdy50cyIsInNyYy9kcm9wLnRzIiwic3JjL2V2ZW50cy50cyIsInNyYy9leHBsb3Npb24udHMiLCJzcmMvZmVuLnRzIiwic3JjL2luZGV4LmpzIiwic3JjL3ByZWRyb3AudHMiLCJzcmMvcHJlbW92ZS50cyIsInNyYy9yZW5kZXIudHMiLCJzcmMvc3RhdGUudHMiLCJzcmMvc3ZnLnRzIiwic3JjL3RyYW5zZm9ybWF0aW9ucy50cyIsInNyYy90eXBlcy50cyIsInNyYy91dGlsLnRzIiwic3JjL3dyYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUNDQSwrQkFBK0I7QUF3Qi9CLFNBQWdCLElBQUksQ0FBSSxRQUFxQixFQUFFLEtBQVk7SUFDekQsT0FBTyxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN0RixDQUFDO0FBRkQsb0JBRUM7QUFFRCxTQUFnQixNQUFNLENBQUksUUFBcUIsRUFBRSxLQUFZO0lBQzNELE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMvQixLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ25CLE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7QUFKRCx3QkFJQztBQVNELFNBQVMsU0FBUyxDQUFDLEdBQVcsRUFBRSxLQUFlO0lBQzdDLE9BQU87UUFDTCxHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEdB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LENBQUM7QUFDbEUsQ0FBQztBQUdELFNBQVMsVUFBVSxDQUFDLFdBQTJCO0lBQzdDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDckYsQ0FBQztBQUdELFNBQVMsV0FBVyxDQUFDLFdBQTJCO0lBQzlDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUN4QixJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsRyxDQUFDO0FBR0QsU0FBUyxTQUFTLENBQUMsV0FBMkI7SUFDNUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQ3hCLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxRyxDQUFDO0FBR0QsU0FBUyxTQUFTLENBQUMsV0FBMkI7SUFDNUMsT0FBTyxDQUFDLEVBQUUs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LElBQUksQ0FBQztRQUNyQixFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ25CO0lBQ0QsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBNdXRhdGlvbjxBPiA9IChzdGF0ZTogU3RhdGUpID0+IEE7XG5cbi8vIDAsMSBhbmltYXRpb24gZ29hbFxuLy8gMiwzIGFuaW1hdGlvbiBjdXJyZW50IHN0YXR1c1xuZXhwb3J0IHR5cGUgQW5pbVZlY3RvciA9IGNnLk51bWJlclF1YWQ7XG5cbmV4cG9ydCB0eXBlIEFuaW1WZWN0b3JzID0gTWFwPGNnLktleSwgQW5pbVZlY3Rvcj47XG5cbmV4cG9ydCB0eXBlIEFuaW1GYWRpbmdzID0gTWFwPGNnLktleSwgY2cuUGllY2U+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1QbGFuIHtcbiAgYW5pbXM6IEFuaW1WZWN0b3JzO1xuICBmYWRpbmdzOiBBbmltRmFkaW5ncztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbmltQ3VycmVudCB7XG4gIHN0YXJ0OiBET01IaWdoUmVzVGltZVN0YW1wO1xuICBmcmVxdWVuY3k6IGNnLktIejtcbiAgcGxhbjogQW5pbVBsYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmltPEE+KG11dGF0aW9uOiBNdXRhdGlvbjxBPiwgc3RhdGU6IFN0YXRlKTogQSB7XG4gIHJldHVybiBzdGF0ZS5hbmltYXRpb24uZW5hYmxlZCA/IGFuaW1hdGUobXV0YXRpb24sIHN0YXRlKSA6IHJlbmRlcihtdXRhdGlvbiwgc3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyPEE+KG11dGF0aW9uOiBNdXRhdGlvbjxBPiwgc3RhdGU6IFN0YXRlKTogQSB7XG4gIGNvbnN0IHJlc3VsdCA9IG11dGF0aW9uKHN0YXRlKTtcbiAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5pbnRlcmZhY2UgQW5pbVBpZWNlIHtcbiAga2V5OiBjZy5LZXk7XG4gIHBvczogY2cuUG9zO1xuICBwaWVjZTogY2cuUGllY2U7XG59XG50eXBlIEFuaW1QaWVjZXMgPSBNYXA8Y2cuS2V5LCBBbmltUGllY2U+O1xuXG5mdW5jdGlvbiBtYWtlUGllY2Uoa2V5OiBjZy5LZXksIHBpZWNlOiBjZy5QaWVjZSk6IEFuaW1QaWVjZSB7XG4gIHJldHVybiB7XG4gICAga2V5OiBrZXksXG4gICAgcG9zOiB1dGlsLmtleTJwb3Moa2V5KSxcbiAgICBwaWVjZTogcGllY2UsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsb3NlcihwaWVjZTogQW5pbVBpZWNlLCBwaWVjZXM6IEFuaW1QaWVjZVtdKTogQW5pbVBpZWNlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHBpZWNlcy5zb3J0KChwbGF5ZXIxLCBwbGF5ZXIyKSA9PiB7XG4gICAgcmV0dXJuIHV0aWwuZGlzdGFuY2VTcShwaWVjZS5wb3MsIHBsYXllcjEucG9zKSAtIHV0aWwuZGlzdGFuY2VTcShwaWVjZS5wb3MsIHBsYXllcjIucG9zKTtcbiAgfSlbMF07XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVQbGFuKHByZXZQaWVjZXM6IGNnLlBpZWNlcywgY3VycmVudDogU3RhdGUpOiBBbmltUGxhbiB7XG4gIGNvbnN0IGFuaW1zOiBBbmltVmVjdG9ycyA9IG5ldyBNYXAoKSxcbiAgICBhbmltZWRPcmlnczogY2cuS2V5W10gPSBbXSxcbiAgICBmYWRpbmdzOiBBbmltRmFkaW5ncyA9IG5ldyBNYXAoKSxcbiAgICBtaXNzaW5nczogQW5pbVBpZWNlW10gPSBbXSxcbiAgICBuZXdzOiBBbmltUGllY2VbXSA9IFtdLFxuICAgIHByZVBpZWNlczogQW5pbVBpZWNlcyA9IG5ldyBNYXAoKTtcbiAgbGV0IGN1clA6IGNnLlBpZWNlIHwgdW5kZWZpbmVkLCBwcmVQOiBBbmltUGllY2UgfCB1bmRlZmluZWQsIHZlY3RvcjogY2cuTnVtYmVyUGFpcjtcbiAgZm9yIChjb25zdCBbaywgcF0gb2YgcHJldlBpZWNlcykge1xuICAgIHByZVBpZWNlcy5zZXQoaywgbWFrZVBpZWNlKGssIHApKTtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLmFsbEtleXMoY3VycmVudC5kaW1lbnNpb25zKSkge1xuICAgIGN1clAgPSBjdXJyZW50LnBpZWNlcy5nZXQoa2V5KTtcbiAgICBwcmVQID0gcHJlUGllY2VzLmdldChrZXkpO1xuICAgIGlmIChjdXJQKSB7XG4gICAgICBpZiAocHJlUCkge1xuICAgICAgICBpZiAoIXV0aWwuc2FtZVBpZWNlKGN1clAsIHByZVAucGllY2UpKSB7XG4gICAgICAgICAgbWlzc2luZ3MucHVzaChwcmVQKTtcbiAgICAgICAgICBuZXdzLnB1c2gobWFrZVBpZWNlKGtleSwgY3VyUCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgbmV3cy5wdXNoKG1ha2VQaWVjZShrZXksIGN1clApKTtcbiAgICB9IGVsc2UgaWYgKHByZVApIG1pc3NpbmdzLnB1c2gocHJlUCk7XG4gIH1cbiAgZm9yIChjb25zdCBuZXdQIG9mIG5ld3MpIHtcbiAgICBwcmVQID0gY2xvc2VyKFxuICAgICAgbmV3UCxcbiAgICAgIG1pc3NpbmdzLmZpbHRlcihwID0+IHV0aWwuc2FtZVBpZWNlKG5ld1AucGllY2UsIHAucGllY2UpKVxuICAgICk7XG4gICAgaWYgKHByZVApIHtcbiAgICAgIHZlY3RvciA9IFtwcmVQLnBvc1swXSAtIG5ld1AucG9zWzBdLCBwcmVQLnBvc1sxXSAtIG5ld1AucG9zWzFdXTtcbiAgICAgIGFuaW1zLnNldChuZXdQLmtleSwgdmVjdG9yLmNvbmNhdCh2ZWN0b3IpIGFzIEFuaW1WZWN0b3IpO1xuICAgICAgYW5pbWVkT3JpZ3MucHVzaChwcmVQLmtleSk7XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgcCBvZiBtaXNzaW5ncykge1xuICAgIGlmICghYW5pbWVkT3JpZ3MuaW5jbHVkZXMocC5rZXkpKSBmYWRpbmdzLnNldChwLmtleSwgcC5waWVjZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFuaW1zOiBhbmltcyxcbiAgICBmYWRpbmdzOiBmYWRpbmdzLFxuICB9O1xufVxuXG5mdW5jdGlvbiBzdGVwKHN0YXRlOiBTdGF0ZSwgbm93OiBET01IaWdoUmVzVGltZVN0YW1wKTogdm9pZCB7XG4gIGNvbnN0IGN1ciA9IHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50O1xuICBpZiAoY3VyID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBhbmltYXRpb24gd2FzIGNhbmNlbGVkIDooXG4gICAgaWYgKCFzdGF0ZS5kb20uZGVzdHJveWVkKSBzdGF0ZS5kb20ucmVkcmF3Tm93KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlc3QgPSAxIC0gKG5vdyAtIGN1ci5zdGFydCkgKiBjdXIuZnJlcXVlbmN5O1xuICBpZiAocmVzdCA8PSAwKSB7XG4gICAgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgc3RhdGUuZG9tLnJlZHJhd05vdygpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGVhc2UgPSBlYXNpbmcocmVzdCk7XG4gICAgZm9yIChjb25zdCBjZmcgb2YgY3VyLnBsYW4uYW5pbXMudmFsdWVzKCkpIHtcbiAgICAgIGNmZ1syXSA9IGNmZ1swXSAqIGVhc2U7XG4gICAgICBjZmdbM10gPSBjZmdbMV0gKiBlYXNlO1xuICAgIH1cbiAgICBzdGF0ZS5kb20ucmVkcmF3Tm93KHRydWUpOyAvLyBvcHRpbWlzYXRpb246IGRvbid0IHJlbmRlciBTVkcgY2hhbmdlcyBkdXJpbmcgYW5pbWF0aW9uc1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgobm93ID0gcGVyZm9ybWFuY2Uubm93KCkpID0+IHN0ZXAoc3RhdGUsIG5vdykpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFuaW1hdGU8QT4obXV0YXRpb246IE11dGF0aW9uPEE+LCBzdGF0ZTogU3RhdGUpOiBBIHtcbiAgLy8gY2xvbmUgc3RhdGUgYmVmb3JlIG11dGF0aW5nIGl0XG4gIGNvbnN0IHByZXZQaWVjZXM6IGNnLlBpZWNlcyA9IG5ldyBNYXAoc3RhdGUucGllY2VzKTtcblxuICBjb25zdCByZXN1bHQgPSBtdXRhdGlvbihzdGF0ZSk7XG4gIGNvbnN0IHBsYW4gPSBjb21wdXRlUGxhbihwcmV2UGllY2VzLCBzdGF0ZSk7XG4gIGlmIChwbGFuLmFuaW1zLnNpemUgfHwgcGxhbi5mYWRpbmdzLnNpemUpIHtcbiAgICBjb25zdCBhbHJlYWR5UnVubmluZyA9IHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ICYmIHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50LnN0YXJ0O1xuICAgIHN0YXRlLmFuaW1hdGlvbi5jdXJyZW50ID0ge1xuICAgICAgc3RhcnQ6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgZnJlcXVlbmN5OiAxIC8gc3RhdGUuYW5pbWF0aW9uLmR1cmF0aW9uLFxuICAgICAgcGxhbjogcGxhbixcbiAgICB9O1xuICAgIGlmICghYWxyZWFkeVJ1bm5pbmcpIHN0ZXAoc3RhdGUsIHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBkb24ndCBhbmltYXRlLCBqdXN0IHJlbmRlciByaWdodCBhd2F5XG4gICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2dyZS8xNjUwMjk0XG5mdW5jdGlvbiBlYXNpbmcodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKHQgLSAxKSAqICgyICogdCAtIDIpICogKDIgKiB0IC0gMikgKyAxO1xufVxuIiwiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCAqIGFzIGJvYXJkIGZyb20gJy4vYm9hcmQnO1xuaW1wb3J0IHsgd3JpdGUgYXMgZmVuV3JpdGUgfSBmcm9tICcuL2Zlbic7XG5pbXBvcnQgeyBDb25maWcsIGNvbmZpZ3VyZSB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGFuaW0sIHJlbmRlciB9IGZyb20gJy4vYW5pbSc7XG5pbXBvcnQgeyBjYW5jZWwgYXMgZHJhZ0NhbmNlbCwgZHJhZ05ld1BpZWNlIH0gZnJvbSAnLi9kcmFnJztcbmltcG9ydCB7IERyYXdTaGFwZSB9IGZyb20gJy4vZHJhdyc7XG5pbXBvcnQgZXhwbG9zaW9uIGZyb20gJy4vZXhwbG9zaW9uJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFwaSB7XG4gIC8vIHJlY29uZmlndXJlIHRoZSBpbnN0YW5jZS4gQWNjZXB0cyBhbGwgY29uZmlnIG9wdGlvbnMsIGV4Y2VwdCBmb3Igdmlld09ubHkgJiBkcmF3YWJsZS52aXNpYmxlLlxuICAvLyBib2FyZCB3aWxsIGJlIGFuaW1hdGVkIGFjY29yZGluZ2x5LCBpZiBhbmltYXRpb25zIGFyZSBlbmFibGVkLlxuICBzZXQoY29uZmlnOiBDb25maWcpOiB2b2lkO1xuXG4gIC8vIHJlYWQgY2hlc3Nncm91bmQgc3RhdGU7IHdyaXRlIGF0IHlvdXIgb3duIHJpc2tzLlxuICBzdGF0ZTogU3RhdGU7XG5cbiAgLy8gZ2V0IHRoZSBwb3NpdGlvbiBhcyBhIEZFTiBzdHJpbmcgKG9ubHkgY29udGFpbnMgcGllY2VzLCBubyBmbGFncylcbiAgLy8gZS5nLiBybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SXG4gIGdldEZlbigpOiBjZy5GRU47XG5cbiAgLy8gY2hhbmdlIHRoZSB2aWV3IGFuZ2xlXG4gIHRvZ2dsZU9yaWVudGF0aW9uKCk6IHZvaWQ7XG5cbiAgLy8gcGVyZm9ybSBhIG1vdmUgcHJvZ3JhbW1hdGljYWxseVxuICBtb3ZlKG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5KTogdm9pZDtcblxuICAvLyBhZGQgYW5kL29yIHJlbW92ZSBhcmJpdHJhcnkgcGllY2VzIG9uIHRoZSBib2FyZFxuICBzZXRQaWVjZXMocGllY2VzOiBjZy5QaWVjZXNEaWZmKTogdm9pZDtcblxuICAvLyBjbGljayBhIHNxdWFyZSBwcm9ncmFtbWF0aWNhbGx5XG4gIHNlbGVjdFNxdWFyZShrZXk6IGNnLktleSB8IG51bGwsIGZvcmNlPzogYm9vbGVhbik6IHZvaWQ7XG5cbiAgLy8gcHV0IGEgbmV3IHBpZWNlIG9uIHRoZSBib2FyZFxuICBuZXdQaWVjZShwaWVjZTogY2cuUGllY2UsIGtleTogY2cuS2V5KTogdm9pZDtcblxuICAvLyBwbGF5IHRoZSBjdXJyZW50IHByZW1vdmUsIGlmIGFueTsgcmV0dXJucyB0cnVlIGlmIHByZW1vdmUgd2FzIHBsYXllZFxuICBwbGF5UHJlbW92ZSgpOiBib29sZWFuO1xuXG4gIC8vIGNhbmNlbCB0aGUgY3VycmVudCBwcmVtb3ZlLCBpZiBhbnlcbiAgY2FuY2VsUHJlbW92ZSgpOiB2b2lkO1xuXG4gIC8vIHBsYXkgdGhlIGN1cnJlbnQgcHJlZHJvcCwgaWYgYW55OyByZXR1cm5zIHRydWUgaWYgcHJlbW92ZSB3YXMgcGxheWVkXG4gIHBsYXlQcmVkcm9wKHZhbGlkYXRlOiAoZHJvcDogY2cuRHJvcCkgPT4gYm9vbGVhbik6IGJvb2xlYW47XG5cbiAgLy8gY2FuY2VsIHRoZSBjdXJyZW50IHByZWRyb3AsIGlmIGFueVxuICBjYW5jZWxQcmVkcm9wKCk6IHZvaWQ7XG5cbiAgLy8gY2FuY2VsIHRoZSBjdXJyZW50IG1vdmUgYmVpbmcgbWFkZVxuICBjYW5jZWxNb3ZlKCk6IHZvaWQ7XG5cbiAgLy8gY2FuY2VsIGN1cnJlbnQgbW92ZSBhbmQgcHJldmVudCBmdXJ0aGVyIG9uZXNcbiAgc3RvcCgpOiB2b2lkO1xuXG4gIC8vIG1ha2Ugc3F1YXJlcyBleHBsb2RlIChhdG9taWMgY2hlc3MpXG4gIGV4cGxvZGUoa2V5czogY2cuS2V5W10pOiB2b2lkO1xuXG4gIC8vIHByb2dyYW1tYXRpY2FsbHkgZHJhdyB1c2VyIHNoYXBlc1xuICBzZXRTaGFwZXMoc2hhcGVzOiBEcmF3U2hhcGVbXSk6IHZvaWQ7XG5cbiAgLy8gcHJvZ3JhbW1hdGljYWxseSBkcmF3IGF1dG8gc2hhcGVzXG4gIHNldEF1dG9TaGFwZXMoc2hhcGVzOiBEcmF3U2hhcGVbXSk6IHZvaWQ7XG5cbiAgLy8gc3F1YXJlIG5hbWUgYXQgdGhpcyBET00gcG9zaXRpb24gKGxpa2UgXCJlNFwiKVxuICBnZXRLZXlBdERvbVBvcyhwb3M6IGNnLk51bWJlclBhaXIpOiBjZy5LZXkgfCB1bmRlZmluZWQ7XG5cbiAgLy8gb25seSB1c2VmdWwgd2hlbiBDU1MgY2hhbmdlcyB0aGUgYm9hcmQgd2lkdGgvaGVpZ2h0IHJhdGlvIChmb3IgM0QpXG4gIHJlZHJhd0FsbDogY2cuUmVkcmF3O1xuXG4gIC8vIGZvciBjcmF6eWhvdXNlIGFuZCBib2FyZCBlZGl0b3JzXG4gIGRyYWdOZXdQaWVjZShwaWVjZTogY2cuUGllY2UsIGV2ZW50OiBjZy5Nb3VjaEV2ZW50LCBmb3JjZT86IGJvb2xlYW4pOiB2b2lkO1xuXG4gIC8vIHVuYmluZHMgYWxsIGV2ZW50c1xuICAvLyAoaW1wb3J0YW50IGZvciBkb2N1bWVudC13aWRlIGV2ZW50cyBsaWtlIHNjcm9sbCBhbmQgbW91c2Vtb3ZlKVxuICBkZXN0cm95OiBjZy5VbmJpbmQ7XG59XG5cbi8vIHNlZSBBUEkgdHlwZXMgYW5kIGRvY3VtZW50YXRpb25zIGluIGR0cy9hcGkuZC50c1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0KHN0YXRlOiBTdGF0ZSwgcmVkcmF3QWxsOiBjZy5SZWRyYXcpOiBBcGkge1xuICBmdW5jdGlvbiBzZXRPcmllbnRhdGlvbihvOiBjZy5PcmllbnRhdGlvbik6IHZvaWQge1xuICAgIGJvYXJkLnNldE9yaWVudGF0aW9uKHN0YXRlLCBvKTtcbiAgICByZWRyYXdBbGwoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZU9yaWVudGF0aW9uKCk6IHZvaWQge1xuICAgIGJvYXJkLnRvZ2dsZU9yaWVudGF0aW9uKHN0YXRlKTtcbiAgICByZWRyYXdBbGwoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2V0KGNvbmZpZyk6IHZvaWQge1xuICAgICAgaWYgKGNvbmZpZy5vcmllbnRhdGlvbiAmJiBjb25maWcub3JpZW50YXRpb24gIT09IHN0YXRlLm9yaWVudGF0aW9uKSBzZXRPcmllbnRhdGlvbihjb25maWcub3JpZW50YXRpb24pO1xuICAgICAgKGNvbmZpZy5mZW4gPyBhbmltIDogcmVuZGVyKShzdGF0ZSA9PiBjb25maWd1cmUoc3RhdGUsIGNvbmZpZyksIHN0YXRlKTtcbiAgICB9LFxuXG4gICAgc3RhdGUsXG5cbiAgICBnZXRGZW46ICgpID0+IGZlbldyaXRlKHN0YXRlLnBpZWNlcywgc3RhdGUuZGltZW5zaW9ucywgc3RhdGUudmFyaWFudCksXG5cbiAgICB0b2dnbGVPcmllbnRhdGlvbixcblxuICAgIHNldFBpZWNlcyhwaWVjZXMpOiB2b2lkIHtcbiAgICAgIGFuaW0oc3RhdGUgPT4gYm9hcmQuc2V0UGllY2VzKHN0YXRlLCBwaWVjZXMpLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIHNlbGVjdFNxdWFyZShrZXksIGZvcmNlKTogdm9pZCB7XG4gICAgICBpZiAoa2V5KSBhbmltKHN0YXRlID0+IGJvYXJkLnNlbGVjdFNxdWFyZShzdGF0ZSwga2V5LCBmb3JjZSksIHN0YXRlKTtcbiAgICAgIGVsc2UgaWYgKHN0YXRlLnNlbGVjdGVkKSB7XG4gICAgICAgIGJvYXJkLnVuc2VsZWN0KHN0YXRlKTtcbiAgICAgICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBtb3ZlKG9yaWcsIGRlc3QpOiB2b2lkIHtcbiAgICAgIGFuaW0oc3RhdGUgPT4gYm9hcmQuYmFzZU1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIG5ld1BpZWNlKHBpZWNlLCBrZXkpOiB2b2lkIHtcbiAgICAgIGFuaW0oc3RhdGUgPT4gYm9hcmQuYmFzZU5ld1BpZWNlKHN0YXRlLCBwaWVjZSwga2V5KSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBwbGF5UHJlbW92ZSgpOiBib29sZWFuIHtcbiAgICAgIGlmIChzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGFuaW0oYm9hcmQucGxheVByZW1vdmUsIHN0YXRlKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIGlmIHRoZSBwcmVtb3ZlIGNvdWxkbid0IGJlIHBsYXllZCwgcmVkcmF3IHRvIGNsZWFyIGl0IHVwXG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgcGxheVByZWRyb3AodmFsaWRhdGUpOiBib29sZWFuIHtcbiAgICAgIGlmIChzdGF0ZS5wcmVkcm9wcGFibGUuY3VycmVudCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBib2FyZC5wbGF5UHJlZHJvcChzdGF0ZSwgdmFsaWRhdGUpO1xuICAgICAgICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGNhbmNlbFByZW1vdmUoKTogdm9pZCB7XG4gICAgICByZW5kZXIoYm9hcmQudW5zZXRQcmVtb3ZlLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGNhbmNlbFByZWRyb3AoKTogdm9pZCB7XG4gICAgICByZW5kZXIoYm9hcmQudW5zZXRQcmVkcm9wLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGNhbmNlbE1vdmUoKTogdm9pZCB7XG4gICAgICByZW5kZXIoc3RhdGUgPT4ge1xuICAgICAgICBib2FyZC5jYW5jZWxNb3ZlKHN0YXRlKTtcbiAgICAgICAgZHJhZ0NhbmNlbChzdGF0ZSk7XG4gICAgICB9LCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIHN0b3AoKTogdm9pZCB7XG4gICAgICByZW5kZXIoc3RhdGUgPT4ge1xuICAgICAgICBib2FyZC5zdG9wKHN0YXRlKTtcbiAgICAgICAgZHJhZ0NhbmNlbChzdGF0ZSk7XG4gICAgICB9LCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGV4cGxvZGUoa2V5czogY2cuS2V5W10pOiB2b2lkIHtcbiAgICAgIGV4cGxvc2lvbihzdGF0ZSwga2V5cyk7XG4gICAgfSxcblxuICAgIHNldEF1dG9TaGFwZXMoc2hhcGVzOiBEcmF3U2hhcGVbXSk6IHZvaWQge1xuICAgICAgcmVuZGVyKHN0YXRlID0+IChzdGF0ZS5kcmF3YWJsZS5hdXRvU2hhcGVzID0gc2hhcGVzKSwgc3RhdGUpO1xuICAgIH0sXG5cbiAgICBzZXRTaGFwZXMoc2hhcGVzOiBEcmF3U2hhcGVbXSk6IHZvaWQge1xuICAgICAgcmVuZGVyKHN0YXRlID0+IChzdGF0ZS5kcmF3YWJsZS5zaGFwZXMgPSBzaGFwZXMpLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGdldEtleUF0RG9tUG9zKHBvcyk6IGNnLktleSB8IHVuZGVmaW5lZCB7XG4gICAgICByZXR1cm4gYm9hcmQuZ2V0S2V5QXREb21Qb3MocG9zLCBzdGF0ZS5vcmllbnRhdGlvbiwgc3RhdGUuZG9tLmJvdW5kcygpLCBzdGF0ZS5kaW1lbnNpb25zKTtcbiAgICB9LFxuXG4gICAgcmVkcmF3QWxsLFxuXG4gICAgZHJhZ05ld1BpZWNlKHBpZWNlLCBldmVudCwgZm9yY2UpOiB2b2lkIHtcbiAgICAgIGRyYWdOZXdQaWVjZShzdGF0ZSwgcGllY2UsIGV2ZW50LCBmb3JjZSk7XG4gICAgfSxcblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICBib2FyZC5zdG9wKHN0YXRlKTtcbiAgICAgIHN0YXRlLmRvbS51bmJpbmQgJiYgc3RhdGUuZG9tLnVuYmluZCgpO1xuICAgICAgc3RhdGUuZG9tLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgfSxcbiAgfTtcbn1cbiIsImltcG9ydCB7IEhlYWRsZXNzU3RhdGUgfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCB7XG4gIHBvczJrZXksXG4gIGtleTJwb3MsXG4gIG9wcG9zaXRlLFxuICBvcHBvc2l0ZU9yaWVudGF0aW9uLFxuICBkaXN0YW5jZVNxLFxuICBhbGxQb3MsXG4gIGNvbXB1dGVTcXVhcmVDZW50ZXIsXG4gIGNvbnRhaW5zWCxcbiAgY2FsbFVzZXJGdW5jdGlvbixcbn0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IHByZW1vdmUsIHF1ZWVuLCBrbmlnaHQgfSBmcm9tICcuL3ByZW1vdmUnO1xuaW1wb3J0IHByZWRyb3AgZnJvbSAnLi9wcmVkcm9wJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0ICogYXMgVCBmcm9tICcuL3RyYW5zZm9ybWF0aW9ucyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPcmllbnRhdGlvbihzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgbzogY2cuT3JpZW50YXRpb24pOiB2b2lkIHtcbiAgc3RhdGUub3JpZW50YXRpb24gPSBvO1xuICBzdGF0ZS5hbmltYXRpb24uY3VycmVudCA9IHN0YXRlLmRyYWdnYWJsZS5jdXJyZW50ID0gc3RhdGUuc2VsZWN0ZWQgPSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVPcmllbnRhdGlvbihzdGF0ZTogSGVhZGxlc3NTdGF0ZSk6IHZvaWQge1xuICBzZXRPcmllbnRhdGlvbihzdGF0ZSwgb3Bwb3NpdGVPcmllbnRhdGlvbihzdGF0ZS5vcmllbnRhdGlvbikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQoc3RhdGU6IEhlYWRsZXNzU3RhdGUpOiB2b2lkIHtcbiAgc3RhdGUubGFzdE1vdmUgPSB1bmRlZmluZWQ7XG4gIHVuc2VsZWN0KHN0YXRlKTtcbiAgdW5zZXRQcmVtb3ZlKHN0YXRlKTtcbiAgdW5zZXRQcmVkcm9wKHN0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFBpZWNlcyhzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgcGllY2VzOiBjZy5QaWVjZXNEaWZmKTogdm9pZCB7XG4gIGZvciAoY29uc3QgW2tleSwgcGllY2VdIG9mIHBpZWNlcykge1xuICAgIGlmIChwaWVjZSkgc3RhdGUucGllY2VzLnNldChrZXksIHBpZWNlKTtcbiAgICBlbHNlIHN0YXRlLnBpZWNlcy5kZWxldGUoa2V5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRQcmVtb3ZlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSwgbWV0YTogY2cuU2V0UHJlbW92ZU1ldGFkYXRhKTogdm9pZCB7XG4gIHVuc2V0UHJlZHJvcChzdGF0ZSk7XG4gIHN0YXRlLnByZW1vdmFibGUuY3VycmVudCA9IFtvcmlnLCBkZXN0XTtcbiAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5wcmVtb3ZhYmxlLmV2ZW50cy5zZXQsIG9yaWcsIGRlc3QsIG1ldGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRQcmVtb3ZlKHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIGlmIChzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQpIHtcbiAgICBzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5wcmVtb3ZhYmxlLmV2ZW50cy51bnNldCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UHJlZHJvcChzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgcm9sZTogY2cuUm9sZSwga2V5OiBjZy5LZXkpOiB2b2lkIHtcbiAgdW5zZXRQcmVtb3ZlKHN0YXRlKTtcbiAgc3RhdGUucHJlZHJvcHBhYmxlLmN1cnJlbnQgPSB7IHJvbGUsIGtleSB9O1xuICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLnByZWRyb3BwYWJsZS5ldmVudHMuc2V0LCByb2xlLCBrZXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRQcmVkcm9wKHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIGNvbnN0IHBkID0gc3RhdGUucHJlZHJvcHBhYmxlO1xuICBpZiAocGQuY3VycmVudCkge1xuICAgIHBkLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgY2FsbFVzZXJGdW5jdGlvbihwZC5ldmVudHMudW5zZXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbmNlbERyb3BNb2RlKHM6IEhlYWRsZXNzU3RhdGUpOiB2b2lkIHtcbiAgcy5kcm9wbW9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgY2FsbFVzZXJGdW5jdGlvbihzLmRyb3Btb2RlLmV2ZW50cz8uY2FuY2VsKTtcbn1cblxuZnVuY3Rpb24gdHJ5QXV0b0Nhc3RsZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgb3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXkpOiBib29sZWFuIHtcbiAgaWYgKCFzdGF0ZS5hdXRvQ2FzdGxlKSByZXR1cm4gZmFsc2U7XG5cbiAgY29uc3Qga2luZyA9IHN0YXRlLnBpZWNlcy5nZXQob3JpZyk7XG4gIGlmICgha2luZyB8fCBraW5nLnJvbGUgIT09ICdrLXBpZWNlJykgcmV0dXJuIGZhbHNlO1xuXG4gIGNvbnN0IG9yaWdQb3MgPSBrZXkycG9zKG9yaWcpO1xuICBjb25zdCBkZXN0UG9zID0ga2V5MnBvcyhkZXN0KTtcbiAgaWYgKChvcmlnUG9zWzFdICE9PSAxICYmIG9yaWdQb3NbMV0gIT09IDgpIHx8IG9yaWdQb3NbMV0gIT09IGRlc3RQb3NbMV0pIHJldHVybiBmYWxzZTtcbiAgaWYgKG9yaWdQb3NbMF0gPT09IDUgJiYgIXN0YXRlLnBpZWNlcy5oYXMoZGVzdCkpIHtcbiAgICBpZiAoZGVzdFBvc1swXSA9PT0gNykgZGVzdCA9IHBvczJrZXkoWzgsIGRlc3RQb3NbMV1dKTtcbiAgICBlbHNlIGlmIChkZXN0UG9zWzBdID09PSAzKSBkZXN0ID0gcG9zMmtleShbMSwgZGVzdFBvc1sxXV0pO1xuICB9XG4gIGNvbnN0IHJvb2sgPSBzdGF0ZS5waWVjZXMuZ2V0KGRlc3QpO1xuICBpZiAoIXJvb2sgfHwgcm9vay5wbGF5ZXJJbmRleCAhPT0ga2luZy5wbGF5ZXJJbmRleCB8fCByb29rLnJvbGUgIT09ICdyLXBpZWNlJykgcmV0dXJuIGZhbHNlO1xuXG4gIHN0YXRlLnBpZWNlcy5kZWxldGUob3JpZyk7XG4gIHN0YXRlLnBpZWNlcy5kZWxldGUoZGVzdCk7XG5cbiAgaWYgKG9yaWdQb3NbMF0gPCBkZXN0UG9zWzBdKSB7XG4gICAgc3RhdGUucGllY2VzLnNldChwb3Mya2V5KFs3LCBkZXN0UG9zWzFdXSksIGtpbmcpO1xuICAgIHN0YXRlLnBpZWNlcy5zZXQocG9zMmtleShbNiwgZGVzdFBvc1sxXV0pLCByb29rKTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5waWVjZXMuc2V0KHBvczJrZXkoWzMsIGRlc3RQb3NbMV1dKSwga2luZyk7XG4gICAgc3RhdGUucGllY2VzLnNldChwb3Mya2V5KFs0LCBkZXN0UG9zWzFdXSksIHJvb2spO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZU1vdmUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5KTogY2cuUGllY2UgfCBib29sZWFuIHtcbiAgY29uc3Qgb3JpZ1BpZWNlID0gc3RhdGUucGllY2VzLmdldChvcmlnKSxcbiAgICBkZXN0UGllY2UgPSBzdGF0ZS5waWVjZXMuZ2V0KGRlc3QpO1xuICBpZiAob3JpZyA9PT0gZGVzdCB8fCAhb3JpZ1BpZWNlKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGNhcHR1cmVkID0gZGVzdFBpZWNlICYmIGRlc3RQaWVjZS5wbGF5ZXJJbmRleCAhPT0gb3JpZ1BpZWNlLnBsYXllckluZGV4ID8gZGVzdFBpZWNlIDogdW5kZWZpbmVkO1xuICBpZiAoZGVzdCA9PT0gc3RhdGUuc2VsZWN0ZWQpIHVuc2VsZWN0KHN0YXRlKTtcbiAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMubW92ZSwgb3JpZywgZGVzdCwgY2FwdHVyZWQpO1xuICBpZiAoIXRyeUF1dG9DYXN0bGUoc3RhdGUsIG9yaWcsIGRlc3QpKSB7XG4gICAgc3RhdGUucGllY2VzLnNldChkZXN0LCBvcmlnUGllY2UpO1xuICAgIHN0YXRlLnBpZWNlcy5kZWxldGUob3JpZyk7XG4gIH1cbiAgc3RhdGUubGFzdE1vdmUgPSBbb3JpZywgZGVzdF07XG4gIHN0YXRlLmNoZWNrID0gdW5kZWZpbmVkO1xuICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLmV2ZW50cy5jaGFuZ2UpO1xuICByZXR1cm4gY2FwdHVyZWQgfHwgdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2VOZXdQaWVjZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgcGllY2U6IGNnLlBpZWNlLCBrZXk6IGNnLktleSwgZm9yY2U/OiBib29sZWFuKTogYm9vbGVhbiB7XG4gIGlmIChzdGF0ZS5waWVjZXMuaGFzKGtleSkpIHtcbiAgICBpZiAoZm9yY2UpIHN0YXRlLnBpZWNlcy5kZWxldGUoa2V5KTtcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgfVxuICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLmV2ZW50cy5kcm9wTmV3UGllY2UsIHBpZWNlLCBrZXkpO1xuICBzdGF0ZS5waWVjZXMuc2V0KGtleSwgcGllY2UpO1xuICBzdGF0ZS5sYXN0TW92ZSA9IFtrZXldO1xuICBzdGF0ZS5jaGVjayA9IHVuZGVmaW5lZDtcbiAgY2FsbFVzZXJGdW5jdGlvbihzdGF0ZS5ldmVudHMuY2hhbmdlKTtcbiAgc3RhdGUubW92YWJsZS5kZXN0cyA9IHVuZGVmaW5lZDtcbiAgc3RhdGUuZHJvcG1vZGUuZHJvcERlc3RzID0gdW5kZWZpbmVkO1xuICBzdGF0ZS50dXJuUGxheWVySW5kZXggPSBvcHBvc2l0ZShzdGF0ZS50dXJuUGxheWVySW5kZXgpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gYmFzZVVzZXJNb3ZlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSk6IGNnLlBpZWNlIHwgYm9vbGVhbiB7XG4gIGNvbnN0IHJlc3VsdCA9IGJhc2VNb3ZlKHN0YXRlLCBvcmlnLCBkZXN0KTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIHN0YXRlLm1vdmFibGUuZGVzdHMgPSB1bmRlZmluZWQ7XG4gICAgc3RhdGUuZHJvcG1vZGUuZHJvcERlc3RzID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLnR1cm5QbGF5ZXJJbmRleCA9IG9wcG9zaXRlKHN0YXRlLnR1cm5QbGF5ZXJJbmRleCk7XG4gICAgc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZXJNb3ZlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSk6IGJvb2xlYW4ge1xuICBpZiAoY2FuTW92ZShzdGF0ZSwgb3JpZywgZGVzdCkpIHtcbiAgICBjb25zdCByZXN1bHQgPSBiYXNlVXNlck1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNvbnN0IGhvbGRUaW1lID0gc3RhdGUuaG9sZC5zdG9wKCk7XG4gICAgICB1bnNlbGVjdChzdGF0ZSk7XG4gICAgICBjb25zdCBtZXRhZGF0YTogY2cuTW92ZU1ldGFkYXRhID0ge1xuICAgICAgICBwcmVtb3ZlOiBmYWxzZSxcbiAgICAgICAgY3RybEtleTogc3RhdGUuc3RhdHMuY3RybEtleSxcbiAgICAgICAgaG9sZFRpbWUsXG4gICAgICB9O1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkgbWV0YWRhdGEuY2FwdHVyZWQgPSByZXN1bHQ7XG4gICAgICBjYWxsVXNlckZ1bmN0aW9uKHN0YXRlLm1vdmFibGUuZXZlbnRzLmFmdGVyLCBvcmlnLCBkZXN0LCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY2FuUHJlbW92ZShzdGF0ZSwgb3JpZywgZGVzdCkpIHtcbiAgICBzZXRQcmVtb3ZlKHN0YXRlLCBvcmlnLCBkZXN0LCB7XG4gICAgICBjdHJsS2V5OiBzdGF0ZS5zdGF0cy5jdHJsS2V5LFxuICAgIH0pO1xuICAgIHVuc2VsZWN0KHN0YXRlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1bnNlbGVjdChzdGF0ZSk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUT0RPOiBJIGJlbGlldmUgdGhpcyBmdW5jdGlvbiBpcyBhbHdheXMgY2FsbGVkIHdpdGggb3JpZz09J2EwJy4gTWF5YmUgY29uc2lkZXIgY2hhbmdpbmcgdGhhdCBwYXJhbWV0ZXIgdG8gcGllY2Uvcm9sZSBpbnN0ZWFkLlxuICogICAgICAgSSB0aGluayB3ZSBjdXJyZW50bHkgYXJ0aWZpY2lhbGx5IGFzc2lnbiBzdGF0ZS5waWVjZXNbYTBdIHRvIHRoZSBjdXJyZW50IHBvY2tldCBwaWVjZSBiZWluZyBkcmFnZ2VkL3NlbGVjdGVkLCBidXQgaXQgaXMgaW1obyBoYWNraXNoXG4gKiAgICAgICBhbmQgd2UgbWlnaHQgbGl0dGxlIGJ5IGxpdHRsZSBtYWtlIGV4aXN0aW5nIGNvZGUgYWdub3N0aWMgb2YgdGhhdCBoYWNrIGluc3RlYWQgb2YgdGlnaHRseSBjb3VwbGluZyBpdCB0byBpdCBhbmQgbWFraW5nIGl0IGRlcGVuZFxuICogICAgICAgb24gaGF2aW5nIHRoYXQgdGhlcmUsIHdpdGggdGhlIGV2ZW50dWFsIGdvYWwgb2YgbWFraW5nIHBvY2tldCBkeW5hbWljcyBtb3JlIG9mIGEgZmlyc3QgY2xhc3MgY2l0aXplbnMgcmF0aGVyIHRoYW4gaGFja3Mgb24gdG9wIG9mXG4gKiAgICAgICByZWd1bGFyIGNoZXNzIG1vdmVtZW50cyBkeW5hbWljc1xuICogKi9cbmV4cG9ydCBmdW5jdGlvbiBkcm9wTmV3UGllY2Uoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5LCBmb3JjZT86IGJvb2xlYW4pOiB2b2lkIHtcbiAgY29uc3QgcGllY2UgPSBzdGF0ZS5waWVjZXMuZ2V0KG9yaWcpO1xuICBpZiAocGllY2UgJiYgKGNhbkRyb3Aoc3RhdGUsIG9yaWcsIGRlc3QpIHx8IGZvcmNlKSkge1xuICAgIHN0YXRlLnBpZWNlcy5kZWxldGUob3JpZyk7XG4gICAgYmFzZU5ld1BpZWNlKHN0YXRlLCBwaWVjZSwgZGVzdCwgZm9yY2UpO1xuICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUubW92YWJsZS5ldmVudHMuYWZ0ZXJOZXdQaWVjZSwgcGllY2Uucm9sZSwgZGVzdCwge1xuICAgICAgcHJlbW92ZTogZmFsc2UsXG4gICAgICBwcmVkcm9wOiBmYWxzZSxcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChwaWVjZSAmJiBjYW5QcmVkcm9wKHN0YXRlLCBvcmlnLCBkZXN0KSkge1xuICAgIHNldFByZWRyb3Aoc3RhdGUsIHBpZWNlLnJvbGUsIGRlc3QpO1xuICB9IGVsc2Uge1xuICAgIHVuc2V0UHJlbW92ZShzdGF0ZSk7XG4gICAgdW5zZXRQcmVkcm9wKHN0YXRlKTtcbiAgICBjYW5jZWxEcm9wTW9kZShzdGF0ZSk7XG4gIH1cbiAgc3RhdGUucGllY2VzLmRlbGV0ZShvcmlnKTtcbiAgdW5zZWxlY3Qoc3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0U3F1YXJlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBrZXk6IGNnLktleSwgZm9yY2U/OiBib29sZWFuKTogdm9pZCB7XG4gIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUuZXZlbnRzLnNlbGVjdCwga2V5KTtcbiAgaWYgKHN0YXRlLnNlbGVjdGVkKSB7XG4gICAgaWYgKHN0YXRlLnNlbGVjdGVkID09PSBrZXkgJiYgIXN0YXRlLmRyYWdnYWJsZS5lbmFibGVkKSB7XG4gICAgICB1bnNlbGVjdChzdGF0ZSk7XG4gICAgICBzdGF0ZS5ob2xkLmNhbmNlbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoKHN0YXRlLnNlbGVjdGFibGUuZW5hYmxlZCB8fCBmb3JjZSkgJiYgc3RhdGUuc2VsZWN0ZWQgIT09IGtleSkge1xuICAgICAgaWYgKHVzZXJNb3ZlKHN0YXRlLCBzdGF0ZS5zZWxlY3RlZCwga2V5KSkge1xuICAgICAgICBzdGF0ZS5zdGF0cy5kcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGlzTW92YWJsZShzdGF0ZSwga2V5KSB8fCBpc1ByZW1vdmFibGUoc3RhdGUsIGtleSkpIHtcbiAgICBzZXRTZWxlY3RlZChzdGF0ZSwga2V5KTtcbiAgICBzdGF0ZS5ob2xkLnN0YXJ0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdGVkKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBrZXk6IGNnLktleSk6IHZvaWQge1xuICBzdGF0ZS5zZWxlY3RlZCA9IGtleTtcbiAgaWYgKGlzUHJlbW92YWJsZShzdGF0ZSwga2V5KSkge1xuICAgIHN0YXRlLnByZW1vdmFibGUuZGVzdHMgPSBwcmVtb3ZlKFxuICAgICAgc3RhdGUucGllY2VzLFxuICAgICAga2V5LFxuICAgICAgc3RhdGUucHJlbW92YWJsZS5jYXN0bGUsXG4gICAgICBzdGF0ZS5kaW1lbnNpb25zLFxuICAgICAgc3RhdGUudmFyaWFudCxcbiAgICAgIHN0YXRlLmNoZXNzOTYwXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLnByZWRyb3BwYWJsZS5kcm9wRGVzdHMgPSB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc2VsZWN0KHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIHN0YXRlLnNlbGVjdGVkID0gdW5kZWZpbmVkO1xuICBzdGF0ZS5wcmVtb3ZhYmxlLmRlc3RzID0gdW5kZWZpbmVkO1xuICBzdGF0ZS5wcmVkcm9wcGFibGUuZHJvcERlc3RzID0gdW5kZWZpbmVkO1xuICBzdGF0ZS5ob2xkLmNhbmNlbCgpO1xufVxuXG5mdW5jdGlvbiBpc01vdmFibGUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLktleSk6IGJvb2xlYW4ge1xuICBjb25zdCBwaWVjZSA9IHN0YXRlLnBpZWNlcy5nZXQob3JpZyk7XG4gIHJldHVybiAoXG4gICAgISFwaWVjZSAmJlxuICAgICghc3RhdGUub25seURyb3BzVmFyaWFudCB8fCAoc3RhdGUub25seURyb3BzVmFyaWFudCAmJiBvcmlnID09PSAnYTAnKSkgJiZcbiAgICAoc3RhdGUubW92YWJsZS5wbGF5ZXJJbmRleCA9PT0gJ2JvdGgnIHx8XG4gICAgICAoc3RhdGUubW92YWJsZS5wbGF5ZXJJbmRleCA9PT0gcGllY2UucGxheWVySW5kZXggJiYgc3RhdGUudHVyblBsYXllckluZGV4ID09PSBwaWVjZS5wbGF5ZXJJbmRleCkpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5Nb3ZlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIG9yaWcgIT09IGRlc3QgJiYgaXNNb3ZhYmxlKHN0YXRlLCBvcmlnKSAmJiAoc3RhdGUubW92YWJsZS5mcmVlIHx8ICEhc3RhdGUubW92YWJsZS5kZXN0cz8uZ2V0KG9yaWcpPy5pbmNsdWRlcyhkZXN0KSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gY2FuRHJvcChzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgb3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXkpOiBib29sZWFuIHtcbiAgY29uc3QgcGllY2UgPSBzdGF0ZS5waWVjZXMuZ2V0KG9yaWcpO1xuICByZXR1cm4gKFxuICAgICEhcGllY2UgJiZcbiAgICAob3JpZyA9PT0gZGVzdCB8fCAhc3RhdGUucGllY2VzLmhhcyhkZXN0KSkgJiZcbiAgICAoc3RhdGUubW92YWJsZS5wbGF5ZXJJbmRleCA9PT0gJ2JvdGgnIHx8XG4gICAgICAoc3RhdGUubW92YWJsZS5wbGF5ZXJJbmRleCA9PT0gcGllY2UucGxheWVySW5kZXggJiYgc3RhdGUudHVyblBsYXllckluZGV4ID09PSBwaWVjZS5wbGF5ZXJJbmRleCkpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzUHJlbW92YWJsZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgb3JpZzogY2cuS2V5KTogYm9vbGVhbiB7XG4gIGNvbnN0IHBpZWNlID0gc3RhdGUucGllY2VzLmdldChvcmlnKTtcbiAgcmV0dXJuIChcbiAgICAhIXBpZWNlICYmXG4gICAgc3RhdGUucHJlbW92YWJsZS5lbmFibGVkICYmXG4gICAgc3RhdGUubW92YWJsZS5wbGF5ZXJJbmRleCA9PT0gcGllY2UucGxheWVySW5kZXggJiZcbiAgICBzdGF0ZS50dXJuUGxheWVySW5kZXggIT09IHBpZWNlLnBsYXllckluZGV4XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ByZWRyb3BwYWJsZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSk6IGJvb2xlYW4ge1xuICBjb25zdCBwaWVjZSA9IHN0YXRlLmRyb3Btb2RlLmFjdGl2ZSA/IHN0YXRlLmRyb3Btb2RlLnBpZWNlIDogc3RhdGUuZHJhZ2dhYmxlLmN1cnJlbnQ/LnBpZWNlO1xuICByZXR1cm4gKFxuICAgICEhcGllY2UgJiZcbiAgICAoc3RhdGUuZHJvcG1vZGUuYWN0aXZlIHx8IHN0YXRlLmRyYWdnYWJsZS5jdXJyZW50Py5vcmlnID09PSAnYTAnKSAmJlxuICAgIHN0YXRlLnByZWRyb3BwYWJsZS5lbmFibGVkICYmXG4gICAgc3RhdGUubW92YWJsZS5wbGF5ZXJJbmRleCA9PT0gcGllY2UucGxheWVySW5kZXggJiZcbiAgICBzdGF0ZS50dXJuUGxheWVySW5kZXggIT09IHBpZWNlLnBsYXllckluZGV4XG4gICk7XG59XG5cbmZ1bmN0aW9uIGNhblByZW1vdmUoc3RhdGU6IEhlYWRsZXNzU3RhdGUsIG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgb3JpZyAhPT0gZGVzdCAmJlxuICAgIGlzUHJlbW92YWJsZShzdGF0ZSwgb3JpZykgJiZcbiAgICBjb250YWluc1goXG4gICAgICBwcmVtb3ZlKHN0YXRlLnBpZWNlcywgb3JpZywgc3RhdGUucHJlbW92YWJsZS5jYXN0bGUsIHN0YXRlLmRpbWVuc2lvbnMsIHN0YXRlLnZhcmlhbnQsIHN0YXRlLmNoZXNzOTYwKSxcbiAgICAgIGRlc3RcbiAgICApXG4gICk7XG59XG5cbi8qXG4gKiBUT0RPOiBvcmlnIGlzIHByb2JhYmx5IGFsd2F5cyBlcXVhbCB0byBhMCBhbmQgb25seSB1c2VkIGZvciBnZXR0aW5nIHRoZSBwaWVjZSAtIGNvbnNpZGVyIHJlcGxhY2luZyB0aGF0IHBhcmFtIHdpdGggXCJwaWVjZVwiIChzZWUgYWxzbyBkcm9wTmV3UGllY2UoLi4uKSApXG4gKiovXG5mdW5jdGlvbiBjYW5QcmVkcm9wKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSk6IGJvb2xlYW4ge1xuICBjb25zdCBwaWVjZSA9IHN0YXRlLnBpZWNlcy5nZXQob3JpZyk7XG4gIGNvbnN0IGRlc3RQaWVjZSA9IHN0YXRlLnBpZWNlcy5nZXQoZGVzdCk7XG4gIGlmICghcGllY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgaXNWYWxpZFByZWRyb3AgPSBjb250YWluc1gocHJlZHJvcChzdGF0ZS5waWVjZXMsIHBpZWNlLCBzdGF0ZS5kaW1lbnNpb25zLCBzdGF0ZS52YXJpYW50KSwgZGVzdCk7XG4gIHJldHVybiAoXG4gICAgKCFkZXN0UGllY2UgfHwgZGVzdFBpZWNlLnBsYXllckluZGV4ICE9PSBzdGF0ZS5tb3ZhYmxlLnBsYXllckluZGV4KSAmJlxuICAgIHN0YXRlLnByZWRyb3BwYWJsZS5lbmFibGVkICYmXG4gICAgaXNWYWxpZFByZWRyb3AgJiZcbiAgICBzdGF0ZS5tb3ZhYmxlLnBsYXllckluZGV4ID09PSBwaWVjZS5wbGF5ZXJJbmRleCAmJlxuICAgIHN0YXRlLnR1cm5QbGF5ZXJJbmRleCAhPT0gcGllY2UucGxheWVySW5kZXhcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRHJhZ2dhYmxlKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCBvcmlnOiBjZy5LZXkpOiBib29sZWFuIHtcbiAgY29uc3QgcGllY2UgPSBzdGF0ZS5waWVjZXMuZ2V0KG9yaWcpO1xuICByZXR1cm4gKFxuICAgICEhcGllY2UgJiZcbiAgICBzdGF0ZS5kcmFnZ2FibGUuZW5hYmxlZCAmJlxuICAgIChzdGF0ZS5tb3ZhYmxlLnBsYXllckluZGV4ID09PSAnYm90aCcgfHxcbiAgICAgIChzdGF0ZS5tb3ZhYmxlLnBsYXllckluZGV4ID09PSBwaWVjZS5wbGF5ZXJJbmRleCAmJlxuICAgICAgICAoc3RhdGUudHVyblBsYXllckluZGV4ID09PSBwaWVjZS5wbGF5ZXJJbmRleCB8fCBzdGF0ZS5wcmVtb3ZhYmxlLmVuYWJsZWQpKSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlQcmVtb3ZlKHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogYm9vbGVhbiB7XG4gIGNvbnN0IG1vdmUgPSBzdGF0ZS5wcmVtb3ZhYmxlLmN1cnJlbnQ7XG4gIGlmICghbW92ZSkgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBvcmlnID0gbW92ZVswXSxcbiAgICBkZXN0ID0gbW92ZVsxXTtcbiAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcbiAgaWYgKGNhbk1vdmUoc3RhdGUsIG9yaWcsIGRlc3QpKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYmFzZVVzZXJNb3ZlKHN0YXRlLCBvcmlnLCBkZXN0KTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBjb25zdCBtZXRhZGF0YTogY2cuTW92ZU1ldGFkYXRhID0geyBwcmVtb3ZlOiB0cnVlIH07XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSBtZXRhZGF0YS5jYXB0dXJlZCA9IHJlc3VsdDtcbiAgICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUubW92YWJsZS5ldmVudHMuYWZ0ZXIsIG9yaWcsIGRlc3QsIG1ldGFkYXRhKTtcbiAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB1bnNldFByZW1vdmUoc3RhdGUpO1xuICByZXR1cm4gc3VjY2Vzcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlQcmVkcm9wKHN0YXRlOiBIZWFkbGVzc1N0YXRlLCB2YWxpZGF0ZTogKGRyb3A6IGNnLkRyb3ApID0+IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgY29uc3QgZHJvcCA9IHN0YXRlLnByZWRyb3BwYWJsZS5jdXJyZW50O1xuICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuICBpZiAoIWRyb3ApIHJldHVybiBmYWxzZTtcbiAgaWYgKHZhbGlkYXRlKGRyb3ApKSB7XG4gICAgY29uc3QgcGllY2UgPSB7XG4gICAgICByb2xlOiBkcm9wLnJvbGUsXG4gICAgICBwbGF5ZXJJbmRleDogc3RhdGUubW92YWJsZS5wbGF5ZXJJbmRleCxcbiAgICB9IGFzIGNnLlBpZWNlO1xuICAgIGlmIChiYXNlTmV3UGllY2Uoc3RhdGUsIHBpZWNlLCBkcm9wLmtleSkpIHtcbiAgICAgIGNhbGxVc2VyRnVuY3Rpb24oc3RhdGUubW92YWJsZS5ldmVudHMuYWZ0ZXJOZXdQaWVjZSwgZHJvcC5yb2xlLCBkcm9wLmtleSwge1xuICAgICAgICBwcmVtb3ZlOiBmYWxzZSxcbiAgICAgICAgcHJlZHJvcDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgfVxuICB9XG4gIHVuc2V0UHJlZHJvcChzdGF0ZSk7XG4gIHJldHVybiBzdWNjZXNzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsTW92ZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSk6IHZvaWQge1xuICB1bnNldFByZW1vdmUoc3RhdGUpO1xuICB1bnNldFByZWRyb3Aoc3RhdGUpO1xuICB1bnNlbGVjdChzdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wKHN0YXRlOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIHN0YXRlLm1vdmFibGUucGxheWVySW5kZXggPSBzdGF0ZS5tb3ZhYmxlLmRlc3RzID0gc3RhdGUuZHJvcG1vZGUuZHJvcERlc3RzID0gc3RhdGUuYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gIGNhbmNlbE1vdmUoc3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0S2V5QXREb21Qb3MoXG4gIHBvczogY2cuTnVtYmVyUGFpcixcbiAgb3JpZW50YXRpb246IGNnLk9yaWVudGF0aW9uLFxuICBib3VuZHM6IENsaWVudFJlY3QsXG4gIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnNcbik6IGNnLktleSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGZpbGUgPSBNYXRoLmNlaWwoYmQud2lkdGggKiAoKHBvc1swXSAtIGJvdW5kcy5sZWZ0KSAvIGJvdW5kcy53aWR0aCkpO1xuICBjb25zdCByYW5rID0gTWF0aC5jZWlsKGJkLmhlaWdodCAtIGJkLmhlaWdodCAqICgocG9zWzFdIC0gYm91bmRzLnRvcCkgLyBib3VuZHMuaGVpZ2h0KSk7XG4gIHBvcyA9IFtmaWxlLCByYW5rXTtcbiAgcG9zID0gVC5tYXBUb1AxW29yaWVudGF0aW9uXShwb3MsIGJkKTtcbiAgcmV0dXJuIHBvc1swXSA+IDAgJiYgcG9zWzBdIDwgYmQud2lkdGggKyAxICYmIHBvc1sxXSA+IDAgJiYgcG9zWzFdIDwgYmQuaGVpZ2h0ICsgMSA/IHBvczJrZXkocG9zKSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHAxUG92KHM6IEhlYWRsZXNzU3RhdGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIHMubXlQbGF5ZXJJbmRleCA9PT0gJ3AxJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNuYXBwZWRLZXlBdERvbVBvcyhcbiAgb3JpZzogY2cuS2V5LFxuICBwb3M6IGNnLk51bWJlclBhaXIsXG4gIG9yaWVudGF0aW9uOiBjZy5PcmllbnRhdGlvbixcbiAgYm91bmRzOiBDbGllbnRSZWN0LFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiBjZy5LZXkgfCB1bmRlZmluZWQge1xuICBjb25zdCBvcmlnUG9zID0ga2V5MnBvcyhvcmlnKTtcbiAgY29uc3QgdmFsaWRTbmFwUG9zID0gYWxsUG9zKGJkKS5maWx0ZXIocG9zMiA9PiB7XG4gICAgcmV0dXJuIHF1ZWVuKG9yaWdQb3NbMF0sIG9yaWdQb3NbMV0sIHBvczJbMF0sIHBvczJbMV0pIHx8IGtuaWdodChvcmlnUG9zWzBdLCBvcmlnUG9zWzFdLCBwb3MyWzBdLCBwb3MyWzFdKTtcbiAgfSk7XG4gIGNvbnN0IHZhbGlkU25hcENlbnRlcnMgPSB2YWxpZFNuYXBQb3MubWFwKHBvczIgPT4gY29tcHV0ZVNxdWFyZUNlbnRlcihwb3Mya2V5KHBvczIpLCBvcmllbnRhdGlvbiwgYm91bmRzLCBiZCkpO1xuICBjb25zdCB2YWxpZFNuYXBEaXN0YW5jZXMgPSB2YWxpZFNuYXBDZW50ZXJzLm1hcChwb3MyID0+IGRpc3RhbmNlU3EocG9zLCBwb3MyKSk7XG4gIGNvbnN0IFssIGNsb3Nlc3RTbmFwSW5kZXhdID0gdmFsaWRTbmFwRGlzdGFuY2VzLnJlZHVjZShcbiAgICAoYSwgYiwgaW5kZXgpID0+IChhWzBdIDwgYiA/IGEgOiBbYiwgaW5kZXhdKSxcbiAgICBbdmFsaWRTbmFwRGlzdGFuY2VzWzBdLCAwXVxuICApO1xuICByZXR1cm4gcG9zMmtleSh2YWxpZFNuYXBQb3NbY2xvc2VzdFNuYXBJbmRleF0pO1xufVxuIiwiaW1wb3J0IHsgQXBpLCBzdGFydCB9IGZyb20gJy4vYXBpJztcbmltcG9ydCB7IENvbmZpZywgY29uZmlndXJlIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgSGVhZGxlc3NTdGF0ZSwgU3RhdGUsIGRlZmF1bHRzIH0gZnJvbSAnLi9zdGF0ZSc7XG5cbmltcG9ydCB7IHJlbmRlcldyYXAgfSBmcm9tICcuL3dyYXAnO1xuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCB7IHJlbmRlciwgdXBkYXRlQm91bmRzIH0gZnJvbSAnLi9yZW5kZXInO1xuaW1wb3J0ICogYXMgc3ZnIGZyb20gJy4vc3ZnJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IGZ1bmN0aW9uIENoZXNzZ3JvdW5kKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjb25maWc/OiBDb25maWcpOiBBcGkge1xuICBjb25zdCBtYXliZVN0YXRlOiBTdGF0ZSB8IEhlYWRsZXNzU3RhdGUgPSBkZWZhdWx0cygpO1xuICBjb25maWd1cmUobWF5YmVTdGF0ZSwgY29uZmlnIHx8IHt9KTtcbiAgZnVuY3Rpb24gcmVkcmF3QWxsKCk6IFN0YXRlIHtcbiAgICBjb25zdCBwcmV2VW5iaW5kID0gJ2RvbScgaW4gbWF5YmVTdGF0ZSA/IG1heWJlU3RhdGUuZG9tLnVuYmluZCA6IHVuZGVmaW5lZDtcbiAgICAvLyBjb21wdXRlIGJvdW5kcyBmcm9tIGV4aXN0aW5nIGJvYXJkIGVsZW1lbnQgaWYgcG9zc2libGVcbiAgICAvLyB0aGlzIGFsbG93cyBub24tc3F1YXJlIGJvYXJkcyBmcm9tIENTUyB0byBiZSBoYW5kbGVkIChmb3IgM0QpXG4gICAgY29uc3QgcmVsYXRpdmUgPSBtYXliZVN0YXRlLnZpZXdPbmx5ICYmICFtYXliZVN0YXRlLmRyYXdhYmxlLnZpc2libGUsXG4gICAgICBlbGVtZW50cyA9IHJlbmRlcldyYXAoZWxlbWVudCwgbWF5YmVTdGF0ZSwgcmVsYXRpdmUpLFxuICAgICAgYm91bmRzID0gdXRpbC5tZW1vKCgpID0+IGVsZW1lbnRzLmJvYXJkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgIHJlZHJhd05vdyA9IChza2lwU3ZnPzogYm9vbGVhbik6IHZvaWQgPT4ge1xuICAgICAgICByZW5kZXIoc3RhdGUpO1xuICAgICAgICBpZiAoIXNraXBTdmcgJiYgZWxlbWVudHMuc3ZnKSBzdmcucmVuZGVyU3ZnKHN0YXRlLCBlbGVtZW50cy5zdmcsIGVsZW1lbnRzLmN1c3RvbVN2ZyEpO1xuICAgICAgfSxcbiAgICAgIGJvdW5kc1VwZGF0ZWQgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIGJvdW5kcy5jbGVhcigpO1xuICAgICAgICB1cGRhdGVCb3VuZHMoc3RhdGUpO1xuICAgICAgICBpZiAoZWxlbWVudHMuc3ZnKSBzdmcucmVuZGVyU3ZnKHN0YXRlLCBlbGVtZW50cy5zdmcsIGVsZW1lbnRzLmN1c3RvbVN2ZyEpO1xuICAgICAgfTtcbiAgICBjb25zdCBzdGF0ZSA9IG1heWJlU3RhdGUgYXMgU3RhdGU7XG4gICAgc3RhdGUuZG9tID0ge1xuICAgICAgZWxlbWVudHMsXG4gICAgICBib3VuZHMsXG4gICAgICByZWRyYXc6IGRlYm91bmNlUmVkcmF3KHJlZHJhd05vdyksXG4gICAgICByZWRyYXdOb3csXG4gICAgICB1bmJpbmQ6IHByZXZVbmJpbmQsXG4gICAgICByZWxhdGl2ZSxcbiAgICB9O1xuICAgIHN0YXRlLmRyYXdhYmxlLnByZXZTdmdIYXNoID0gJyc7XG4gICAgcmVkcmF3Tm93KGZhbHNlKTtcbiAgICBldmVudHMuYmluZEJvYXJkKHN0YXRlLCBib3VuZHNVcGRhdGVkKTtcbiAgICBpZiAoIXByZXZVbmJpbmQpIHN0YXRlLmRvbS51bmJpbmQgPSBldmVudHMuYmluZERvY3VtZW50KHN0YXRlLCBib3VuZHNVcGRhdGVkKTtcbiAgICBzdGF0ZS5ldmVudHMuaW5zZXJ0ICYmIHN0YXRlLmV2ZW50cy5pbnNlcnQoZWxlbWVudHMpO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIHJldHVybiBzdGFydChyZWRyYXdBbGwoKSwgcmVkcmF3QWxsKTtcbn1cblxuZnVuY3Rpb24gZGVib3VuY2VSZWRyYXcocmVkcmF3Tm93OiAoc2tpcFN2Zz86IGJvb2xlYW4pID0+IHZvaWQpOiAoKSA9PiB2b2lkIHtcbiAgbGV0IHJlZHJhd2luZyA9IGZhbHNlO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChyZWRyYXdpbmcpIHJldHVybjtcbiAgICByZWRyYXdpbmcgPSB0cnVlO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICByZWRyYXdOb3coKTtcbiAgICAgIHJlZHJhd2luZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgSGVhZGxlc3NTdGF0ZSB9IGZyb20gJy4vc3RhdGUnO1xuaW1wb3J0IHsgc2V0U2VsZWN0ZWQgfSBmcm9tICcuL2JvYXJkJztcbmltcG9ydCB7IHJlYWQgYXMgZmVuUmVhZCB9IGZyb20gJy4vZmVuJztcbmltcG9ydCB7IERyYXdTaGFwZSwgRHJhd0JydXNoIH0gZnJvbSAnLi9kcmF3JztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZyB7XG4gIGZlbj86IGNnLkZFTjsgLy8gY2hlc3MgcG9zaXRpb24gaW4gRm9yc3l0aCBub3RhdGlvblxuICBvcmllbnRhdGlvbj86IGNnLk9yaWVudGF0aW9uOyAvLyBib2FyZCBvcmllbnRhdGlvbi4gcDEgfCBwMiB8IGxlZnQgfCByaWdodFxuICBteVBsYXllckluZGV4PzogY2cuUGxheWVySW5kZXg7IC8vIHR1cm4gb2YgcGxheWVyIHAxIHwgcDJcbiAgdHVyblBsYXllckluZGV4PzogY2cuUGxheWVySW5kZXg7IC8vIHR1cm4gdG8gcGxheS4gcDEgfCBwMlxuICBjaGVjaz86IGNnLlBsYXllckluZGV4IHwgYm9vbGVhbjsgLy8gdHJ1ZSBmb3IgY3VycmVudCBwbGF5ZXJJbmRleCwgZmFsc2UgdG8gdW5zZXRcbiAgbGFzdE1vdmU/OiBjZy5LZXlbXTsgLy8gc3F1YXJlcyBwYXJ0IG9mIHRoZSBsYXN0IG1vdmUgW1wiYzNcIiwgXCJjNFwiXVxuICBzZWxlY3RlZD86IGNnLktleTsgLy8gc3F1YXJlIGN1cnJlbnRseSBzZWxlY3RlZCBcImExXCJcbiAgY29vcmRpbmF0ZXM/OiBib29sZWFuOyAvLyBpbmNsdWRlIGNvb3JkcyBhdHRyaWJ1dGVzXG4gIGF1dG9DYXN0bGU/OiBib29sZWFuOyAvLyBpbW1lZGlhdGVseSBjb21wbGV0ZSB0aGUgY2FzdGxlIGJ5IG1vdmluZyB0aGUgcm9vayBhZnRlciBraW5nIG1vdmVcbiAgdmlld09ubHk/OiBib29sZWFuOyAvLyBkb24ndCBiaW5kIGV2ZW50czogdGhlIHVzZXIgd2lsbCBuZXZlciBiZSBhYmxlIHRvIG1vdmUgcGllY2VzIGFyb3VuZFxuICBkaXNhYmxlQ29udGV4dE1lbnU/OiBib29sZWFuOyAvLyBiZWNhdXNlIHdobyBuZWVkcyBhIGNvbnRleHQgbWVudSBvbiBhIGNoZXNzYm9hcmRcbiAgcmVzaXphYmxlPzogYm9vbGVhbjsgLy8gbGlzdGVucyB0byBjaGVzc2dyb3VuZC5yZXNpemUgb24gZG9jdW1lbnQuYm9keSB0byBjbGVhciBib3VuZHMgY2FjaGVcbiAgYWRkUGllY2VaSW5kZXg/OiBib29sZWFuOyAvLyBhZGRzIHotaW5kZXggdmFsdWVzIHRvIHBpZWNlcyAoZm9yIDNEKVxuICAvLyBwaWVjZUtleTogYm9vbGVhbjsgLy8gYWRkIGEgZGF0YS1rZXkgYXR0cmlidXRlIHRvIHBpZWNlIGVsZW1lbnRzXG4gIGhpZ2hsaWdodD86IHtcbiAgICBsYXN0TW92ZT86IGJvb2xlYW47IC8vIGFkZCBsYXN0LW1vdmUgY2xhc3MgdG8gc3F1YXJlc1xuICAgIGNoZWNrPzogYm9vbGVhbjsgLy8gYWRkIGNoZWNrIGNsYXNzIHRvIHNxdWFyZXNcbiAgfTtcbiAgYW5pbWF0aW9uPzoge1xuICAgIGVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGR1cmF0aW9uPzogbnVtYmVyO1xuICB9O1xuICBtb3ZhYmxlPzoge1xuICAgIGZyZWU/OiBib29sZWFuOyAvLyBhbGwgbW92ZXMgYXJlIHZhbGlkIC0gYm9hcmQgZWRpdG9yXG4gICAgcGxheWVySW5kZXg/OiBjZy5QbGF5ZXJJbmRleCB8ICdib3RoJzsgLy8gcGxheWVySW5kZXggdGhhdCBjYW4gbW92ZS4gcDEgfCBwMiB8IGJvdGggfCB1bmRlZmluZWRcbiAgICBkZXN0cz86IGNnLkRlc3RzOyAvLyB2YWxpZCBtb3Zlcy4ge1wiYTJcIiBbXCJhM1wiIFwiYTRcIl0gXCJiMVwiIFtcImEzXCIgXCJjM1wiXX1cbiAgICBzaG93RGVzdHM/OiBib29sZWFuOyAvLyB3aGV0aGVyIHRvIGFkZCB0aGUgbW92ZS1kZXN0IGNsYXNzIG9uIHNxdWFyZXNcbiAgICBldmVudHM/OiB7XG4gICAgICBhZnRlcj86IChvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSwgbWV0YWRhdGE6IGNnLk1vdmVNZXRhZGF0YSkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBtb3ZlIGhhcyBiZWVuIHBsYXllZFxuICAgICAgYWZ0ZXJOZXdQaWVjZT86IChyb2xlOiBjZy5Sb2xlLCBrZXk6IGNnLktleSwgbWV0YWRhdGE6IGNnLk1vdmVNZXRhZGF0YSkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIGEgbmV3IHBpZWNlIGlzIGRyb3BwZWQgb24gdGhlIGJvYXJkXG4gICAgfTtcbiAgICByb29rQ2FzdGxlPzogYm9vbGVhbjsgLy8gY2FzdGxlIGJ5IG1vdmluZyB0aGUga2luZyB0byB0aGUgcm9va1xuICB9O1xuICBwcmVtb3ZhYmxlPzoge1xuICAgIGVuYWJsZWQ/OiBib29sZWFuOyAvLyBhbGxvdyBwcmVtb3ZlcyBmb3IgcGxheWVySW5kZXggdGhhdCBjYW4gbm90IG1vdmVcbiAgICBzaG93RGVzdHM/OiBib29sZWFuOyAvLyB3aGV0aGVyIHRvIGFkZCB0aGUgcHJlbW92ZS1kZXN0IGNsYXNzIG9uIHNxdWFyZXNcbiAgICBjYXN0bGU/OiBib29sZWFuOyAvLyB3aGV0aGVyIHRvIGFsbG93IGtpbmcgY2FzdGxlIHByZW1vdmVzXG4gICAgZGVzdHM/OiBjZy5LZXlbXTsgLy8gcHJlbW92ZSBkZXN0aW5hdGlvbnMgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGlvblxuICAgIGV2ZW50cz86IHtcbiAgICAgIHNldD86IChvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSwgbWV0YWRhdGE/OiBjZy5TZXRQcmVtb3ZlTWV0YWRhdGEpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciB0aGUgcHJlbW92ZSBoYXMgYmVlbiBzZXRcbiAgICAgIHVuc2V0PzogKCkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBwcmVtb3ZlIGhhcyBiZWVuIHVuc2V0XG4gICAgfTtcbiAgfTtcbiAgcHJlZHJvcHBhYmxlPzoge1xuICAgIGVuYWJsZWQ/OiBib29sZWFuOyAvLyBhbGxvdyBwcmVkcm9wcyBmb3IgcGxheWVySW5kZXggdGhhdCBjYW4gbm90IG1vdmVcbiAgICBzaG93RHJvcERlc3RzPzogYm9vbGVhbjtcbiAgICBkcm9wRGVzdHM/OiBjZy5LZXlbXTtcbiAgICBjdXJyZW50Pzoge1xuICAgICAgLy8gU2VlIGNvcnJlc3BvbmRpbmcgdHlwZSBpbiBzdGF0ZS50cyBmb3IgbW9yZSBjb21tZW50c1xuICAgICAgcm9sZTogY2cuUm9sZTtcbiAgICAgIGtleTogY2cuS2V5O1xuICAgIH07XG4gICAgZXZlbnRzPzoge1xuICAgICAgc2V0PzogKHJvbGU6IGNnLlJvbGUsIGtleTogY2cuS2V5KSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHByZWRyb3AgaGFzIGJlZW4gc2V0XG4gICAgICB1bnNldD86ICgpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciB0aGUgcHJlZHJvcCBoYXMgYmVlbiB1bnNldFxuICAgIH07XG4gIH07XG4gIGRyYWdnYWJsZT86IHtcbiAgICBlbmFibGVkPzogYm9vbGVhbjsgLy8gYWxsb3cgbW92ZXMgJiBwcmVtb3ZlcyB0byB1c2UgZHJhZyduIGRyb3BcbiAgICBkaXN0YW5jZT86IG51bWJlcjsgLy8gbWluaW11bSBkaXN0YW5jZSB0byBpbml0aWF0ZSBhIGRyYWc7IGluIHBpeGVsc1xuICAgIGF1dG9EaXN0YW5jZT86IGJvb2xlYW47IC8vIGxldHMgY2hlc3Nncm91bmQgc2V0IGRpc3RhbmNlIHRvIHplcm8gd2hlbiB1c2VyIGRyYWdzIHBpZWNlc1xuICAgIGNlbnRlclBpZWNlPzogYm9vbGVhbjsgLy8gY2VudGVyIHRoZSBwaWVjZSBvbiBjdXJzb3IgYXQgZHJhZyBzdGFydFxuICAgIHNob3dHaG9zdD86IGJvb2xlYW47IC8vIHNob3cgZ2hvc3Qgb2YgcGllY2UgYmVpbmcgZHJhZ2dlZFxuICAgIGRlbGV0ZU9uRHJvcE9mZj86IGJvb2xlYW47IC8vIGRlbGV0ZSBhIHBpZWNlIHdoZW4gaXQgaXMgZHJvcHBlZCBvZmYgdGhlIGJvYXJkXG4gIH07XG4gIHNlbGVjdGFibGU/OiB7XG4gICAgLy8gZGlzYWJsZSB0byBlbmZvcmNlIGRyYWdnaW5nIG92ZXIgY2xpY2stY2xpY2sgbW92ZVxuICAgIGVuYWJsZWQ/OiBib29sZWFuO1xuICB9O1xuICBldmVudHM/OiB7XG4gICAgY2hhbmdlPzogKCkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBzaXR1YXRpb24gY2hhbmdlcyBvbiB0aGUgYm9hcmRcbiAgICAvLyBjYWxsZWQgYWZ0ZXIgYSBwaWVjZSBoYXMgYmVlbiBtb3ZlZC5cbiAgICAvLyBjYXB0dXJlZFBpZWNlIGlzIHVuZGVmaW5lZCBvciBsaWtlIHtwbGF5ZXJJbmRleDogJ3AxJzsgJ3JvbGUnOiAncXVlZW4nfVxuICAgIG1vdmU/OiAob3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXksIGNhcHR1cmVkUGllY2U/OiBjZy5QaWVjZSkgPT4gdm9pZDtcbiAgICBkcm9wTmV3UGllY2U/OiAocGllY2U6IGNnLlBpZWNlLCBrZXk6IGNnLktleSkgPT4gdm9pZDtcbiAgICBzZWxlY3Q/OiAoa2V5OiBjZy5LZXkpID0+IHZvaWQ7IC8vIGNhbGxlZCB3aGVuIGEgc3F1YXJlIGlzIHNlbGVjdGVkXG4gICAgaW5zZXJ0PzogKGVsZW1lbnRzOiBjZy5FbGVtZW50cykgPT4gdm9pZDsgLy8gd2hlbiB0aGUgYm9hcmQgRE9NIGhhcyBiZWVuIChyZSlpbnNlcnRlZFxuICB9O1xuICBkcm9wbW9kZT86IHtcbiAgICBhY3RpdmU/OiBib29sZWFuO1xuICAgIHBpZWNlPzogY2cuUGllY2U7XG4gICAgc2hvd0Ryb3BEZXN0cz86IGJvb2xlYW47IC8vIHdoZXRoZXIgdG8gYWRkIHRoZSBtb3ZlLWRlc3QgY2xhc3Mgb24gc3F1YXJlcyBmb3IgZHJvcHNcbiAgICBkcm9wRGVzdHM/OiBjZy5Ecm9wRGVzdHM7IC8vIHNlZSBjb3JyZXNwb25kaW5nIHN0YXRlLnRzIHR5cGUgZm9yIGNvbW1lbnRzXG4gICAgZXZlbnRzPzoge1xuICAgICAgY2FuY2VsPzogKCkgPT4gdm9pZDsgLy8gYXQgbGVhc3QgdGVtcG9yYXJ5IC0gaSBuZWVkIHRvIHJlZnJlc2ggcG9ja2V0IG9uIGNhbmNlbCBvZiBkcm9wIG1vZGUgKG1haW5seSB0byBjbGVhciB0aGUgaGlnaGxpZ2h0aW5nIG9mIHRoZSBzZWxlY3RlZCBwb2NrZXQgcGllY2UpIGFuZCBwb2NrZXQgaXMgY3VycmVudGx5IG91dHNpZGUgY2hlc3Nncm91bmR4IHNvIG5lZWQgdG8gcHJvdmlkZSBjYWxsYmFjayBoZXJlXG4gICAgfTtcbiAgfTtcbiAgZHJhd2FibGU/OiB7XG4gICAgZW5hYmxlZD86IGJvb2xlYW47IC8vIGNhbiBkcmF3XG4gICAgdmlzaWJsZT86IGJvb2xlYW47IC8vIGNhbiB2aWV3XG4gICAgZGVmYXVsdFNuYXBUb1ZhbGlkTW92ZT86IGJvb2xlYW47XG4gICAgZXJhc2VPbkNsaWNrPzogYm9vbGVhbjtcbiAgICBzaGFwZXM/OiBEcmF3U2hhcGVbXTtcbiAgICBhdXRvU2hhcGVzPzogRHJhd1NoYXBlW107XG4gICAgYnJ1c2hlcz86IERyYXdCcnVzaFtdO1xuICAgIHBpZWNlcz86IHtcbiAgICAgIGJhc2VVcmw/OiBzdHJpbmc7XG4gICAgfTtcbiAgICBvbkNoYW5nZT86IChzaGFwZXM6IERyYXdTaGFwZVtdKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgZHJhd2FibGUgc2hhcGVzIGNoYW5nZVxuICB9O1xuICBkaW1lbnNpb25zPzogY2cuQm9hcmREaW1lbnNpb25zO1xuICB2YXJpYW50PzogY2cuVmFyaWFudDtcbiAgY2hlc3M5NjA/OiBib29sZWFuO1xuICBub3RhdGlvbj86IGNnLk5vdGF0aW9uO1xuICBvbmx5RHJvcHNWYXJpYW50PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZShzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgY29uZmlnOiBDb25maWcpOiB2b2lkIHtcbiAgLy8gZG9uJ3QgbWVyZ2UgZGVzdGluYXRpb25zIGFuZCBhdXRvU2hhcGVzLiBKdXN0IG92ZXJyaWRlLlxuICBpZiAoY29uZmlnLm1vdmFibGUgJiYgY29uZmlnLm1vdmFibGUuZGVzdHMpIHN0YXRlLm1vdmFibGUuZGVzdHMgPSB1bmRlZmluZWQ7XG4gIGlmIChjb25maWcuZHJvcG1vZGU/LmRyb3BEZXN0cykgc3RhdGUuZHJvcG1vZGUuZHJvcERlc3RzID0gdW5kZWZpbmVkO1xuICBpZiAoY29uZmlnLmRyYXdhYmxlPy5hdXRvU2hhcGVzKSBzdGF0ZS5kcmF3YWJsZS5hdXRvU2hhcGVzID0gW107XG5cbiAgbWVyZ2Uoc3RhdGUsIGNvbmZpZyk7XG5cbiAgaWYgKGNvbmZpZy5kaW1lbnNpb25zKSBzdGF0ZS5kaW1lbnNpb25zID0gY29uZmlnLmRpbWVuc2lvbnM7XG5cbiAgLy8gaWYgYSBmZW4gd2FzIHByb3ZpZGVkLCByZXBsYWNlIHRoZSBwaWVjZXNcbiAgaWYgKGNvbmZpZy5mZW4pIHtcbiAgICBjb25zdCBwaWVjZXMgPSBmZW5SZWFkKGNvbmZpZy5mZW4sIHN0YXRlLmRpbWVuc2lvbnMsIHN0YXRlLnZhcmlhbnQpO1xuICAgIC8vIHByZXZlbnQgdG8gY2FuY2VsKCkgYWxyZWFkeSBzdGFydGVkIHBpZWNlIGRyYWcgZnJvbSBwb2NrZXQhXG4gICAgaWYgKHN0YXRlLnBpZWNlcy5nZXQoJ2EwJykgIT09IHVuZGVmaW5lZCkgcGllY2VzLnNldCgnYTAnLCBzdGF0ZS5waWVjZXMuZ2V0KCdhMCcpISk7XG4gICAgc3RhdGUucGllY2VzID0gcGllY2VzO1xuICAgIHN0YXRlLmRyYXdhYmxlLnNoYXBlcyA9IFtdO1xuICB9XG5cbiAgLy8gYXBwbHkgY29uZmlnIHZhbHVlcyB0aGF0IGNvdWxkIGJlIHVuZGVmaW5lZCB5ZXQgbWVhbmluZ2Z1bFxuICBpZiAoJ2NoZWNrJyBpbiBjb25maWcpIHNldENoZWNrKHN0YXRlLCBjb25maWcuY2hlY2sgfHwgZmFsc2UpO1xuICBpZiAoJ2xhc3RNb3ZlJyBpbiBjb25maWcgJiYgIWNvbmZpZy5sYXN0TW92ZSkgc3RhdGUubGFzdE1vdmUgPSB1bmRlZmluZWQ7XG4gIC8vIGluIGNhc2Ugb2YgWkggZHJvcCBsYXN0IG1vdmUsIHRoZXJlJ3MgYSBzaW5nbGUgc3F1YXJlLlxuICAvLyBpZiB0aGUgcHJldmlvdXMgbGFzdCBtb3ZlIGhhZCB0d28gc3F1YXJlcyxcbiAgLy8gdGhlIG1lcmdlIGFsZ29yaXRobSB3aWxsIGluY29ycmVjdGx5IGtlZXAgdGhlIHNlY29uZCBzcXVhcmUuXG4gIGVsc2UgaWYgKGNvbmZpZy5sYXN0TW92ZSkgc3RhdGUubGFzdE1vdmUgPSBjb25maWcubGFzdE1vdmU7XG5cbiAgLy8gZml4IG1vdmUvcHJlbW92ZSBkZXN0c1xuICBpZiAoc3RhdGUuc2VsZWN0ZWQpIHNldFNlbGVjdGVkKHN0YXRlLCBzdGF0ZS5zZWxlY3RlZCk7XG5cbiAgLy8gbm8gbmVlZCBmb3Igc3VjaCBzaG9ydCBhbmltYXRpb25zXG4gIGlmICghc3RhdGUuYW5pbWF0aW9uLmR1cmF0aW9uIHx8IHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbiA8IDEwMCkgc3RhdGUuYW5pbWF0aW9uLmVuYWJsZWQgPSBmYWxzZTtcblxuICBpZiAoIXN0YXRlLm1vdmFibGUucm9va0Nhc3RsZSAmJiBzdGF0ZS5tb3ZhYmxlLmRlc3RzKSB7XG4gICAgY29uc3QgcmFuayA9IHN0YXRlLm1vdmFibGUucGxheWVySW5kZXggPT09ICdwMScgPyAxIDogOCxcbiAgICAgIGtpbmdTdGFydFBvcyA9ICgnZScgKyByYW5rKSBhcyBjZy5LZXksXG4gICAgICBkZXN0cyA9IHN0YXRlLm1vdmFibGUuZGVzdHMuZ2V0KGtpbmdTdGFydFBvcyksXG4gICAgICBraW5nID0gc3RhdGUucGllY2VzLmdldChraW5nU3RhcnRQb3MpO1xuICAgIGlmICghZGVzdHMgfHwgIWtpbmcgfHwga2luZy5yb2xlICE9PSAnay1waWVjZScpIHJldHVybjtcbiAgICBzdGF0ZS5tb3ZhYmxlLmRlc3RzLnNldChcbiAgICAgIGtpbmdTdGFydFBvcyxcbiAgICAgIGRlc3RzLmZpbHRlcihcbiAgICAgICAgZCA9PlxuICAgICAgICAgICEoZCA9PT0gJ2EnICsgcmFuayAmJiBkZXN0cy5pbmNsdWRlcygoJ2MnICsgcmFuaykgYXMgY2cuS2V5KSkgJiZcbiAgICAgICAgICAhKGQgPT09ICdoJyArIHJhbmsgJiYgZGVzdHMuaW5jbHVkZXMoKCdnJyArIHJhbmspIGFzIGNnLktleSkpXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRDaGVjayhzdGF0ZTogSGVhZGxlc3NTdGF0ZSwgcGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4IHwgYm9vbGVhbik6IHZvaWQge1xuICBzdGF0ZS5jaGVjayA9IHVuZGVmaW5lZDtcbiAgaWYgKHBsYXllckluZGV4ID09PSB0cnVlKSBwbGF5ZXJJbmRleCA9IHN0YXRlLnR1cm5QbGF5ZXJJbmRleDtcbiAgaWYgKHBsYXllckluZGV4KVxuICAgIGZvciAoY29uc3QgW2ssIHBdIG9mIHN0YXRlLnBpZWNlcykge1xuICAgICAgaWYgKHAucm9sZSA9PT0gJ2stcGllY2UnICYmIHAucGxheWVySW5kZXggPT09IHBsYXllckluZGV4KSB7XG4gICAgICAgIHN0YXRlLmNoZWNrID0gaztcbiAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1lcmdlKGJhc2U6IGFueSwgZXh0ZW5kOiBhbnkpOiB2b2lkIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gZXh0ZW5kKSB7XG4gICAgaWYgKGlzT2JqZWN0KGJhc2Vba2V5XSkgJiYgaXNPYmplY3QoZXh0ZW5kW2tleV0pKSBtZXJnZShiYXNlW2tleV0sIGV4dGVuZFtrZXldKTtcbiAgICBlbHNlIGJhc2Vba2V5XSA9IGV4dGVuZFtrZXldO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG86IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0Jztcbn1cbiIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgKiBhcyBib2FyZCBmcm9tICcuL2JvYXJkJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGNsZWFyIGFzIGRyYXdDbGVhciB9IGZyb20gJy4vZHJhdyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGFuaW0gfSBmcm9tICcuL2FuaW0nO1xuaW1wb3J0IHByZWRyb3AgZnJvbSAnLi9wcmVkcm9wJztcbmltcG9ydCAqIGFzIFQgZnJvbSAnLi90cmFuc2Zvcm1hdGlvbnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyYWdDdXJyZW50IHtcbiAgb3JpZzogY2cuS2V5OyAvLyBvcmlnIGtleSBvZiBkcmFnZ2luZyBwaWVjZVxuICBvcmlnUG9zOiBjZy5Qb3M7XG4gIHBpZWNlOiBjZy5QaWVjZTtcbiAgcmVsOiBjZy5OdW1iZXJQYWlyOyAvLyB4OyB5IG9mIHRoZSBwaWVjZSBhdCBvcmlnaW5hbCBwb3NpdGlvblxuICBlcG9zOiBjZy5OdW1iZXJQYWlyOyAvLyBpbml0aWFsIGV2ZW50IHBvc2l0aW9uXG4gIHBvczogY2cuTnVtYmVyUGFpcjsgLy8gcmVsYXRpdmUgY3VycmVudCBwb3NpdGlvblxuICBkZWM6IGNnLk51bWJlclBhaXI7IC8vIHBpZWNlIGNlbnRlciBkZWNheVxuICBzdGFydGVkOiBib29sZWFuOyAvLyB3aGV0aGVyIHRoZSBkcmFnIGhhcyBzdGFydGVkOyBhcyBwZXIgdGhlIGRpc3RhbmNlIHNldHRpbmdcbiAgZWxlbWVudDogY2cuUGllY2VOb2RlIHwgKCgpID0+IGNnLlBpZWNlTm9kZSB8IHVuZGVmaW5lZCk7XG4gIG5ld1BpZWNlPzogYm9vbGVhbjsgLy8gaXQgaXQgYSBuZXcgcGllY2UgZnJvbSBvdXRzaWRlIHRoZSBib2FyZFxuICBmb3JjZT86IGJvb2xlYW47IC8vIGNhbiB0aGUgbmV3IHBpZWNlIHJlcGxhY2UgYW4gZXhpc3Rpbmcgb25lIChlZGl0b3IpXG4gIHByZXZpb3VzbHlTZWxlY3RlZD86IGNnLktleTtcbiAgb3JpZ2luVGFyZ2V0OiBFdmVudFRhcmdldCB8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydChzOiBTdGF0ZSwgZTogY2cuTW91Y2hFdmVudCk6IHZvaWQge1xuICBpZiAoIWUuaXNUcnVzdGVkIHx8IChlLmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9uICE9PSAwKSkgcmV0dXJuOyAvLyBvbmx5IHRvdWNoIG9yIGxlZnQgY2xpY2tcbiAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkgcmV0dXJuOyAvLyBzdXBwb3J0IG9uZSBmaW5nZXIgdG91Y2ggb25seVxuICBjb25zdCBib3VuZHMgPSBzLmRvbS5ib3VuZHMoKSxcbiAgICBwb3NpdGlvbiA9IHV0aWwuZXZlbnRQb3NpdGlvbihlKSEsXG4gICAgb3JpZyA9IGJvYXJkLmdldEtleUF0RG9tUG9zKHBvc2l0aW9uLCBzLm9yaWVudGF0aW9uLCBib3VuZHMsIHMuZGltZW5zaW9ucyk7XG4gIGlmICghb3JpZykgcmV0dXJuO1xuICBjb25zdCBwaWVjZSA9IHMucGllY2VzLmdldChvcmlnKTtcbiAgY29uc3QgcHJldmlvdXNseVNlbGVjdGVkID0gcy5zZWxlY3RlZDtcbiAgaWYgKFxuICAgICFwcmV2aW91c2x5U2VsZWN0ZWQgJiZcbiAgICBzLmRyYXdhYmxlLmVuYWJsZWQgJiZcbiAgICAocy5kcmF3YWJsZS5lcmFzZU9uQ2xpY2sgfHwgIXBpZWNlIHx8IHBpZWNlLnBsYXllckluZGV4ICE9PSBzLnR1cm5QbGF5ZXJJbmRleClcbiAgKVxuICAgIGRyYXdDbGVhcihzKTtcbiAgLy8gUHJldmVudCB0b3VjaCBzY3JvbGwgYW5kIGNyZWF0ZSBubyBjb3JyZXNwb25kaW5nIG1vdXNlIGV2ZW50LCBpZiB0aGVyZVxuICAvLyBpcyBhbiBpbnRlbnQgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgYm9hcmQuIElmIG5vIHBsYXllckluZGV4IGlzIG1vdmFibGVcbiAgLy8gKGFuZCB0aGUgYm9hcmQgaXMgbm90IGZvciB2aWV3aW5nIG9ubHkpLCB0b3VjaGVzIGFyZSBsaWtlbHkgaW50ZW5kZWQgdG9cbiAgLy8gc2VsZWN0IHNxdWFyZXMuXG4gIGlmIChcbiAgICBlLmNhbmNlbGFibGUgIT09IGZhbHNlICYmXG4gICAgKCFlLnRvdWNoZXMgfHwgIXMubW92YWJsZS5wbGF5ZXJJbmRleCB8fCBwaWVjZSB8fCBwcmV2aW91c2x5U2VsZWN0ZWQgfHwgcGllY2VDbG9zZVRvKHMsIHBvc2l0aW9uKSlcbiAgKVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgaGFkUHJlbW92ZSA9ICEhcy5wcmVtb3ZhYmxlLmN1cnJlbnQ7XG4gIGNvbnN0IGhhZFByZWRyb3AgPSAhIXMucHJlZHJvcHBhYmxlLmN1cnJlbnQ7XG4gIHMuc3RhdHMuY3RybEtleSA9IGUuY3RybEtleTtcbiAgaWYgKHMuc2VsZWN0ZWQgJiYgYm9hcmQuY2FuTW92ZShzLCBzLnNlbGVjdGVkLCBvcmlnKSkge1xuICAgIGFuaW0oc3RhdGUgPT4gYm9hcmQuc2VsZWN0U3F1YXJlKHN0YXRlLCBvcmlnKSwgcyk7XG4gIH0gZWxzZSB7XG4gICAgYm9hcmQuc2VsZWN0U3F1YXJlKHMsIG9yaWcpO1xuICB9XG4gIGNvbnN0IHN0aWxsU2VsZWN0ZWQgPSBzLnNlbGVjdGVkID09PSBvcmlnO1xuICBjb25zdCBlbGVtZW50ID0gcGllY2VFbGVtZW50QnlLZXkocywgb3JpZyk7XG4gIGlmIChwaWVjZSAmJiBlbGVtZW50ICYmIHN0aWxsU2VsZWN0ZWQgJiYgYm9hcmQuaXNEcmFnZ2FibGUocywgb3JpZykpIHtcbiAgICBjb25zdCBzcXVhcmVCb3VuZHMgPSBjb21wdXRlU3F1YXJlQm91bmRzKG9yaWcsIGJvdW5kcywgcy5kaW1lbnNpb25zLCBzLm9yaWVudGF0aW9uKTtcbiAgICBzLmRyYWdnYWJsZS5jdXJyZW50ID0ge1xuICAgICAgb3JpZyxcbiAgICAgIG9yaWdQb3M6IHV0aWwua2V5MnBvcyhvcmlnKSxcbiAgICAgIHBpZWNlLFxuICAgICAgcmVsOiBwb3NpdGlvbixcbiAgICAgIGVwb3M6IHBvc2l0aW9uLFxuICAgICAgcG9zOiBbMCwgMF0sXG4gICAgICBkZWM6IHMuZHJhZ2dhYmxlLmNlbnRlclBpZWNlXG4gICAgICAgID8gW1xuICAgICAgICAgICAgcG9zaXRpb25bMF0gLSAoc3F1YXJlQm91bmRzLmxlZnQgKyBzcXVhcmVCb3VuZHMud2lkdGggLyAyKSxcbiAgICAgICAgICAgIHBvc2l0aW9uWzFdIC0gKHNxdWFyZUJvdW5kcy50b3AgKyBzcXVhcmVCb3VuZHMuaGVpZ2h0IC8gMiksXG4gICAgICAgICAgXVxuICAgICAgICA6IFswLCAwXSxcbiAgICAgIHN0YXJ0ZWQ6IHMuZHJhZ2dhYmxlLmF1dG9EaXN0YW5jZSAmJiBzLnN0YXRzLmRyYWdnZWQsXG4gICAgICBlbGVtZW50LFxuICAgICAgcHJldmlvdXNseVNlbGVjdGVkLFxuICAgICAgb3JpZ2luVGFyZ2V0OiBlLnRhcmdldCxcbiAgICB9O1xuICAgIGVsZW1lbnQuY2dEcmFnZ2luZyA9IHRydWU7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZycpO1xuICAgIC8vIHBsYWNlIGdob3N0XG4gICAgY29uc3QgZ2hvc3QgPSBzLmRvbS5lbGVtZW50cy5naG9zdDtcbiAgICBpZiAoZ2hvc3QpIHtcbiAgICAgIGNvbnN0IHByb21vdGVkID0gcGllY2UucHJvbW90ZWQgPyAncHJvbW90ZWQgJyA6ICcnO1xuICAgICAgY29uc3Qgc2lkZSA9IHBpZWNlLnBsYXllckluZGV4ID09PSBzLm15UGxheWVySW5kZXggPyAnYWxseScgOiAnZW5lbXknO1xuICAgICAgZ2hvc3QuY2xhc3NOYW1lID0gYGdob3N0ICR7cGllY2UucGxheWVySW5kZXh9ICR7cHJvbW90ZWR9JHtwaWVjZS5yb2xlfSAke3NpZGV9YDtcbiAgICAgIHV0aWwudHJhbnNsYXRlQWJzKGdob3N0LCB1dGlsLnBvc1RvVHJhbnNsYXRlQWJzKGJvdW5kcywgcy5kaW1lbnNpb25zKSh1dGlsLmtleTJwb3Mob3JpZyksIHMub3JpZW50YXRpb24pKTtcbiAgICAgIHV0aWwuc2V0VmlzaWJsZShnaG9zdCwgdHJ1ZSk7XG4gICAgfVxuICAgIHByb2Nlc3NEcmFnKHMpO1xuICB9IGVsc2Uge1xuICAgIGlmIChoYWRQcmVtb3ZlKSBib2FyZC51bnNldFByZW1vdmUocyk7XG4gICAgaWYgKGhhZFByZWRyb3ApIGJvYXJkLnVuc2V0UHJlZHJvcChzKTtcbiAgfVxuICBzLmRvbS5yZWRyYXcoKTtcbn1cblxuZnVuY3Rpb24gcGllY2VDbG9zZVRvKHM6IFN0YXRlLCBwb3M6IGNnLk51bWJlclBhaXIpOiBib29sZWFuIHtcbiAgY29uc3Qgb3JpZW50YXRpb24gPSBzLm9yaWVudGF0aW9uLFxuICAgIGJvdW5kcyA9IHMuZG9tLmJvdW5kcygpLFxuICAgIHJhZGl1c1NxID0gTWF0aC5wb3coYm91bmRzLndpZHRoIC8gOCwgMik7XG4gIGZvciAoY29uc3Qga2V5IGluIHMucGllY2VzKSB7XG4gICAgY29uc3Qgc3F1YXJlQm91bmRzID0gY29tcHV0ZVNxdWFyZUJvdW5kcyhrZXkgYXMgY2cuS2V5LCBib3VuZHMsIHMuZGltZW5zaW9ucywgb3JpZW50YXRpb24pLFxuICAgICAgY2VudGVyOiBjZy5OdW1iZXJQYWlyID0gW3NxdWFyZUJvdW5kcy5sZWZ0ICsgc3F1YXJlQm91bmRzLndpZHRoIC8gMiwgc3F1YXJlQm91bmRzLnRvcCArIHNxdWFyZUJvdW5kcy5oZWlnaHQgLyAyXTtcbiAgICBpZiAodXRpbC5kaXN0YW5jZVNxKGNlbnRlciwgcG9zKSA8PSByYWRpdXNTcSkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhZ05ld1BpZWNlKHM6IFN0YXRlLCBwaWVjZTogY2cuUGllY2UsIGU6IGNnLk1vdWNoRXZlbnQsIGZvcmNlPzogYm9vbGVhbik6IHZvaWQge1xuICBjb25zdCBrZXk6IGNnLktleSA9ICdhMCc7XG4gIHMucGllY2VzLnNldChrZXksIHBpZWNlKTtcbiAgcy5kb20ucmVkcmF3KCk7XG5cbiAgY29uc3QgcG9zaXRpb24gPSB1dGlsLmV2ZW50UG9zaXRpb24oZSkhLFxuICAgIGFzUDEgPSBib2FyZC5wMVBvdihzKSxcbiAgICBib3VuZHMgPSBzLmRvbS5ib3VuZHMoKSxcbiAgICBzcXVhcmVCb3VuZHMgPSBjb21wdXRlU3F1YXJlQm91bmRzKGtleSwgYm91bmRzLCBzLmRpbWVuc2lvbnMsIHMub3JpZW50YXRpb24pO1xuXG4gIGNvbnN0IHJlbDogY2cuTnVtYmVyUGFpciA9IFtcbiAgICAoYXNQMSA/IDAgOiBzLmRpbWVuc2lvbnMud2lkdGggLSAxKSAqIHNxdWFyZUJvdW5kcy53aWR0aCArIGJvdW5kcy5sZWZ0LFxuICAgIChhc1AxID8gcy5kaW1lbnNpb25zLmhlaWdodCA6IC0xKSAqIHNxdWFyZUJvdW5kcy5oZWlnaHQgKyBib3VuZHMudG9wLFxuICBdO1xuXG4gIHMuZHJhZ2dhYmxlLmN1cnJlbnQgPSB7XG4gICAgb3JpZzoga2V5LFxuICAgIG9yaWdQb3M6IHV0aWwua2V5MnBvcygnYTAnKSxcbiAgICBwaWVjZSxcbiAgICByZWwsXG4gICAgZXBvczogcG9zaXRpb24sXG4gICAgcG9zOiBbcG9zaXRpb25bMF0gLSByZWxbMF0sIHBvc2l0aW9uWzFdIC0gcmVsWzFdXSxcbiAgICBkZWM6IFstc3F1YXJlQm91bmRzLndpZHRoIC8gMiwgLXNxdWFyZUJvdW5kcy5oZWlnaHQgLyAyXSxcbiAgICBzdGFydGVkOiB0cnVlLFxuICAgIGVsZW1lbnQ6ICgpID0+IHBpZWNlRWxlbWVudEJ5S2V5KHMsIGtleSksXG4gICAgb3JpZ2luVGFyZ2V0OiBlLnRhcmdldCxcbiAgICBuZXdQaWVjZTogdHJ1ZSxcbiAgICBmb3JjZTogISFmb3JjZSxcbiAgfTtcblxuICBpZiAocGllY2UgJiYgYm9hcmQuaXNQcmVkcm9wcGFibGUocykpIHtcbiAgICBzLnByZWRyb3BwYWJsZS5kcm9wRGVzdHMgPSBwcmVkcm9wKHMucGllY2VzLCBwaWVjZSwgcy5kaW1lbnNpb25zLCBzLnZhcmlhbnQpO1xuICB9XG5cbiAgcHJvY2Vzc0RyYWcocyk7XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NEcmFnKHM6IFN0YXRlKTogdm9pZCB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgY29uc3QgY3VyID0gcy5kcmFnZ2FibGUuY3VycmVudDtcbiAgICBpZiAoIWN1cikgcmV0dXJuO1xuICAgIC8vIGNhbmNlbCBhbmltYXRpb25zIHdoaWxlIGRyYWdnaW5nXG4gICAgaWYgKHMuYW5pbWF0aW9uLmN1cnJlbnQ/LnBsYW4uYW5pbXMuaGFzKGN1ci5vcmlnKSkgcy5hbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAvLyBpZiBtb3ZpbmcgcGllY2UgaXMgZ29uZSwgY2FuY2VsXG4gICAgY29uc3Qgb3JpZ1BpZWNlID0gcy5waWVjZXMuZ2V0KGN1ci5vcmlnKTtcbiAgICBpZiAoIW9yaWdQaWVjZSB8fCAhdXRpbC5zYW1lUGllY2Uob3JpZ1BpZWNlLCBjdXIucGllY2UpKSBjYW5jZWwocyk7XG4gICAgZWxzZSB7XG4gICAgICBpZiAoIWN1ci5zdGFydGVkICYmIHV0aWwuZGlzdGFuY2VTcShjdXIuZXBvcywgY3VyLnJlbCkgPj0gTWF0aC5wb3cocy5kcmFnZ2FibGUuZGlzdGFuY2UsIDIpKSBjdXIuc3RhcnRlZCA9IHRydWU7XG4gICAgICBpZiAoY3VyLnN0YXJ0ZWQpIHtcbiAgICAgICAgLy8gc3VwcG9ydCBsYXp5IGVsZW1lbnRzXG4gICAgICAgIGlmICh0eXBlb2YgY3VyLmVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjb25zdCBmb3VuZCA9IGN1ci5lbGVtZW50KCk7XG4gICAgICAgICAgaWYgKCFmb3VuZCkgcmV0dXJuO1xuICAgICAgICAgIGZvdW5kLmNnRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgIGZvdW5kLmNsYXNzTGlzdC5hZGQoJ2RyYWdnaW5nJyk7XG4gICAgICAgICAgY3VyLmVsZW1lbnQgPSBmb3VuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1ci5wb3MgPSBbY3VyLmVwb3NbMF0gLSBjdXIucmVsWzBdLCBjdXIuZXBvc1sxXSAtIGN1ci5yZWxbMV1dO1xuXG4gICAgICAgIC8vIG1vdmUgcGllY2VcbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSB1dGlsLnBvc1RvVHJhbnNsYXRlQWJzKHMuZG9tLmJvdW5kcygpLCBzLmRpbWVuc2lvbnMpKGN1ci5vcmlnUG9zLCBzLm9yaWVudGF0aW9uKTtcbiAgICAgICAgdHJhbnNsYXRpb25bMF0gKz0gY3VyLnBvc1swXSArIGN1ci5kZWNbMF07XG4gICAgICAgIHRyYW5zbGF0aW9uWzFdICs9IGN1ci5wb3NbMV0gKyBjdXIuZGVjWzFdO1xuICAgICAgICB1dGlsLnRyYW5zbGF0ZUFicyhjdXIuZWxlbWVudCwgdHJhbnNsYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzRHJhZyhzKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlKHM6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KTogdm9pZCB7XG4gIC8vIHN1cHBvcnQgb25lIGZpbmdlciB0b3VjaCBvbmx5XG4gIGlmIChzLmRyYWdnYWJsZS5jdXJyZW50ICYmICghZS50b3VjaGVzIHx8IGUudG91Y2hlcy5sZW5ndGggPCAyKSkge1xuICAgIHMuZHJhZ2dhYmxlLmN1cnJlbnQuZXBvcyA9IHV0aWwuZXZlbnRQb3NpdGlvbihlKSE7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZChzOiBTdGF0ZSwgZTogY2cuTW91Y2hFdmVudCk6IHZvaWQge1xuICBjb25zdCBjdXIgPSBzLmRyYWdnYWJsZS5jdXJyZW50O1xuICBpZiAoIWN1cikgcmV0dXJuO1xuICAvLyBjcmVhdGUgbm8gY29ycmVzcG9uZGluZyBtb3VzZSBldmVudFxuICBpZiAoZS50eXBlID09PSAndG91Y2hlbmQnICYmIGUuY2FuY2VsYWJsZSAhPT0gZmFsc2UpIGUucHJldmVudERlZmF1bHQoKTtcbiAgLy8gY29tcGFyaW5nIHdpdGggdGhlIG9yaWdpbiB0YXJnZXQgaXMgYW4gZWFzeSB3YXkgdG8gdGVzdCB0aGF0IHRoZSBlbmQgZXZlbnRcbiAgLy8gaGFzIHRoZSBzYW1lIHRvdWNoIG9yaWdpblxuICBpZiAoZS50eXBlID09PSAndG91Y2hlbmQnICYmIGN1ciAmJiBjdXIub3JpZ2luVGFyZ2V0ICE9PSBlLnRhcmdldCAmJiAhY3VyLm5ld1BpZWNlKSB7XG4gICAgcy5kcmFnZ2FibGUuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm47XG4gIH1cbiAgYm9hcmQudW5zZXRQcmVtb3ZlKHMpO1xuICBib2FyZC51bnNldFByZWRyb3Aocyk7XG4gIC8vIHRvdWNoZW5kIGhhcyBubyBwb3NpdGlvbjsgc28gdXNlIHRoZSBsYXN0IHRvdWNobW92ZSBwb3NpdGlvbiBpbnN0ZWFkXG4gIGNvbnN0IGV2ZW50UG9zID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpIHx8IGN1ci5lcG9zO1xuICBjb25zdCBkZXN0ID0gYm9hcmQuZ2V0S2V5QXREb21Qb3MoZXZlbnRQb3MsIHMub3JpZW50YXRpb24sIHMuZG9tLmJvdW5kcygpLCBzLmRpbWVuc2lvbnMpO1xuICBpZiAoZGVzdCAmJiBjdXIuc3RhcnRlZCAmJiBjdXIub3JpZyAhPT0gZGVzdCkge1xuICAgIGlmIChjdXIubmV3UGllY2UpIGJvYXJkLmRyb3BOZXdQaWVjZShzLCBjdXIub3JpZywgZGVzdCwgY3VyLmZvcmNlKTtcbiAgICBlbHNlIHtcbiAgICAgIHMuc3RhdHMuY3RybEtleSA9IGUuY3RybEtleTtcbiAgICAgIGlmIChib2FyZC51c2VyTW92ZShzLCBjdXIub3JpZywgZGVzdCkpIHMuc3RhdHMuZHJhZ2dlZCA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGN1ci5uZXdQaWVjZSkge1xuICAgIHMucGllY2VzLmRlbGV0ZShjdXIub3JpZyk7XG4gIH0gZWxzZSBpZiAocy5kcmFnZ2FibGUuZGVsZXRlT25Ecm9wT2ZmICYmICFkZXN0KSB7XG4gICAgcy5waWVjZXMuZGVsZXRlKGN1ci5vcmlnKTtcbiAgICB1dGlsLmNhbGxVc2VyRnVuY3Rpb24ocy5ldmVudHMuY2hhbmdlKTtcbiAgfVxuICBpZiAoY3VyICYmIGN1ci5vcmlnID09PSBjdXIucHJldmlvdXNseVNlbGVjdGVkICYmIChjdXIub3JpZyA9PT0gZGVzdCB8fCAhZGVzdCkpIGJvYXJkLnVuc2VsZWN0KHMpO1xuICBlbHNlIGlmICghcy5zZWxlY3RhYmxlLmVuYWJsZWQpIGJvYXJkLnVuc2VsZWN0KHMpO1xuXG4gIHJlbW92ZURyYWdFbGVtZW50cyhzKTtcblxuICBzLmRyYWdnYWJsZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICBzLmRvbS5yZWRyYXcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbChzOiBTdGF0ZSk6IHZvaWQge1xuICBjb25zdCBjdXIgPSBzLmRyYWdnYWJsZS5jdXJyZW50O1xuICBpZiAoY3VyKSB7XG4gICAgaWYgKGN1ci5uZXdQaWVjZSkgcy5waWVjZXMuZGVsZXRlKGN1ci5vcmlnKTtcbiAgICBzLmRyYWdnYWJsZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIGJvYXJkLnVuc2VsZWN0KHMpO1xuICAgIHJlbW92ZURyYWdFbGVtZW50cyhzKTtcbiAgICBzLmRvbS5yZWRyYXcoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVEcmFnRWxlbWVudHMoczogU3RhdGUpOiB2b2lkIHtcbiAgY29uc3QgZSA9IHMuZG9tLmVsZW1lbnRzO1xuICBpZiAoZS5naG9zdCkgdXRpbC5zZXRWaXNpYmxlKGUuZ2hvc3QsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVNxdWFyZUJvdW5kcyhrZXk6IGNnLktleSwgYm91bmRzOiBDbGllbnRSZWN0LCBiZDogY2cuQm9hcmREaW1lbnNpb25zLCBvcmllbnRhdGlvbjogY2cuT3JpZW50YXRpb24pIHtcbiAgY29uc3QgcG9zID0gVC5tYXBUb1AxSW52ZXJzZVtvcmllbnRhdGlvbl0odXRpbC5rZXkycG9zKGtleSksIGJkKTtcbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiBib3VuZHMubGVmdCArIChib3VuZHMud2lkdGggKiAocG9zWzBdIC0gMSkpIC8gYmQud2lkdGgsXG4gICAgdG9wOiBib3VuZHMudG9wICsgKGJvdW5kcy5oZWlnaHQgKiAoYmQuaGVpZ2h0IC0gcG9zWzFdKSkgLyBiZC5oZWlnaHQsXG4gICAgd2lkdGg6IGJvdW5kcy53aWR0aCAvIGJkLndpZHRoLFxuICAgIGhlaWdodDogYm91bmRzLmhlaWdodCAvIGJkLmhlaWdodCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGllY2VFbGVtZW50QnlLZXkoczogU3RhdGUsIGtleTogY2cuS2V5KTogY2cuUGllY2VOb2RlIHwgdW5kZWZpbmVkIHtcbiAgbGV0IGVsID0gcy5kb20uZWxlbWVudHMuYm9hcmQuZmlyc3RDaGlsZDtcbiAgd2hpbGUgKGVsKSB7XG4gICAgaWYgKChlbCBhcyBjZy5LZXllZE5vZGUpLmNnS2V5ID09PSBrZXkgJiYgKGVsIGFzIGNnLktleWVkTm9kZSkudGFnTmFtZSA9PT0gJ1BJRUNFJykgcmV0dXJuIGVsIGFzIGNnLlBpZWNlTm9kZTtcbiAgICBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICB9XG4gIHJldHVybjtcbn1cbiIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgeyB1bnNlbGVjdCwgY2FuY2VsTW92ZSwgZ2V0S2V5QXREb21Qb3MsIGdldFNuYXBwZWRLZXlBdERvbVBvcyB9IGZyb20gJy4vYm9hcmQnO1xuaW1wb3J0IHsgZXZlbnRQb3NpdGlvbiwgaXNSaWdodEJ1dHRvbiB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBEcmF3U2hhcGUge1xuICBvcmlnOiBjZy5LZXk7XG4gIGRlc3Q/OiBjZy5LZXk7XG4gIGJydXNoOiBzdHJpbmc7XG4gIG1vZGlmaWVycz86IERyYXdNb2RpZmllcnM7XG4gIHBpZWNlPzogRHJhd1NoYXBlUGllY2U7XG4gIGN1c3RvbVN2Zz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3U2hhcGVQaWVjZSB7XG4gIHJvbGU6IGNnLlJvbGU7XG4gIHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleDtcbiAgc2NhbGU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd0JydXNoIHtcbiAga2V5OiBzdHJpbmc7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIG9wYWNpdHk6IG51bWJlcjtcbiAgbGluZVdpZHRoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd0JydXNoZXMge1xuICBbbmFtZTogc3RyaW5nXTogRHJhd0JydXNoO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERyYXdNb2RpZmllcnMge1xuICBsaW5lV2lkdGg/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd2FibGUge1xuICBlbmFibGVkOiBib29sZWFuOyAvLyBjYW4gZHJhd1xuICB2aXNpYmxlOiBib29sZWFuOyAvLyBjYW4gdmlld1xuICBkZWZhdWx0U25hcFRvVmFsaWRNb3ZlOiBib29sZWFuO1xuICBlcmFzZU9uQ2xpY2s6IGJvb2xlYW47XG4gIG9uQ2hhbmdlPzogKHNoYXBlczogRHJhd1NoYXBlW10pID0+IHZvaWQ7XG4gIHNoYXBlczogRHJhd1NoYXBlW107IC8vIHVzZXIgc2hhcGVzXG4gIGF1dG9TaGFwZXM6IERyYXdTaGFwZVtdOyAvLyBjb21wdXRlciBzaGFwZXNcbiAgY3VycmVudD86IERyYXdDdXJyZW50O1xuICBicnVzaGVzOiBEcmF3QnJ1c2hlcztcbiAgLy8gZHJhd2FibGUgU1ZHIHBpZWNlczsgdXNlZCBmb3IgY3Jhenlob3VzZSBkcm9wXG4gIHBpZWNlczoge1xuICAgIGJhc2VVcmw6IHN0cmluZztcbiAgfTtcbiAgcHJldlN2Z0hhc2g6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3Q3VycmVudCB7XG4gIG9yaWc6IGNnLktleTsgLy8gb3JpZyBrZXkgb2YgZHJhd2luZ1xuICBkZXN0PzogY2cuS2V5OyAvLyBzaGFwZSBkZXN0LCBvciB1bmRlZmluZWQgZm9yIGNpcmNsZVxuICBtb3VzZVNxPzogY2cuS2V5OyAvLyBzcXVhcmUgYmVpbmcgbW91c2VkIG92ZXJcbiAgcG9zOiBjZy5OdW1iZXJQYWlyOyAvLyByZWxhdGl2ZSBjdXJyZW50IHBvc2l0aW9uXG4gIGJydXNoOiBzdHJpbmc7IC8vIGJydXNoIG5hbWUgZm9yIHNoYXBlXG4gIHNuYXBUb1ZhbGlkTW92ZTogYm9vbGVhbjsgLy8gd2hldGhlciB0byBzbmFwIHRvIHZhbGlkIHBpZWNlIG1vdmVzXG59XG5cbmNvbnN0IGJydXNoZXMgPSBbJ2dyZWVuJywgJ3JlZCcsICdibHVlJywgJ3llbGxvdyddO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnQoc3RhdGU6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KTogdm9pZCB7XG4gIC8vIHN1cHBvcnQgb25lIGZpbmdlciB0b3VjaCBvbmx5XG4gIGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA+IDEpIHJldHVybjtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBlLmN0cmxLZXkgPyB1bnNlbGVjdChzdGF0ZSkgOiBjYW5jZWxNb3ZlKHN0YXRlKTtcbiAgY29uc3QgcG9zID0gZXZlbnRQb3NpdGlvbihlKSEsXG4gICAgb3JpZyA9IGdldEtleUF0RG9tUG9zKHBvcywgc3RhdGUub3JpZW50YXRpb24sIHN0YXRlLmRvbS5ib3VuZHMoKSwgc3RhdGUuZGltZW5zaW9ucyk7XG4gIGlmICghb3JpZykgcmV0dXJuO1xuICBzdGF0ZS5kcmF3YWJsZS5jdXJyZW50ID0ge1xuICAgIG9yaWcsXG4gICAgcG9zLFxuICAgIGJydXNoOiBldmVudEJydXNoKGUpLFxuICAgIHNuYXBUb1ZhbGlkTW92ZTogc3RhdGUuZHJhd2FibGUuZGVmYXVsdFNuYXBUb1ZhbGlkTW92ZSxcbiAgfTtcblxuICBwcm9jZXNzRHJhdyhzdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzRHJhdyhzdGF0ZTogU3RhdGUpOiB2b2lkIHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICBjb25zdCBjdXIgPSBzdGF0ZS5kcmF3YWJsZS5jdXJyZW50O1xuICAgIGlmIChjdXIpIHtcbiAgICAgIGNvbnN0IGtleUF0RG9tUG9zID0gZ2V0S2V5QXREb21Qb3MoY3VyLnBvcywgc3RhdGUub3JpZW50YXRpb24sIHN0YXRlLmRvbS5ib3VuZHMoKSwgc3RhdGUuZGltZW5zaW9ucyk7XG4gICAgICBpZiAoIWtleUF0RG9tUG9zKSB7XG4gICAgICAgIGN1ci5zbmFwVG9WYWxpZE1vdmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdXNlU3EgPSBjdXIuc25hcFRvVmFsaWRNb3ZlXG4gICAgICAgID8gZ2V0U25hcHBlZEtleUF0RG9tUG9zKGN1ci5vcmlnLCBjdXIucG9zLCBzdGF0ZS5vcmllbnRhdGlvbiwgc3RhdGUuZG9tLmJvdW5kcygpLCBzdGF0ZS5kaW1lbnNpb25zKVxuICAgICAgICA6IGtleUF0RG9tUG9zO1xuICAgICAgaWYgKG1vdXNlU3EgIT09IGN1ci5tb3VzZVNxKSB7XG4gICAgICAgIGN1ci5tb3VzZVNxID0gbW91c2VTcTtcbiAgICAgICAgY3VyLmRlc3QgPSBtb3VzZVNxICE9PSBjdXIub3JpZyA/IG1vdXNlU3EgOiB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLmRvbS5yZWRyYXdOb3coKTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NEcmF3KHN0YXRlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW92ZShzdGF0ZTogU3RhdGUsIGU6IGNnLk1vdWNoRXZlbnQpOiB2b2lkIHtcbiAgaWYgKHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQpIHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQucG9zID0gZXZlbnRQb3NpdGlvbihlKSE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmQoc3RhdGU6IFN0YXRlKTogdm9pZCB7XG4gIGNvbnN0IGN1ciA9IHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQ7XG4gIGlmIChjdXIpIHtcbiAgICBpZiAoY3VyLm1vdXNlU3EpIGFkZFNoYXBlKHN0YXRlLmRyYXdhYmxlLCBjdXIpO1xuICAgIGNhbmNlbChzdGF0ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbmNlbChzdGF0ZTogU3RhdGUpOiB2b2lkIHtcbiAgaWYgKHN0YXRlLmRyYXdhYmxlLmN1cnJlbnQpIHtcbiAgICBzdGF0ZS5kcmF3YWJsZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIHN0YXRlLmRvbS5yZWRyYXcoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIoc3RhdGU6IFN0YXRlKTogdm9pZCB7XG4gIGlmIChzdGF0ZS5kcmF3YWJsZS5zaGFwZXMubGVuZ3RoKSB7XG4gICAgc3RhdGUuZHJhd2FibGUuc2hhcGVzID0gW107XG4gICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICAgIG9uQ2hhbmdlKHN0YXRlLmRyYXdhYmxlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudEJydXNoKGU6IGNnLk1vdWNoRXZlbnQpOiBzdHJpbmcge1xuICBjb25zdCBtb2RBID0gKGUuc2hpZnRLZXkgfHwgZS5jdHJsS2V5KSAmJiBpc1JpZ2h0QnV0dG9uKGUpO1xuICBjb25zdCBtb2RCID0gZS5hbHRLZXkgfHwgZS5tZXRhS2V5IHx8IGUuZ2V0TW9kaWZpZXJTdGF0ZT8uKCdBbHRHcmFwaCcpO1xuICByZXR1cm4gYnJ1c2hlc1sobW9kQSA/IDEgOiAwKSArIChtb2RCID8gMiA6IDApXTtcbn1cblxuZnVuY3Rpb24gYWRkU2hhcGUoZHJhd2FibGU6IERyYXdhYmxlLCBjdXI6IERyYXdDdXJyZW50KTogdm9pZCB7XG4gIGNvbnN0IHNhbWVTaGFwZSA9IChzOiBEcmF3U2hhcGUpID0+IHMub3JpZyA9PT0gY3VyLm9yaWcgJiYgcy5kZXN0ID09PSBjdXIuZGVzdDtcbiAgY29uc3Qgc2ltaWxhciA9IGRyYXdhYmxlLnNoYXBlcy5maWx0ZXIoc2FtZVNoYXBlKVswXTtcbiAgaWYgKHNpbWlsYXIpIGRyYXdhYmxlLnNoYXBlcyA9IGRyYXdhYmxlLnNoYXBlcy5maWx0ZXIocyA9PiAhc2FtZVNoYXBlKHMpKTtcbiAgaWYgKCFzaW1pbGFyIHx8IHNpbWlsYXIuYnJ1c2ggIT09IGN1ci5icnVzaCkgZHJhd2FibGUuc2hhcGVzLnB1c2goY3VyKTtcbiAgb25DaGFuZ2UoZHJhd2FibGUpO1xufVxuXG5mdW5jdGlvbiBvbkNoYW5nZShkcmF3YWJsZTogRHJhd2FibGUpOiB2b2lkIHtcbiAgaWYgKGRyYXdhYmxlLm9uQ2hhbmdlKSBkcmF3YWJsZS5vbkNoYW5nZShkcmF3YWJsZS5zaGFwZXMpO1xufVxuIiwiaW1wb3J0IHsgSGVhZGxlc3NTdGF0ZSwgU3RhdGUgfSBmcm9tICcuL3N0YXRlJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0ICogYXMgYm9hcmQgZnJvbSAnLi9ib2FyZCc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBjYW5jZWwgYXMgY2FuY2VsRHJhZyB9IGZyb20gJy4vZHJhZyc7XG5pbXBvcnQgcHJlZHJvcCBmcm9tICcuL3ByZWRyb3AnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0RHJvcE1vZGUoczogU3RhdGUsIHBpZWNlPzogY2cuUGllY2UpOiB2b2lkIHtcbiAgcy5kcm9wbW9kZS5hY3RpdmUgPSB0cnVlO1xuICBzLmRyb3Btb2RlLnBpZWNlID0gcGllY2U7XG5cbiAgY2FuY2VsRHJhZyhzKTtcblxuICBib2FyZC51bnNlbGVjdChzKTtcblxuICBpZiAocGllY2UgJiYgYm9hcmQuaXNQcmVkcm9wcGFibGUocykpIHtcbiAgICBzLnByZWRyb3BwYWJsZS5kcm9wRGVzdHMgPSBwcmVkcm9wKHMucGllY2VzLCBwaWVjZSwgcy5kaW1lbnNpb25zLCBzLnZhcmlhbnQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxEcm9wTW9kZShzOiBIZWFkbGVzc1N0YXRlKTogdm9pZCB7XG4gIHMuZHJvcG1vZGUuYWN0aXZlID0gZmFsc2U7XG4gIHV0aWwuY2FsbFVzZXJGdW5jdGlvbihzLmRyb3Btb2RlLmV2ZW50cz8uY2FuY2VsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyb3AoczogU3RhdGUsIGU6IGNnLk1vdWNoRXZlbnQpOiB2b2lkIHtcbiAgaWYgKCFzLmRyb3Btb2RlLmFjdGl2ZSkgcmV0dXJuO1xuXG4gIGJvYXJkLnVuc2V0UHJlbW92ZShzKTtcbiAgYm9hcmQudW5zZXRQcmVkcm9wKHMpO1xuXG4gIGNvbnN0IHBpZWNlID0gcy5kcm9wbW9kZS5waWVjZTtcblxuICBpZiAocGllY2UpIHtcbiAgICBzLnBpZWNlcy5zZXQoJ2EwJywgcGllY2UpO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdXRpbC5ldmVudFBvc2l0aW9uKGUpO1xuICAgIGNvbnN0IGRlc3QgPSBwb3NpdGlvbiAmJiBib2FyZC5nZXRLZXlBdERvbVBvcyhwb3NpdGlvbiwgcy5vcmllbnRhdGlvbiwgcy5kb20uYm91bmRzKCksIHMuZGltZW5zaW9ucyk7XG4gICAgaWYgKGRlc3QpIGJvYXJkLmRyb3BOZXdQaWVjZShzLCAnYTAnLCBkZXN0KTtcbiAgfVxuICBzLmRvbS5yZWRyYXcoKTtcbn1cbiIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgKiBhcyBkcmFnIGZyb20gJy4vZHJhZyc7XG5pbXBvcnQgKiBhcyBkcmF3IGZyb20gJy4vZHJhdyc7XG5pbXBvcnQgeyBjYW5jZWxEcm9wTW9kZSwgZHJvcCB9IGZyb20gJy4vZHJvcCc7XG5pbXBvcnQgeyBldmVudFBvc2l0aW9uLCBpc1JpZ2h0QnV0dG9uIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0S2V5QXREb21Qb3MgfSBmcm9tICcuL2JvYXJkJztcbmltcG9ydCB7IFBpZWNlIH0gZnJvbSAnLi90eXBlcyc7XG5cbnR5cGUgTW91Y2hCaW5kID0gKGU6IGNnLk1vdWNoRXZlbnQpID0+IHZvaWQ7XG50eXBlIFN0YXRlTW91Y2hCaW5kID0gKGQ6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KSA9PiB2b2lkO1xuXG5leHBvcnQgZnVuY3Rpb24gYmluZEJvYXJkKHM6IFN0YXRlLCBib3VuZHNVcGRhdGVkOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gIGNvbnN0IGJvYXJkRWwgPSBzLmRvbS5lbGVtZW50cy5ib2FyZDtcblxuICBpZiAoIXMuZG9tLnJlbGF0aXZlICYmIHMucmVzaXphYmxlICYmICdSZXNpemVPYnNlcnZlcicgaW4gd2luZG93KSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgKHdpbmRvdyBhcyBhbnkpWydSZXNpemVPYnNlcnZlciddKGJvdW5kc1VwZGF0ZWQpO1xuICAgIG9ic2VydmVyLm9ic2VydmUoYm9hcmRFbCk7XG4gIH1cblxuICBpZiAocy52aWV3T25seSkgcmV0dXJuO1xuXG4gIC8vIENhbm5vdCBiZSBwYXNzaXZlLCBiZWNhdXNlIHdlIHByZXZlbnQgdG91Y2ggc2Nyb2xsaW5nIGFuZCBkcmFnZ2luZyBvZlxuICAvLyBzZWxlY3RlZCBlbGVtZW50cy5cbiAgY29uc3Qgb25TdGFydCA9IHN0YXJ0RHJhZ09yRHJhdyhzKTtcbiAgYm9hcmRFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25TdGFydCBhcyBFdmVudExpc3RlbmVyLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICBib2FyZEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uU3RhcnQgYXMgRXZlbnRMaXN0ZW5lciwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcblxuICBpZiAocy5kaXNhYmxlQ29udGV4dE1lbnUgfHwgcy5kcmF3YWJsZS5lbmFibGVkKSB7XG4gICAgYm9hcmRFbC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgfVxufVxuXG4vLyByZXR1cm5zIHRoZSB1bmJpbmQgZnVuY3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBiaW5kRG9jdW1lbnQoczogU3RhdGUsIGJvdW5kc1VwZGF0ZWQ6ICgpID0+IHZvaWQpOiBjZy5VbmJpbmQge1xuICBjb25zdCB1bmJpbmRzOiBjZy5VbmJpbmRbXSA9IFtdO1xuXG4gIC8vIE9sZCB2ZXJzaW9ucyBvZiBFZGdlIGFuZCBTYWZhcmkgZG8gbm90IHN1cHBvcnQgUmVzaXplT2JzZXJ2ZXIuIFNlbmRcbiAgLy8gY2hlc3Nncm91bmQucmVzaXplIGlmIGEgdXNlciBhY3Rpb24gaGFzIGNoYW5nZWQgdGhlIGJvdW5kcyBvZiB0aGUgYm9hcmQuXG4gIGlmICghcy5kb20ucmVsYXRpdmUgJiYgcy5yZXNpemFibGUgJiYgISgnUmVzaXplT2JzZXJ2ZXInIGluIHdpbmRvdykpIHtcbiAgICB1bmJpbmRzLnB1c2godW5iaW5kYWJsZShkb2N1bWVudC5ib2R5LCAnY2hlc3Nncm91bmQucmVzaXplJywgYm91bmRzVXBkYXRlZCkpO1xuICB9XG5cbiAgaWYgKCFzLnZpZXdPbmx5KSB7XG4gICAgY29uc3Qgb25tb3ZlID0gZHJhZ09yRHJhdyhzLCBkcmFnLm1vdmUsIGRyYXcubW92ZSk7XG4gICAgY29uc3Qgb25lbmQgPSBkcmFnT3JEcmF3KHMsIGRyYWcuZW5kLCBkcmF3LmVuZCk7XG5cbiAgICBmb3IgKGNvbnN0IGV2IG9mIFsndG91Y2htb3ZlJywgJ21vdXNlbW92ZSddKSB1bmJpbmRzLnB1c2godW5iaW5kYWJsZShkb2N1bWVudCwgZXYsIG9ubW92ZSBhcyBFdmVudExpc3RlbmVyKSk7XG4gICAgZm9yIChjb25zdCBldiBvZiBbJ3RvdWNoZW5kJywgJ21vdXNldXAnXSkgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUoZG9jdW1lbnQsIGV2LCBvbmVuZCBhcyBFdmVudExpc3RlbmVyKSk7XG5cbiAgICBjb25zdCBvblNjcm9sbCA9ICgpID0+IHMuZG9tLmJvdW5kcy5jbGVhcigpO1xuICAgIHVuYmluZHMucHVzaCh1bmJpbmRhYmxlKGRvY3VtZW50LCAnc2Nyb2xsJywgb25TY3JvbGwsIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KSk7XG4gICAgdW5iaW5kcy5wdXNoKHVuYmluZGFibGUod2luZG93LCAncmVzaXplJywgb25TY3JvbGwsIHsgcGFzc2l2ZTogdHJ1ZSB9KSk7XG4gIH1cblxuICByZXR1cm4gKCkgPT4gdW5iaW5kcy5mb3JFYWNoKGYgPT4gZigpKTtcbn1cblxuZnVuY3Rpb24gdW5iaW5kYWJsZShcbiAgZWw6IEV2ZW50VGFyZ2V0LFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgY2FsbGJhY2s6IEV2ZW50TGlzdGVuZXIsXG4gIG9wdGlvbnM/OiBBZGRFdmVudExpc3RlbmVyT3B0aW9uc1xuKTogY2cuVW5iaW5kIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgcmV0dXJuICgpID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaywgb3B0aW9ucyk7XG59XG5cbi8vIHNsaWdodGx5IG1pc2xlYWRpbmcgbmFtZSAtIGJlY2F1c2UgaXQgYWxzbyBoYW5kbGVzIGNsaWNrLW1vdmluZy9kcm9wcGluZyBvZiBwaWVjZXMuIGdlbmVyYWxseSBpdCBzZWVtcyB0byBoYW5kbGUgYWxsIGNsaWNrIGV2ZW50cyBvbiB0aGUgYm9hcmQuXG5mdW5jdGlvbiBzdGFydERyYWdPckRyYXcoczogU3RhdGUpOiBNb3VjaEJpbmQge1xuICByZXR1cm4gZSA9PiB7XG4gICAgaWYgKHMuZHJhZ2dhYmxlLmN1cnJlbnQpIGRyYWcuY2FuY2VsKHMpO1xuICAgIGVsc2UgaWYgKHMuZHJhd2FibGUuY3VycmVudCkgZHJhdy5jYW5jZWwocyk7XG4gICAgZWxzZSBpZiAoZS5zaGlmdEtleSB8fCBpc1JpZ2h0QnV0dG9uKGUpKSB7XG4gICAgICBpZiAocy5kcmF3YWJsZS5lbmFibGVkKSBkcmF3LnN0YXJ0KHMsIGUpO1xuICAgIH0gZWxzZSBpZiAoIXMudmlld09ubHkpIHtcbiAgICAgIGlmIChzLmRyb3Btb2RlLmFjdGl2ZSAmJiB1bmRlZmluZWQgPT09IHNxdWFyZU9jY3VwaWVkKHMsIGUpKSB7XG4gICAgICAgIC8vIHRoaXMgY2FzZSBjb3ZlcnMgbm9ybWFsIGRyb3Agd2hlbiBpdCBpcyBvdXIgdHVybiBvciBwcmUtZHJvcCBvbiBlbXB0eSBzY2FyZVxuICAgICAgICBkcm9wKHMsIGUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcy5kcm9wbW9kZS5hY3RpdmUgJiZcbiAgICAgICAgcy5tb3ZhYmxlLnBsYXllckluZGV4ICE9PSBzLnR1cm5QbGF5ZXJJbmRleCAvKm5vdCBvdXIgdHVybiovICYmXG4gICAgICAgIHNxdWFyZU9jY3VwaWVkKHMsIGUpPy5wbGF5ZXJJbmRleCA9PT0gcy50dXJuUGxheWVySW5kZXggLypvY2N1cGllZCBieSBvcHAncyBwaWVjZSovICYmXG4gICAgICAgICFzLm9ubHlEcm9wc1ZhcmlhbnQgLyogY2FudCBkcm9wIG9uIG9wcG9uZW50cyBwaWVjZXMgaW4gZHJvcCBvbmx5IHZhcmlhbnRzIGFzIHRoZXkgY2FudCBtb3ZlICovXG4gICAgICApIHtcbiAgICAgICAgLy8gdGhpcyBjYXNlIGlzIGZvciBwcmVkcm9wIG9uIG9wcCdzIHBpZWNlXG4gICAgICAgIGRyb3AocywgZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBpdCBpcyBvY2N1cGllZCBieSBvdXIgcGllY2UgLSBjYW5jZWwgZHJvcCBtb2RlIGFuZCBzdGFydCBkcmFnZ2luZyB0aGF0IHBpZWNlIGluc3RlYWQuXG4gICAgICAgIC8vIGlmIGl0IGlzIG9jY3VwaWVkIGJ5IG9wcCdzIHBpZWNlIC0ganVzdCBjYW5jZWwgZHJvcCBtb2RlLiBkcmFnLnN0YXJ0KCkgd2lsbCBkbyBub3RoaW5nXG4gICAgICAgIC8vIGRvbnQgY2FuY2VsIGRyb3AgbW9kZSBpZiBvbmx5IGRyb3BzIHZhcmlhbnQgKGUuZy4gZmxpcGVsbG8pIGFzIHRoYXQgaXMgdGhlIG9ubHkgYWN0aW9uIHRvIHRha2VcbiAgICAgICAgaWYgKCFzLm9ubHlEcm9wc1ZhcmlhbnQpIGNhbmNlbERyb3BNb2RlKHMpO1xuICAgICAgICBkcmFnLnN0YXJ0KHMsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZHJhZ09yRHJhdyhzOiBTdGF0ZSwgd2l0aERyYWc6IFN0YXRlTW91Y2hCaW5kLCB3aXRoRHJhdzogU3RhdGVNb3VjaEJpbmQpOiBNb3VjaEJpbmQge1xuICByZXR1cm4gZSA9PiB7XG4gICAgaWYgKHMuZHJhd2FibGUuY3VycmVudCkge1xuICAgICAgaWYgKHMuZHJhd2FibGUuZW5hYmxlZCkgd2l0aERyYXcocywgZSk7XG4gICAgfSBlbHNlIGlmICghcy52aWV3T25seSkgd2l0aERyYWcocywgZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNxdWFyZU9jY3VwaWVkKHM6IFN0YXRlLCBlOiBjZy5Nb3VjaEV2ZW50KTogUGllY2UgfCB1bmRlZmluZWQge1xuICBjb25zdCBwb3NpdGlvbiA9IGV2ZW50UG9zaXRpb24oZSk7XG4gIGNvbnN0IGRlc3QgPSBwb3NpdGlvbiAmJiBnZXRLZXlBdERvbVBvcyhwb3NpdGlvbiwgcy5vcmllbnRhdGlvbiwgcy5kb20uYm91bmRzKCksIHMuZGltZW5zaW9ucyk7XG4gIGlmIChkZXN0ICYmIHMucGllY2VzLmdldChkZXN0KSkgcmV0dXJuIHMucGllY2VzLmdldChkZXN0KTtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgeyBLZXkgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXhwbG9zaW9uKHN0YXRlOiBTdGF0ZSwga2V5czogS2V5W10pOiB2b2lkIHtcbiAgc3RhdGUuZXhwbG9kaW5nID0geyBzdGFnZTogMSwga2V5cyB9O1xuICBzdGF0ZS5kb20ucmVkcmF3KCk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHNldFN0YWdlKHN0YXRlLCAyKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHNldFN0YWdlKHN0YXRlLCB1bmRlZmluZWQpLCAxMjApO1xuICB9LCAxMjApO1xufVxuXG5mdW5jdGlvbiBzZXRTdGFnZShzdGF0ZTogU3RhdGUsIHN0YWdlOiBudW1iZXIgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgaWYgKHN0YXRlLmV4cGxvZGluZykge1xuICAgIGlmIChzdGFnZSkgc3RhdGUuZXhwbG9kaW5nLnN0YWdlID0gc3RhZ2U7XG4gICAgZWxzZSBzdGF0ZS5leHBsb2RpbmcgPSB1bmRlZmluZWQ7XG4gICAgc3RhdGUuZG9tLnJlZHJhdygpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBwb3Mya2V5LCBOUmFua3MsIGludk5SYW5rcyB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGluaXRpYWw6IGNnLkZFTiA9ICdybmJxa2Juci9wcHBwcHBwcC84LzgvOC84L1BQUFBQUFBQL1JOQlFLQk5SJztcblxuZnVuY3Rpb24gcm9sZXMobGV0dGVyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIChsZXR0ZXIucmVwbGFjZSgnKycsICdwJykgKyAnLXBpZWNlJykgYXMgY2cuUm9sZTtcbn1cblxuZnVuY3Rpb24gbGV0dGVycyhyb2xlOiBjZy5Sb2xlKSB7XG4gIGNvbnN0IGxldHRlclBhcnQgPSByb2xlLnNsaWNlKDAsIHJvbGUuaW5kZXhPZignLScpKTtcbiAgcmV0dXJuIGxldHRlclBhcnQubGVuZ3RoID4gMSA/IGxldHRlclBhcnQucmVwbGFjZSgncCcsICcrJykgOiBsZXR0ZXJQYXJ0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZChmZW46IGNnLkZFTiwgZGltZW5zaW9uczogY2cuQm9hcmREaW1lbnNpb25zLCB2YXJpYW50OiBjZy5WYXJpYW50KTogY2cuUGllY2VzIHtcbiAgaWYgKGZlbiA9PT0gJ3N0YXJ0JykgZmVuID0gaW5pdGlhbDtcbiAgaWYgKGZlbi5pbmRleE9mKCdbJykgIT09IC0xKSBmZW4gPSBmZW4uc2xpY2UoMCwgZmVuLmluZGV4T2YoJ1snKSk7XG4gIGNvbnN0IHBpZWNlczogY2cuUGllY2VzID0gbmV3IE1hcCgpO1xuICBsZXQgcm93OiBudW1iZXIgPSBkaW1lbnNpb25zLmhlaWdodDtcbiAgbGV0IGNvbCA9IDA7XG4gIGxldCBwcm9tb3RlZCA9IGZhbHNlO1xuICBsZXQgbnVtID0gMDtcblxuICBmb3IgKGNvbnN0IGMgb2YgZmVuKSB7XG4gICAgc3dpdGNoIChjKSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgICAgcmV0dXJuIHBpZWNlcztcbiAgICAgIGNhc2UgJy8nOlxuICAgICAgICAtLXJvdztcbiAgICAgICAgaWYgKHJvdyA9PT0gMCkgcmV0dXJuIHBpZWNlcztcbiAgICAgICAgY29sID0gMDtcbiAgICAgICAgbnVtID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgcHJvbW90ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ34nOiB7XG4gICAgICAgIGNvbnN0IHBpZWNlID0gcGllY2VzLmdldChwb3Mya2V5KFtjb2wsIHJvd10pKTtcbiAgICAgICAgaWYgKHBpZWNlKSBwaWVjZS5wcm9tb3RlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBuYiA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKDQ4IDw9IG5iICYmIG5iIDwgNTgpIHtcbiAgICAgICAgICBudW0gPSBudW0gKyBuYiAtIDQ4OyAvLyBhbGxvdyBzZXQgb2YgbnVtYmVycyAoZS5nLiAxJ3MpIGZvciBzcGFjZSBnYXBzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sICs9IDEgKyBudW07XG4gICAgICAgICAgbnVtID0gMDtcbiAgICAgICAgICBjb25zdCBsZXR0ZXIgPSB2YXJpYW50ID09PSAnb3dhcmUnID8gYyA6IGMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBjb25zdCBwbGF5ZXJJbmRleCA9IChcbiAgICAgICAgICAgIHZhcmlhbnQgPT09ICdvd2FyZScgJiYgcm93ID09PSAxXG4gICAgICAgICAgICAgID8gJ3AxJ1xuICAgICAgICAgICAgICA6IHZhcmlhbnQgPT09ICdvd2FyZScgJiYgcm93ID09PSAyXG4gICAgICAgICAgICAgID8gJ3AyJ1xuICAgICAgICAgICAgICA6IGMgPT09IGxldHRlclxuICAgICAgICAgICAgICA/ICdwMidcbiAgICAgICAgICAgICAgOiAncDEnXG4gICAgICAgICAgKSBhcyBjZy5QbGF5ZXJJbmRleDtcbiAgICAgICAgICBjb25zdCBwaWVjZSA9IHtcbiAgICAgICAgICAgIHJvbGU6IHJvbGVzKGxldHRlciksXG4gICAgICAgICAgICBwbGF5ZXJJbmRleDogcGxheWVySW5kZXgsXG4gICAgICAgICAgfSBhcyBjZy5QaWVjZTtcbiAgICAgICAgICBpZiAocHJvbW90ZWQpIHtcbiAgICAgICAgICAgIHBpZWNlLnJvbGUgPSAoJ3AnICsgcGllY2Uucm9sZSkgYXMgY2cuUm9sZTtcbiAgICAgICAgICAgIHBpZWNlLnByb21vdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHByb21vdGVkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBpZWNlcy5zZXQocG9zMmtleShbY29sLCByb3ddKSwgcGllY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBwaWVjZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZShwaWVjZXM6IGNnLlBpZWNlcywgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucywgdmFyaWFudDogY2cuVmFyaWFudCk6IGNnLkZFTiB7XG4gIHJldHVybiBpbnZOUmFua3NcbiAgICAuc2xpY2UoLWJkLmhlaWdodClcbiAgICAubWFwKHkgPT5cbiAgICAgIE5SYW5rcy5zbGljZSgwLCBiZC53aWR0aClcbiAgICAgICAgLm1hcCh4ID0+IHtcbiAgICAgICAgICBjb25zdCBwaWVjZSA9IHBpZWNlcy5nZXQocG9zMmtleShbeCwgeV0pKTtcbiAgICAgICAgICBpZiAocGllY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxldHRlcjogc3RyaW5nID1cbiAgICAgICAgICAgICAgbGV0dGVycyhwaWVjZS5yb2xlKSArIChwaWVjZS5wcm9tb3RlZCAmJiBsZXR0ZXJzKHBpZWNlLnJvbGUpLmNoYXJBdCgwKSAhPT0gJysnID8gJ34nIDogJycpO1xuICAgICAgICAgICAgcmV0dXJuIHBpZWNlLnBsYXllckluZGV4ID09PSAncDEnICYmIHZhcmlhbnQgIT09ICdvd2FyZScgPyBsZXR0ZXIudG9VcHBlckNhc2UoKSA6IGxldHRlcjtcbiAgICAgICAgICB9IGVsc2UgcmV0dXJuICcxJztcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJycpXG4gICAgKVxuICAgIC5qb2luKCcvJylcbiAgICAucmVwbGFjZSgvMXsyLH0vZywgcyA9PiBzLmxlbmd0aC50b1N0cmluZygpKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jaGVzc2dyb3VuZCcpLkNoZXNzZ3JvdW5kO1xuIiwiaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuL3V0aWwnO1xuaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcyc7XG5cbnR5cGUgRHJvcE1vYmlsaXR5ID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBib29sZWFuO1xuXG5jb25zdCB3aG9sZUJvYXJkID0gKF94OiBudW1iZXIsIF95OiBudW1iZXIpID0+IHRydWU7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBmcm9tXHQxLWJhc2VkIGluZGV4IGZyb20gZ2l2ZW4gcGxheWVySW5kZXgncyBQb1ZcbiAqIEBwYXJhbSB0b1x0MS1iYXNlZCBpbmRleCBmcm9tIGdpdmVuIHBsYXllckluZGV4J3MgUG9WXG4gKiBAcGFyYW0gcGxheWVySW5kZXggVGhlIHBpZWNlJ3MgcGxheWVySW5kZXhcbiAqIEBwYXJhbSBkYiAgVGhlIGJvYXJkJ3MgZGltZW5zaW9uc1xuICpcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhIHBvc2l0aW9uJ3MgcmFuayBpcyBpbnNpZGUgdGhlIGZyb20tdG8gcmFuZ2UsIHdoZXJlIGZyb20gYW5kIHRvIGFyZSBpbmRpY2VzIG9mIHJhbmsgd2hlbiBjb3VudGluZyBmcm9tXG4gKiBjdXJyZW50IFwicGxheWVySW5kZXhcIidzIHBvaW50IG9mIHZpZXcgKGkuZS4gaWYgZnJvbT10bz0xIGFuZCBwbGF5ZXJJbmRleD1wMiB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdHJ1ZSBvbmx5IGlmIHRoZSBwb3NpdGlvbidzIHJhbmsgaXMgOCBpbiBjYXNlIG9mIDh4OCBib2FyZClcbiAqIGZyb20gYW5kIHRvIGNhbiBiZSB6ZXJvIG9yIG5lZ2F0aXZlIHRvIGRlbm90ZSB0aGF0IG1hbnkgcmFua3MgY291bnRpbmcgZnJvbSB0aGUgbGFzdFxuICpcbiAqICovXG5mdW5jdGlvbiByYW5rUmFuZ2UoZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyLCBwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBEcm9wTW9iaWxpdHkge1xuICBjb25zdCBoZWlnaHQgPSBiZC5oZWlnaHQ7XG4gIGlmIChmcm9tIDwgMSkgZnJvbSArPSBoZWlnaHQ7XG4gIGlmICh0byA8IDEpIHRvICs9IGhlaWdodDtcbiAgcmV0dXJuIChfeCwgeSkgPT4ge1xuICAgIGlmIChwbGF5ZXJJbmRleCA9PT0gJ3AyJykgeSA9IGhlaWdodCAtIHkgKyAxO1xuICAgIHJldHVybiBmcm9tIDw9IHkgJiYgeSA8PSB0bztcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1wdHlzcXVhcmVzKHBpZWNlczogY2cuUGllY2VzKTogRHJvcE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4LCB5KSA9PiB7XG4gICAgY29uc3QgcG9zID0gdXRpbC5wb3Mya2V5KFt4LCB5XSkgYXMgY2cuS2V5O1xuICAgIHJldHVybiAhcGllY2VzLmhhcyhwb3MpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcmVkcm9wKFxuICBwaWVjZXM6IGNnLlBpZWNlcyxcbiAgcGllY2U6IGNnLlBpZWNlLFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zLFxuICB2YXJpYW50OiBjZy5WYXJpYW50XG4pOiBjZy5LZXlbXSB7XG4gIGNvbnN0IHBsYXllckluZGV4ID0gcGllY2UucGxheWVySW5kZXg7XG4gIGNvbnN0IHJvbGUgPSBwaWVjZS5yb2xlO1xuXG4gIC8vIFBpZWNlcyBjYW4gYmUgZHJvcHBlZCBhbnl3aGVyZSBvbiB0aGUgYm9hcmQgYnkgZGVmYXVsdC5cbiAgLy8gTW9iaWxpdHkgd2lsbCBiZSBtb2RpZmllZCBiYXNlZCBvbiB2YXJpYW50IGFuZCBwaWVjZSB0byBtYXRjaCB0aGUgZ2FtZSBydWxlLlxuICBsZXQgbW9iaWxpdHk6IERyb3BNb2JpbGl0eSA9IHdob2xlQm9hcmQ7XG5cbiAgc3dpdGNoICh2YXJpYW50KSB7XG4gICAgY2FzZSAnY3Jhenlob3VzZSc6XG4gICAgY2FzZSAnc2hvdXNlJzpcbiAgICBjYXNlICdjYXBhaG91c2UnOlxuICAgIGNhc2UgJ2dvdGhob3VzZSc6XG4gICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgY2FzZSAncC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSByYW5rUmFuZ2UoMiwgLTEsIHBsYXllckluZGV4LCBiZCk7XG4gICAgICAgICAgYnJlYWs7IC8vIHBhd25zIGNhbid0IGJlIGRyb3BwZWQgb24gdGhlIGZpcnN0IHJhbmsgb3IgbGFzdCByYW5rXG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3BsYWNlbWVudCc6XG4gICAgICBtb2JpbGl0eSA9IHJhbmtSYW5nZSgxLCAxLCBwbGF5ZXJJbmRleCwgYmQpOyAvLyB0aGUgXCJkcm9wXCIgaXMgdGhlIHBsYWNlbWVudCBwaGFzZSB3aGVyZSBwaWVjZXMgY2FuIG9ubHkgYmUgcGxhY2VkIG9uIHRoZSBmaXJzdCByYW5rXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NpdHR1eWluJzpcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlICdyLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHJhbmtSYW5nZSgxLCAxLCBwbGF5ZXJJbmRleCwgYmQpO1xuICAgICAgICAgIGJyZWFrOyAvLyByb29rcyBjYW4gb25seSBiZSBwbGFjZWQgb24gdGhlIGZpcnN0IHJhbmtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBtb2JpbGl0eSA9ICh4LCB5KSA9PiB7XG4gICAgICAgICAgICAvLyB0aGUgXCJkcm9wXCIgaXMgdGhlIHBsYWNlbWVudCBwaGFzZSB3aGVyZSBwaWVjZXMgY2FuIGJlIHBsYWNlZCBvbiBpdHMgcGxheWVyJ3MgaGFsZiBvZiB0aGUgYm9hcmRcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gYmQud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBiZC5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAocGxheWVySW5kZXggPT09ICdwMicpIHtcbiAgICAgICAgICAgICAgeCA9IHdpZHRoIC0geCArIDE7XG4gICAgICAgICAgICAgIHkgPSBoZWlnaHQgLSB5ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB5IDwgMyB8fCAoeSA9PT0gMyAmJiB4ID4gNCk7XG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2hvZ2knOlxuICAgIGNhc2UgJ21pbmlzaG9naSc6XG4gICAgY2FzZSAnZ29yb2dvcm8nOlxuICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgIGNhc2UgJ3AtcGllY2UnOiAvLyBwYXducyBhbmQgbGFuY2VzIGNhbid0IGJlIGRyb3BwZWQgb24gdGhlIGxhc3QgcmFua1xuICAgICAgICBjYXNlICdsLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHJhbmtSYW5nZSgxLCAtMSwgcGxheWVySW5kZXgsIGJkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSByYW5rUmFuZ2UoMSwgLTIsIHBsYXllckluZGV4LCBiZCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGtuaWdodHMgY2FuJ3QgYmUgZHJvcHBlZCBvbiB0aGUgbGFzdCB0d28gcmFua3NcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gVGhpcyBjb2RlIGlzIHVubmVjZXNzYXJ5IGJ1dCBpcyBoZXJlIGFueXdheSB0byBiZSBleHBsaWNpdFxuICAgIGNhc2UgJ2t5b3Rvc2hvZ2knOlxuICAgIGNhc2UgJ2RvYnV0c3UnOlxuICAgICAgbW9iaWxpdHkgPSB3aG9sZUJvYXJkO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd0b3Jpc2hvZ2knOlxuICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgIGNhc2UgJ3MtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcmFua1JhbmdlKDEsIC0xLCBwbGF5ZXJJbmRleCwgYmQpO1xuICAgICAgICAgIGJyZWFrOyAvLyBzd2FsbG93cyBjYW4ndCBiZSBkcm9wcGVkIG9uIHRoZSBsYXN0IHJhbmtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnZ3JhbmRob3VzZSc6XG4gICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgY2FzZSAncC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSByYW5rUmFuZ2UoMiwgNywgcGxheWVySW5kZXgsIGJkKTtcbiAgICAgICAgICBicmVhazsgLy8gcGF3bnMgY2FuJ3QgYmUgZHJvcHBlZCBvbiB0aGUgMXN0LCBvciA4dGggdG8gMTB0aCByYW5rc1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzaG9ndW4nOlxuICAgICAgbW9iaWxpdHkgPSByYW5rUmFuZ2UoMSwgNSwgcGxheWVySW5kZXgsIGJkKTsgLy8gc2hvZ3VuIG9ubHkgcGVybWl0cyBkcm9wcyBvbiByYW5rcyAxLTUgZm9yIGFsbCBwaWVjZXNcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc3lub2NoZXNzJzpcbiAgICAgIG1vYmlsaXR5ID0gKF94LCB5KSA9PiB5ID09PSA1OyAvLyBPbmx5IHAyIGNhbiBkcm9wLCBhbmQgdGhlIG9ubHkgZHJvcHBhYmxlIHJhbmsgaXMgdGhlIGxpdGVyYWwgcmFuayBmaXZlLlxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzaGlub2JpJzpcbiAgICAgIG1vYmlsaXR5ID0gKF94LCB5KSA9PiB5IDw9IDQ7IC8vIE9ubHkgcDEgY2FuIGRyb3AsIGFuZCBvbmx5IG9uIHRoZWlyIG93biBoYWxmIG9mIHRoZSBib2FyZFxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdmbGlwZWxsbyc6XG4gICAgICBtb2JpbGl0eSA9IGVtcHR5c3F1YXJlcyhwaWVjZXMpOyAvLyBjYW50IGRyb3Agb24gY3VycmVudCBwaWVjZXMgKGVpdGhlciBzaWRlKSBhcyB0aGV5IGNhbnQgbW92ZVxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS53YXJuKCdVbmtub3duIGRyb3AgdmFyaWFudCcsIHZhcmlhbnQpO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxcbiAgICAuYWxsS2V5cyhiZClcbiAgICAubWFwKHV0aWwua2V5MnBvcylcbiAgICAuZmlsdGVyKHBvcyA9PiB7XG4gICAgICByZXR1cm4gcGllY2VzLmdldCh1dGlsLnBvczJrZXkocG9zKSk/LnBsYXllckluZGV4ICE9PSBwbGF5ZXJJbmRleCAmJiBtb2JpbGl0eShwb3NbMF0sIHBvc1sxXSk7XG4gICAgfSlcbiAgICAubWFwKHV0aWwucG9zMmtleSk7XG59XG4iLCJpbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzJztcblxudHlwZSBNb2JpbGl0eSA9ICh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKSA9PiBib29sZWFuO1xuXG5mdW5jdGlvbiBkaWZmKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKTtcbn1cblxuZnVuY3Rpb24gcGF3bihwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgZGlmZih4MSwgeDIpIDwgMiAmJlxuICAgIChwbGF5ZXJJbmRleCA9PT0gJ3AxJ1xuICAgICAgPyAvLyBhbGxvdyAyIHNxdWFyZXMgZnJvbSAxIGFuZCA4LCBmb3IgaG9yZGVcbiAgICAgICAgeTIgPT09IHkxICsgMSB8fCAoeTEgPD0gMiAmJiB5MiA9PT0geTEgKyAyICYmIHgxID09PSB4MilcbiAgICAgIDogeTIgPT09IHkxIC0gMSB8fCAoeTEgPj0gNyAmJiB5MiA9PT0geTEgLSAyICYmIHgxID09PSB4MikpO1xufVxuXG5leHBvcnQgY29uc3Qga25pZ2h0OiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiAoeGQgPT09IDEgJiYgeWQgPT09IDIpIHx8ICh4ZCA9PT0gMiAmJiB5ZCA9PT0gMSk7XG59O1xuXG5jb25zdCBiaXNob3A6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBkaWZmKHgxLCB4MikgPT09IGRpZmYoeTEsIHkyKTtcbn07XG5cbmNvbnN0IHJvb2s6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiB4MSA9PT0geDIgfHwgeTEgPT09IHkyO1xufTtcblxuZXhwb3J0IGNvbnN0IHF1ZWVuOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gYmlzaG9wKHgxLCB5MSwgeDIsIHkyKSB8fCByb29rKHgxLCB5MSwgeDIsIHkyKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2FjaGVja2VyOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gYmlzaG9wKHgxLCB5MSwgeDIsIHkyKSB8fCByb29rKHgxLCB5MSwgeDIsIHkyKTtcbn07XG5cbmZ1bmN0aW9uIGtpbmcocGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4LCByb29rRmlsZXM6IG51bWJlcltdLCBjYW5DYXN0bGU6IGJvb2xlYW4pOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgKGRpZmYoeDEsIHgyKSA8IDIgJiYgZGlmZih5MSwgeTIpIDwgMikgfHxcbiAgICAoY2FuQ2FzdGxlICYmXG4gICAgICB5MSA9PT0geTIgJiZcbiAgICAgIHkxID09PSAocGxheWVySW5kZXggPT09ICdwMScgPyAxIDogOCkgJiZcbiAgICAgICgoeDEgPT09IDUgJiYgKCh1dGlsLmNvbnRhaW5zWChyb29rRmlsZXMsIDEpICYmIHgyID09PSAzKSB8fCAodXRpbC5jb250YWluc1gocm9va0ZpbGVzLCA4KSAmJiB4MiA9PT0gNykpKSB8fFxuICAgICAgICB1dGlsLmNvbnRhaW5zWChyb29rRmlsZXMsIHgyKSkpO1xufVxuXG5mdW5jdGlvbiByb29rRmlsZXNPZihwaWVjZXM6IGNnLlBpZWNlcywgcGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4KSB7XG4gIGNvbnN0IGJhY2tyYW5rID0gcGxheWVySW5kZXggPT09ICdwMScgPyAnMScgOiAnOCc7XG4gIGNvbnN0IGZpbGVzID0gW107XG4gIGZvciAoY29uc3QgW2tleSwgcGllY2VdIG9mIHBpZWNlcykge1xuICAgIGlmIChrZXlbMV0gPT09IGJhY2tyYW5rICYmIHBpZWNlICYmIHBpZWNlLnBsYXllckluZGV4ID09PSBwbGF5ZXJJbmRleCAmJiBwaWVjZS5yb2xlID09PSAnci1waWVjZScpIHtcbiAgICAgIGZpbGVzLnB1c2godXRpbC5rZXkycG9zKGtleSlbMF0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlsZXM7XG59XG5cbi8vIGtpbmcgd2l0aG91dCBjYXN0bGluZ1xuY29uc3Qga2luZ05vQ2FzdGxpbmc6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBkaWZmKHgxLCB4MikgPCAyICYmIGRpZmYoeTEsIHkyKSA8IDI7XG59O1xuXG4vLyA5NjAga2luZyAoY2FuIG9ubHkgY2FzdGxlIHdpdGgga2luZyB0YWtlcyByb29rKVxuZnVuY3Rpb24ga2luZzk2MChwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgsIHJvb2tGaWxlczogbnVtYmVyW10sIGNhbkNhc3RsZTogYm9vbGVhbik6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT5cbiAgICBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgfHxcbiAgICAoY2FuQ2FzdGxlICYmIHkxID09PSB5MiAmJiB5MSA9PT0gKHBsYXllckluZGV4ID09PSAncDEnID8gMSA6IDgpICYmIHV0aWwuY29udGFpbnNYKHJvb2tGaWxlcywgeDIpKTtcbn1cblxuLy8gY2FwYWJsYW5jYSBraW5nIChkaWZmZXJlbnQgY2FzdGxpbmcgZmlsZXMgZnJvbSBzdGFuZGFyZCBjaGVzcyBraW5nKVxuZnVuY3Rpb24ga2luZ0NhcGEocGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4LCByb29rRmlsZXM6IG51bWJlcltdLCBjYW5DYXN0bGU6IGJvb2xlYW4pOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpIHx8XG4gICAgKGNhbkNhc3RsZSAmJlxuICAgICAgeTEgPT09IHkyICYmXG4gICAgICB5MSA9PT0gKHBsYXllckluZGV4ID09PSAncDEnID8gMSA6IDgpICYmXG4gICAgICB4MSA9PT0gNiAmJlxuICAgICAgKCh4MiA9PT0gOSAmJiB1dGlsLmNvbnRhaW5zWChyb29rRmlsZXMsIDEwKSkgfHwgKHgyID09PSAzICYmIHV0aWwuY29udGFpbnNYKHJvb2tGaWxlcywgMSkpKSk7XG59XG5cbi8vIHNoYWtvIGtpbmcgKGRpZmZlcmVudCBjYXN0bGluZyBmaWxlcyBhbmQgcmFua3MgZnJvbSBzdGFuZGFyZCBjaGVzcyBraW5nKVxuZnVuY3Rpb24ga2luZ1NoYWtvKHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCwgcm9va0ZpbGVzOiBudW1iZXJbXSwgY2FuQ2FzdGxlOiBib29sZWFuKTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgIGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSB8fFxuICAgIChjYW5DYXN0bGUgJiZcbiAgICAgIHkxID09PSB5MiAmJlxuICAgICAgeTEgPT09IChwbGF5ZXJJbmRleCA9PT0gJ3AxJyA/IDIgOiA5KSAmJlxuICAgICAgeDEgPT09IDYgJiZcbiAgICAgICgoeDIgPT09IDggJiYgdXRpbC5jb250YWluc1gocm9va0ZpbGVzLCA5KSkgfHwgKHgyID09PSA0ICYmIHV0aWwuY29udGFpbnNYKHJvb2tGaWxlcywgMikpKSk7XG59XG5mdW5jdGlvbiByb29rRmlsZXNPZlNoYWtvKHBpZWNlczogY2cuUGllY2VzLCBwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgpIHtcbiAgY29uc3QgYmFja3JhbmsgPSBwbGF5ZXJJbmRleCA9PT0gJ3AxJyA/ICcyJyA6ICc5JztcbiAgY29uc3QgZmlsZXMgPSBbXTtcbiAgZm9yIChjb25zdCBba2V5LCBwaWVjZV0gb2YgcGllY2VzKSB7XG4gICAgaWYgKGtleVsxXSA9PT0gYmFja3JhbmsgJiYgcGllY2UgJiYgcGllY2UucGxheWVySW5kZXggPT09IHBsYXllckluZGV4ICYmIHBpZWNlLnJvbGUgPT09ICdyLXBpZWNlJykge1xuICAgICAgZmlsZXMucHVzaCh1dGlsLmtleTJwb3Moa2V5KVswXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmaWxlcztcbn1cblxuLy8gd2F6aXJcbmNvbnN0IHdhemlyOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiAoeGQgPT09IDEgJiYgeWQgPT09IDApIHx8ICh4ZCA9PT0gMCAmJiB5ZCA9PT0gMSk7XG59O1xuXG4vLyBmZXJ6LCBtZXRcbmNvbnN0IGZlcno6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiBkaWZmKHgxLCB4MikgPT09IGRpZmYoeTEsIHkyKSAmJiBkaWZmKHgxLCB4MikgPT09IDE7XG5cbi8vIHNoYXRyYW5qIGVsZXBoYW50XG5jb25zdCBlbGVwaGFudDogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICByZXR1cm4geGQgPT09IHlkICYmIHhkID09PSAyO1xufTtcblxuLy8gYXJjaGJpc2hvcCAoa25pZ2h0ICsgYmlzaG9wKVxuY29uc3QgYXJjaGJpc2hvcDogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIGJpc2hvcCh4MSwgeTEsIHgyLCB5MikgfHwga25pZ2h0KHgxLCB5MSwgeDIsIHkyKTtcbn07XG5cbi8vIGNoYW5jZWxsb3IgKGtuaWdodCArIHJvb2spXG5jb25zdCBjaGFuY2VsbG9yOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gcm9vayh4MSwgeTEsIHgyLCB5MikgfHwga25pZ2h0KHgxLCB5MSwgeDIsIHkyKTtcbn07XG5cbi8vIGFtYXpvbiAoa25pZ2h0ICsgcXVlZW4pXG5jb25zdCBhbWF6b246IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBiaXNob3AoeDEsIHkxLCB4MiwgeTIpIHx8IHJvb2soeDEsIHkxLCB4MiwgeTIpIHx8IGtuaWdodCh4MSwgeTEsIHgyLCB5Mik7XG59O1xuXG4vLyBzaG9ndW4gZ2VuZXJhbCAoa25pZ2h0ICsga2luZylcbmNvbnN0IGNlbnRhdXI6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgfHwga25pZ2h0KHgxLCB5MSwgeDIsIHkyKTtcbn07XG5cbi8vIGdyYW5kIHBhd24gKDEweDEwIGJvYXJkLCBjYW4gbW92ZSB0d28gc3F1YXJlcyBvbiB0aGlyZCByb3cpXG5mdW5jdGlvbiBncmFuZFBhd24ocGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4KTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgIGRpZmYoeDEsIHgyKSA8IDIgJiZcbiAgICAocGxheWVySW5kZXggPT09ICdwMSdcbiAgICAgID8geTIgPT09IHkxICsgMSB8fCAoeTEgPD0gMyAmJiB5MiA9PT0geTEgKyAyICYmIHgxID09PSB4MilcbiAgICAgIDogeTIgPT09IHkxIC0gMSB8fCAoeTEgPj0gOCAmJiB5MiA9PT0geTEgLSAyICYmIHgxID09PSB4MikpO1xufVxuXG4vLyBzaG9naSBsYW5jZVxuZnVuY3Rpb24gc2hvZ2lMYW5jZShwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSAmJiAocGxheWVySW5kZXggPT09ICdwMScgPyB5MiA+IHkxIDogeTIgPCB5MSk7XG59XG5cbi8vIHNob2dpIHNpbHZlciwgbWFrcnVrIGtob24sIHNpdHR1eWluIGVsZXBoYW50XG5mdW5jdGlvbiBzaG9naVNpbHZlcihwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgZmVyeih4MSwgeTEsIHgyLCB5MikgfHwgKHgxID09PSB4MiAmJiAocGxheWVySW5kZXggPT09ICdwMScgPyB5MiA9PT0geTEgKyAxIDogeTIgPT09IHkxIC0gMSkpO1xufVxuXG4vLyBzaG9naSBnb2xkLCBwcm9tb3RlZCBwYXduL2tuaWdodC9sYW5jZS9zaWx2ZXJcbmZ1bmN0aW9uIHNob2dpR29sZChwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgd2F6aXIoeDEsIHkxLCB4MiwgeTIpIHx8IChkaWZmKHgxLCB4MikgPCAyICYmIChwbGF5ZXJJbmRleCA9PT0gJ3AxJyA/IHkyID09PSB5MSArIDEgOiB5MiA9PT0geTEgLSAxKSk7XG59XG5cbi8vIHNob2dpIHBhd25cbmZ1bmN0aW9uIHNob2dpUGF3bihwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSAmJiAocGxheWVySW5kZXggPT09ICdwMScgPyB5MiA9PT0geTEgKyAxIDogeTIgPT09IHkxIC0gMSk7XG59XG5cbi8vIHNob2dpIGtuaWdodFxuZnVuY3Rpb24gc2hvZ2lLbmlnaHQocGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4KTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiAoeDIgPT09IHgxIC0gMSB8fCB4MiA9PT0geDEgKyAxKSAmJiAocGxheWVySW5kZXggPT09ICdwMScgPyB5MiA9PT0geTEgKyAyIDogeTIgPT09IHkxIC0gMik7XG59XG5cbi8vIHNob2dpIHByb21vdGVkIHJvb2sgKGRyYWdvbiBraW5nKVxuY29uc3Qgc2hvZ2lEcmFnb246IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiByb29rKHgxLCB5MSwgeDIsIHkyKSB8fCBmZXJ6KHgxLCB5MSwgeDIsIHkyKTtcbn07XG5cbi8vIHNob2dpIHByb21vdGVkIGJpc2hvcCAoZHJhZ29uIGhvcnNlKVxuY29uc3Qgc2hvZ2lIb3JzZTogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgcmV0dXJuIGJpc2hvcCh4MSwgeTEsIHgyLCB5MikgfHwgd2F6aXIoeDEsIHkxLCB4MiwgeTIpO1xufTtcblxuLy8gRGVmaW5lIHhpYW5ncWkgcGFsYWNlIGJhc2VkIG9uIGdlb21ldHJ5L2RpbWVuc2lvbnNcbi8vIFRoZSBwYWxhY2UgaXMgdGhlIDN4MyBzcXVhcmVzIGluIHRoZSBtaWRkbGUgZmlsZXMgYXQgZWFjaCBzaWRlJ3MgZW5kIG9mIHRoZSBib2FyZFxudHlwZSBQYWxhY2UgPSBjZy5Qb3NbXTtcblxuZnVuY3Rpb24gcGFsYWNlKGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMsIHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCk6IFBhbGFjZSB7XG4gIGNvbnN0IG1pZGRsZUZpbGUgPSBNYXRoLmZsb29yKChiZC53aWR0aCArIDEpIC8gMik7XG4gIGNvbnN0IHN0YXJ0aW5nUmFuayA9IHBsYXllckluZGV4ID09PSAncDEnID8gMSA6IGJkLmhlaWdodCAtIDI7XG5cbiAgcmV0dXJuIFtcbiAgICBbbWlkZGxlRmlsZSAtIDEsIHN0YXJ0aW5nUmFuayArIDJdLFxuICAgIFttaWRkbGVGaWxlLCBzdGFydGluZ1JhbmsgKyAyXSxcbiAgICBbbWlkZGxlRmlsZSArIDEsIHN0YXJ0aW5nUmFuayArIDJdLFxuICAgIFttaWRkbGVGaWxlIC0gMSwgc3RhcnRpbmdSYW5rICsgMV0sXG4gICAgW21pZGRsZUZpbGUsIHN0YXJ0aW5nUmFuayArIDFdLFxuICAgIFttaWRkbGVGaWxlICsgMSwgc3RhcnRpbmdSYW5rICsgMV0sXG4gICAgW21pZGRsZUZpbGUgLSAxLCBzdGFydGluZ1JhbmtdLFxuICAgIFttaWRkbGVGaWxlLCBzdGFydGluZ1JhbmtdLFxuICAgIFttaWRkbGVGaWxlICsgMSwgc3RhcnRpbmdSYW5rXSxcbiAgXTtcbn1cblxuLy8geGlhbmdxaSBwYXduXG5mdW5jdGlvbiB4aWFuZ3FpUGF3bihwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgKHgyID09PSB4MSAmJiAocGxheWVySW5kZXggPT09ICdwMScgPyB5MiA9PT0geTEgKyAxIDogeTIgPT09IHkxIC0gMSkpIHx8XG4gICAgKHkyID09PSB5MSAmJiBkaWZmKHgxLCB4MikgPCAyICYmIChwbGF5ZXJJbmRleCA9PT0gJ3AxJyA/IHkxID4gNSA6IHkxIDwgNikpO1xufVxuXG4vLyBtaW5peGlhbmdxaSBwYXduXG5mdW5jdGlvbiBtaW5peGlhbmdxaVBhd24ocGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4KTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PlxuICAgICh4MiA9PT0geDEgJiYgKHBsYXllckluZGV4ID09PSAncDEnID8geTIgPT09IHkxICsgMSA6IHkyID09PSB5MSAtIDEpKSB8fCAoeTIgPT09IHkxICYmIGRpZmYoeDEsIHgyKSA8IDIpO1xufVxuXG4vLyB4aWFuZ3FpIGVsZXBoYW50XG5mdW5jdGlvbiB4aWFuZ3FpRWxlcGhhbnQocGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4KTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiBlbGVwaGFudCh4MSwgeTEsIHgyLCB5MikgJiYgKHBsYXllckluZGV4ID09PSAncDEnID8geTIgPCA2IDogeTIgPiA1KTtcbn1cblxuLy8geGlhbmdxaSBhZHZpc29yXG5mdW5jdGlvbiB4aWFuZ3FpQWR2aXNvcihwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBNb2JpbGl0eSB7XG4gIGNvbnN0IG15UGFsYWNlID0gcGFsYWNlKGJkLCBwbGF5ZXJJbmRleCk7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IGZlcnooeDEsIHkxLCB4MiwgeTIpICYmIG15UGFsYWNlLnNvbWUocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgyICYmIHBvaW50WzFdID09PSB5Mik7XG59XG5cbi8vIHhpYW5ncWkgZ2VuZXJhbCAoa2luZylcbmZ1bmN0aW9uIHhpYW5ncWlLaW5nKHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IE1vYmlsaXR5IHtcbiAgY29uc3QgbXlQYWxhY2UgPSBwYWxhY2UoYmQsIHBsYXllckluZGV4KTtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4gd2F6aXIoeDEsIHkxLCB4MiwgeTIpICYmIG15UGFsYWNlLnNvbWUocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgyICYmIHBvaW50WzFdID09PSB5Mik7XG59XG5cbi8vIHNoYWtvIGVsZXBoYW50XG5jb25zdCBzaGFrb0VsZXBoYW50OiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4gZGlmZih4MSwgeDIpID09PSBkaWZmKHkxLCB5MikgJiYgZGlmZih4MSwgeDIpIDwgMztcbn07XG5cbi8vIGphbmdnaSBlbGVwaGFudFxuY29uc3QgamFuZ2dpRWxlcGhhbnQ6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuICh4ZCA9PT0gMiAmJiB5ZCA9PT0gMykgfHwgKHhkID09PSAzICYmIHlkID09PSAyKTtcbn07XG5cbi8vIGphbmdnaSBwYXduXG5mdW5jdGlvbiBqYW5nZ2lQYXduKHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IE1vYmlsaXR5IHtcbiAgY29uc3Qgb3BwUGFsYWNlID0gcGFsYWNlKGJkLCB1dGlsLm9wcG9zaXRlKHBsYXllckluZGV4KSk7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBjb25zdCBwYWxhY2VQb3MgPSBvcHBQYWxhY2UuZmluZEluZGV4KHBvaW50ID0+IHBvaW50WzBdID09PSB4MSAmJiBwb2ludFsxXSA9PT0geTEpO1xuICAgIGxldCBhZGRpdGlvbmFsTW9iaWxpdHk6IE1vYmlsaXR5O1xuICAgIHN3aXRjaCAocGFsYWNlUG9zKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxICsgMSAmJiBwbGF5ZXJJbmRleCA9PT0gJ3AyJyAmJiB5MiA9PT0geTEgLSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgLSAxICYmIHBsYXllckluZGV4ID09PSAncDInICYmIHkyID09PSB5MSAtIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA0OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+XG4gICAgICAgICAgZGlmZih4MSwgeDIpID09PSAxICYmIChwbGF5ZXJJbmRleCA9PT0gJ3AxJyA/IHkyID09PSB5MSArIDEgOiB5MiA9PT0geTEgLSAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDY6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxICsgMSAmJiBwbGF5ZXJJbmRleCA9PT0gJ3AxJyAmJiB5MiA9PT0geTEgKyAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgODpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgLSAxICYmIHBsYXllckluZGV4ID09PSAncDEnICYmIHkyID09PSB5MSArIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKCkgPT4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAoeDIgPT09IHgxICYmIChwbGF5ZXJJbmRleCA9PT0gJ3AxJyA/IHkyID09PSB5MSArIDEgOiB5MiA9PT0geTEgLSAxKSkgfHxcbiAgICAgICh5MiA9PT0geTEgJiYgZGlmZih4MSwgeDIpIDwgMikgfHxcbiAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSh4MSwgeTEsIHgyLCB5MilcbiAgICApO1xuICB9O1xufVxuXG4vLyBqYW5nZ2kgcm9va1xuZnVuY3Rpb24gamFuZ2dpUm9vayhiZDogY2cuQm9hcmREaW1lbnNpb25zKTogTW9iaWxpdHkge1xuICBjb25zdCB3UGFsYWNlID0gcGFsYWNlKGJkLCAncDEnKTtcbiAgY29uc3QgYlBhbGFjZSA9IHBhbGFjZShiZCwgJ3AyJyk7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBsZXQgYWRkaXRpb25hbE1vYmlsaXR5OiBNb2JpbGl0eTtcbiAgICBjb25zdCB3UGFsYWNlUG9zID0gd1BhbGFjZS5maW5kSW5kZXgocG9pbnQgPT4gcG9pbnRbMF0gPT09IHgxICYmIHBvaW50WzFdID09PSB5MSk7XG4gICAgY29uc3QgYlBhbGFjZVBvcyA9IGJQYWxhY2UuZmluZEluZGV4KHBvaW50ID0+IHBvaW50WzBdID09PSB4MSAmJiBwb2ludFsxXSA9PT0geTEpO1xuICAgIGNvbnN0IHBhbGFjZVBvcyA9IHdQYWxhY2VQb3MgIT09IC0xID8gd1BhbGFjZVBvcyA6IGJQYWxhY2VQb3M7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gICAgc3dpdGNoIChwYWxhY2VQb3MpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4ZCA9PT0geWQgJiYgeDIgPiB4MSAmJiB4MiA8PSB4MSArIDIgJiYgeTIgPCB5MSAmJiB5MiA+PSB5MSAtIDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHhkID09PSB5ZCAmJiB4MiA8IHgxICYmIHgyID49IHgxIC0gMiAmJiB5MiA8IHkxICYmIHkyID49IHkxIC0gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9IGZlcno7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2OlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHhkID09PSB5ZCAmJiB4MiA+IHgxICYmIHgyIDw9IHgxICsgMiAmJiB5MiA+IHkxICYmIHkyIDw9IHkxICsgMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDg6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geGQgPT09IHlkICYmIHgyIDwgeDEgJiYgeDIgPj0geDEgLSAyICYmIHkyID4geTEgJiYgeTIgPD0geTEgKyAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICgpID0+IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcm9vayh4MSwgeTEsIHgyLCB5MikgfHwgYWRkaXRpb25hbE1vYmlsaXR5KHgxLCB5MSwgeDIsIHkyKTtcbiAgfTtcbn1cblxuLy8gamFuZ2dpIGdlbmVyYWwgKGtpbmcpXG5mdW5jdGlvbiBqYW5nZ2lLaW5nKHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IE1vYmlsaXR5IHtcbiAgY29uc3QgbXlQYWxhY2UgPSBwYWxhY2UoYmQsIHBsYXllckluZGV4KTtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHBhbGFjZVBvcyA9IG15UGFsYWNlLmZpbmRJbmRleChwb2ludCA9PiBwb2ludFswXSA9PT0geDEgJiYgcG9pbnRbMV0gPT09IHkxKTtcbiAgICBsZXQgYWRkaXRpb25hbE1vYmlsaXR5OiBNb2JpbGl0eTtcbiAgICBzd2l0Y2ggKHBhbGFjZVBvcykge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBhZGRpdGlvbmFsTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHgyID09PSB4MSArIDEgJiYgeTIgPT09IHkxIC0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxIC0gMSAmJiB5MiA9PT0geTEgLSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gZmVyejtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDY6XG4gICAgICAgIGFkZGl0aW9uYWxNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4geDIgPT09IHgxICsgMSAmJiB5MiA9PT0geTEgKyAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgODpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB4MiA9PT0geDEgLSAxICYmIHkyID09PSB5MSArIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYWRkaXRpb25hbE1vYmlsaXR5ID0gKCkgPT4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAod2F6aXIoeDEsIHkxLCB4MiwgeTIpIHx8IGFkZGl0aW9uYWxNb2JpbGl0eSh4MSwgeTEsIHgyLCB5MikpICYmXG4gICAgICBteVBhbGFjZS5zb21lKHBvaW50ID0+IHBvaW50WzBdID09PSB4MiAmJiBwb2ludFsxXSA9PT0geTIpXG4gICAgKTtcbiAgfTtcbn1cblxuLy8gbXVza2V0ZWVyIGxlb3BhcmRcbmNvbnN0IG11c2tldGVlckxlb3BhcmQ6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuICh4ZCA9PT0gMSB8fCB4ZCA9PT0gMikgJiYgKHlkID09PSAxIHx8IHlkID09PSAyKTtcbn07XG4vLyBtdXNrZXRlZXIgaGF3a1xuY29uc3QgbXVza2V0ZWVySGF3azogTW9iaWxpdHkgPSAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICByZXR1cm4gKFxuICAgICh4ZCA9PT0gMCAmJiAoeWQgPT09IDIgfHwgeWQgPT09IDMpKSB8fFxuICAgICh5ZCA9PT0gMCAmJiAoeGQgPT09IDIgfHwgeGQgPT09IDMpKSB8fFxuICAgICh4ZCA9PT0geWQgJiYgKHhkID09PSAyIHx8IHhkID09PSAzKSlcbiAgKTtcbn07XG4vLyBtdXNrZXRlZXIgZWxlcGhhbnRcbmNvbnN0IG11c2tldGVlckVsZXBoYW50OiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiB4ZCA9PT0gMSB8fCB5ZCA9PT0gMSB8fCAoeGQgPT09IDIgJiYgKHlkID09PSAwIHx8IHlkID09PSAyKSkgfHwgKHhkID09PSAwICYmIHlkID09PSAyKTtcbn07XG4vLyBtdXNrZXRlZXIgY2Fubm9uXG5jb25zdCBtdXNrZXRlZXJDYW5ub246IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuIHhkIDwgMyAmJiAoeWQgPCAyIHx8ICh5ZCA9PT0gMiAmJiB4ZCA9PT0gMCkpO1xufTtcbi8vIG11c2tldGVlciB1bmljb3JuXG5jb25zdCBtdXNrZXRlZXJVbmljb3JuOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiBrbmlnaHQoeDEsIHkxLCB4MiwgeTIpIHx8ICh4ZCA9PT0gMSAmJiB5ZCA9PT0gMykgfHwgKHhkID09PSAzICYmIHlkID09PSAxKTtcbn07XG4vLyBtdXNrZXRlZXIgZHJhZ29uXG5jb25zdCBtdXNrZXRlZXJEcmFnb246IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIHJldHVybiBrbmlnaHQoeDEsIHkxLCB4MiwgeTIpIHx8IHF1ZWVuKHgxLCB5MSwgeDIsIHkyKTtcbn07XG4vLyBtdXNrZXRlZXIgZm9ydHJlc3NcbmNvbnN0IG11c2tldGVlckZvcnRyZXNzOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gIHJldHVybiAoeGQgPT09IHlkICYmIHhkIDwgNCkgfHwgKHlkID09PSAwICYmIHhkID09PSAyKSB8fCAoeWQgPT09IDIgJiYgeGQgPCAyKTtcbn07XG4vLyBtdXNrZXRlZXIgc3BpZGVyXG5jb25zdCBtdXNrZXRlZXJTcGlkZXI6IE1vYmlsaXR5ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgcmV0dXJuIHhkIDwgMyAmJiB5ZCA8IDMgJiYgISh4ZCA9PT0gMSAmJiB5ZCA9PT0gMCkgJiYgISh4ZCA9PT0gMCAmJiB5ZCA9PT0gMSk7XG59O1xuXG4vLyB0b3JpIHNob2dpIGdvb3NlIChwcm9tb3RlZCBzd2FsbG93KVxuZnVuY3Rpb24gdG9yaUdvb3NlKHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCk6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIHJldHVybiBwbGF5ZXJJbmRleCA9PT0gJ3AxJ1xuICAgICAgPyAoeGQgPT09IDIgJiYgeTIgPT09IHkxICsgMikgfHwgKHhkID09PSAwICYmIHkyID09PSB5MSAtIDIpXG4gICAgICA6ICh4ZCA9PT0gMiAmJiB5MiA9PT0geTEgLSAyKSB8fCAoeGQgPT09IDAgJiYgeTIgPT09IHkxICsgMik7XG4gIH07XG59XG5cbi8vIHRvcmkgc2hvZ2kgbGVmdCBxdWFpbFxuZnVuY3Rpb24gdG9yaUxlZnRRdWFpbChwbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgpOiBNb2JpbGl0eSB7XG4gIHJldHVybiAoeDEsIHkxLCB4MiwgeTIpID0+IHtcbiAgICBjb25zdCB4ZCA9IGRpZmYoeDEsIHgyKTtcbiAgICBjb25zdCB5ZCA9IGRpZmYoeTEsIHkyKTtcbiAgICByZXR1cm4gcGxheWVySW5kZXggPT09ICdwMSdcbiAgICAgID8gKHgyID09PSB4MSAmJiB5MiA+IHkxKSB8fCAoeGQgPT09IHlkICYmIHgyID4geDEgJiYgeTIgPCB5MSkgfHwgKHgyID09PSB4MSAtIDEgJiYgeTIgPT09IHkxIC0gMSlcbiAgICAgIDogKHgyID09PSB4MSAmJiB5MiA8IHkxKSB8fCAoeGQgPT09IHlkICYmIHgyIDwgeDEgJiYgeTIgPiB5MSkgfHwgKHgyID09PSB4MSArIDEgJiYgeTIgPT09IHkxICsgMSk7XG4gIH07XG59XG5cbi8vIHRvcmkgc2hvZ2kgcmlnaHQgcXVhaWxcbmZ1bmN0aW9uIHRvcmlSaWdodFF1YWlsKHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCk6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIGNvbnN0IHlkID0gZGlmZih5MSwgeTIpO1xuICAgIHJldHVybiBwbGF5ZXJJbmRleCA9PT0gJ3AxJ1xuICAgICAgPyAoeDIgPT09IHgxICYmIHkyID4geTEpIHx8ICh4ZCA9PT0geWQgJiYgeDIgPCB4MSAmJiB5MiA8IHkxKSB8fCAoeDIgPT09IHgxICsgMSAmJiB5MiA9PT0geTEgLSAxKVxuICAgICAgOiAoeDIgPT09IHgxICYmIHkyIDwgeTEpIHx8ICh4ZCA9PT0geWQgJiYgeDIgPiB4MSAmJiB5MiA+IHkxKSB8fCAoeDIgPT09IHgxIC0gMSAmJiB5MiA9PT0geTEgKyAxKTtcbiAgfTtcbn1cblxuLy8gdG9yaSBzaG9naSBwaGVhc2FudFxuZnVuY3Rpb24gdG9yaVBoZWFzYW50KHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCk6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIGNvbnN0IHhkID0gZGlmZih4MSwgeDIpO1xuICAgIHJldHVybiBwbGF5ZXJJbmRleCA9PT0gJ3AxJ1xuICAgICAgPyAoeDIgPT09IHgxICYmIHkyID09PSB5MSArIDIpIHx8ICh4ZCA9PT0gMSAmJiB5MiA9PT0geTEgLSAxKVxuICAgICAgOiAoeDIgPT09IHgxICYmIHkyID09PSB5MSAtIDIpIHx8ICh4ZCA9PT0gMSAmJiB5MiA9PT0geTEgKyAxKTtcbiAgfTtcbn1cblxuLy8gdG9yaSBzaG9naSBjcmFuZVxuY29uc3QgdG9yaUNyYW5lOiBNb2JpbGl0eSA9ICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICByZXR1cm4ga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpICYmIHkyICE9PSB5MTtcbn07XG5cbi8vIHRvcmkgc2hvZ2kgZmFsY29uXG5mdW5jdGlvbiB0b3JpRmFsY29uKHBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleCk6IE1vYmlsaXR5IHtcbiAgcmV0dXJuICh4MSwgeTEsIHgyLCB5MikgPT4ge1xuICAgIHJldHVybiBwbGF5ZXJJbmRleCA9PT0gJ3AxJ1xuICAgICAgPyBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgJiYgISh4MiA9PT0geDEgJiYgeTIgPT09IHkxIC0gMSlcbiAgICAgIDoga2luZ05vQ2FzdGxpbmcoeDEsIHkxLCB4MiwgeTIpICYmICEoeDIgPT09IHgxICYmIHkyID09PSB5MSArIDEpO1xuICB9O1xufVxuXG4vLyB0b3JpIHNob2dpIGVhZ2xlIChwcm9tb3RlZCBmYWxjb24pXG5mdW5jdGlvbiB0b3JpRWFnbGUocGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4KTogTW9iaWxpdHkge1xuICByZXR1cm4gKHgxLCB5MSwgeDIsIHkyKSA9PiB7XG4gICAgY29uc3QgeGQgPSBkaWZmKHgxLCB4Mik7XG4gICAgY29uc3QgeWQgPSBkaWZmKHkxLCB5Mik7XG4gICAgcmV0dXJuIHBsYXllckluZGV4ID09PSAncDEnXG4gICAgICA/IGtpbmdOb0Nhc3RsaW5nKHgxLCB5MSwgeDIsIHkyKSB8fCAoeGQgPT09IHlkICYmICh5MiA+IHkxIHx8ICh5MiA8IHkxICYmIHlkIDw9IDIpKSkgfHwgKHgyID09PSB4MSAmJiB5MiA8IHkxKVxuICAgICAgOiBraW5nTm9DYXN0bGluZyh4MSwgeTEsIHgyLCB5MikgfHwgKHhkID09PSB5ZCAmJiAoeTIgPCB5MSB8fCAoeTIgPiB5MSAmJiB5ZCA8PSAyKSkpIHx8ICh4MiA9PT0geDEgJiYgeTIgPiB5MSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmVtb3ZlKFxuICBwaWVjZXM6IGNnLlBpZWNlcyxcbiAga2V5OiBjZy5LZXksXG4gIGNhbkNhc3RsZTogYm9vbGVhbixcbiAgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyxcbiAgdmFyaWFudDogY2cuVmFyaWFudCxcbiAgY2hlc3M5NjA6IGJvb2xlYW5cbik6IGNnLktleVtdIHtcbiAgY29uc3QgcGllY2UgPSBwaWVjZXMuZ2V0KGtleSkhO1xuICBjb25zdCByb2xlID0gcGllY2Uucm9sZTtcbiAgY29uc3QgcGxheWVySW5kZXggPSBwaWVjZS5wbGF5ZXJJbmRleDtcbiAgaWYgKCFwaWVjZSkgcmV0dXJuIFtdO1xuICBjb25zdCBwb3MgPSB1dGlsLmtleTJwb3Moa2V5KTtcbiAgbGV0IG1vYmlsaXR5OiBNb2JpbGl0eTtcblxuICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICBjYXNlICd4aWFuZ3FpJzpcbiAgICBjYXNlICdtYW5jaHUnOlxuICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgIGNhc2UgJ3AtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0geGlhbmdxaVBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBwYXduXG4gICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjYW5ub25cbiAgICAgICAgY2FzZSAnci1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSByb29rO1xuICAgICAgICAgIGJyZWFrOyAvLyByb29rXG4gICAgICAgIGNhc2UgJ24tcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0ga25pZ2h0O1xuICAgICAgICAgIGJyZWFrOyAvLyBob3JzZVxuICAgICAgICBjYXNlICdiLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHhpYW5ncWlFbGVwaGFudChwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGVsZXBoYW50XG4gICAgICAgIGNhc2UgJ2EtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0geGlhbmdxaUFkdmlzb3IocGxheWVySW5kZXgsIGJkKTtcbiAgICAgICAgICBicmVhazsgLy8gYWR2aXNvclxuICAgICAgICBjYXNlICdrLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHhpYW5ncWlLaW5nKHBsYXllckluZGV4LCBiZCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGtpbmdcbiAgICAgICAgY2FzZSAnbS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBjaGFuY2VsbG9yO1xuICAgICAgICAgIGJyZWFrOyAvLyBiYW5uZXJcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnamFuZ2dpJzpcbiAgICAgIHN3aXRjaCAocGllY2Uucm9sZSkge1xuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGphbmdnaVBhd24ocGxheWVySW5kZXgsIGJkKTtcbiAgICAgICAgICBicmVhazsgLy8gcGF3blxuICAgICAgICBjYXNlICdjLXBpZWNlJzogLy8gY2Fubm9uXG4gICAgICAgIGNhc2UgJ3ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gamFuZ2dpUm9vayhiZCk7XG4gICAgICAgICAgYnJlYWs7IC8vIHJvb2tcbiAgICAgICAgY2FzZSAnbi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBrbmlnaHQ7XG4gICAgICAgICAgYnJlYWs7IC8vIGhvcnNlXG4gICAgICAgIGNhc2UgJ2ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gamFuZ2dpRWxlcGhhbnQ7XG4gICAgICAgICAgYnJlYWs7IC8vIGVsZXBoYW50XG4gICAgICAgIGNhc2UgJ2EtcGllY2UnOiAvLyBhZHZpc29yXG4gICAgICAgIGNhc2UgJ2stcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gamFuZ2dpS2luZyhwbGF5ZXJJbmRleCwgYmQpO1xuICAgICAgICAgIGJyZWFrOyAvLyBraW5nXG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ21pbml4aWFuZ3FpJzpcbiAgICAgIHtcbiAgICAgICAgc3dpdGNoIChwaWVjZS5yb2xlKSB7XG4gICAgICAgICAgY2FzZSAncC1waWVjZSc6XG4gICAgICAgICAgICBtb2JpbGl0eSA9IG1pbml4aWFuZ3FpUGF3bihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgICBicmVhazsgLy8gcGF3blxuICAgICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjYW5ub25cbiAgICAgICAgICBjYXNlICdyLXBpZWNlJzpcbiAgICAgICAgICAgIG1vYmlsaXR5ID0gcm9vaztcbiAgICAgICAgICAgIGJyZWFrOyAvLyByb29rXG4gICAgICAgICAgY2FzZSAnbi1waWVjZSc6XG4gICAgICAgICAgICBtb2JpbGl0eSA9IGtuaWdodDtcbiAgICAgICAgICAgIGJyZWFrOyAvLyBob3JzZVxuICAgICAgICAgIGNhc2UgJ2stcGllY2UnOlxuICAgICAgICAgICAgbW9iaWxpdHkgPSB4aWFuZ3FpS2luZyhwbGF5ZXJJbmRleCwgYmQpO1xuICAgICAgICAgICAgYnJlYWs7IC8vIGtpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzaG9naSc6XG4gICAgY2FzZSAnbWluaXNob2dpJzpcbiAgICBjYXNlICdnb3JvZ29ybyc6XG4gICAgICBzd2l0Y2ggKHBpZWNlLnJvbGUpIHtcbiAgICAgICAgY2FzZSAncC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBzaG9naVBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBwYXduXG4gICAgICAgIGNhc2UgJ2wtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hvZ2lMYW5jZShwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGxhbmNlXG4gICAgICAgIGNhc2UgJ24tcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hvZ2lLbmlnaHQocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBrbmlnaHRcbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBicmVhazsgLy8ga2luZ1xuICAgICAgICBjYXNlICdzLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHNob2dpU2lsdmVyKHBsYXllckluZGV4KTtcbiAgICAgICAgICBicmVhazsgLy8gc2lsdmVyXG4gICAgICAgIGNhc2UgJ3BwLXBpZWNlJzogLy8gdG9raW5cbiAgICAgICAgY2FzZSAncGwtcGllY2UnOiAvLyBwcm9tb3RlZCBsYW5jZVxuICAgICAgICBjYXNlICdwbi1waWVjZSc6IC8vIHByb21vdGVkIGtuaWdodFxuICAgICAgICBjYXNlICdwcy1waWVjZSc6IC8vIHByb21vdGVkIHNpbHZlclxuICAgICAgICBjYXNlICdnLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHNob2dpR29sZChwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGdvbGRcbiAgICAgICAgY2FzZSAnYi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBiaXNob3A7XG4gICAgICAgICAgYnJlYWs7IC8vIGJpc2hvcFxuICAgICAgICBjYXNlICdyLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHJvb2s7XG4gICAgICAgICAgYnJlYWs7IC8vIHJvb2tcbiAgICAgICAgY2FzZSAncHItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hvZ2lEcmFnb247XG4gICAgICAgICAgYnJlYWs7IC8vIGRyYWdvblxuICAgICAgICBjYXNlICdwYi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBzaG9naUhvcnNlO1xuICAgICAgICAgIGJyZWFrOyAvLyBob3JzZVxuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdreW90b3Nob2dpJzpcbiAgICAgIHN3aXRjaCAocGllY2Uucm9sZSkge1xuICAgICAgICBjYXNlICdsLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHNob2dpTGFuY2UocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBreW90byAtIGxhbmNlLXRva2luXG4gICAgICAgIGNhc2UgJ3BsLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHNob2dpR29sZChwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3MtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hvZ2lTaWx2ZXIocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBnaW5rYWt1IC0gc2lsdmVyLWJpc2hvcFxuICAgICAgICBjYXNlICdwcy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBiaXNob3A7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ24tcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hvZ2lLbmlnaHQocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBraW5rZWkgLSBnb2xkLWtuaWdodFxuICAgICAgICBjYXNlICdwbi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBzaG9naUdvbGQocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHNob2dpUGF3bihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGhpZnUgLSByb29rLXBhd25cbiAgICAgICAgY2FzZSAncHAtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcm9vaztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBicmVhazsgLy8ga2luZ1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdkb2J1dHN1JzpcbiAgICAgIHN3aXRjaCAocGllY2Uucm9sZSkge1xuICAgICAgICBjYXNlICdjLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHNob2dpUGF3bihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGNoaWNrXG4gICAgICAgIGNhc2UgJ2UtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gZmVyejtcbiAgICAgICAgICBicmVhazsgLy8gZWxlcGhhbnRcbiAgICAgICAgY2FzZSAnZy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSB3YXppcjtcbiAgICAgICAgICBicmVhazsgLy8gZ2lyYWZmZVxuICAgICAgICBjYXNlICdsLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGJyZWFrOyAvLyBsaW9uXG4gICAgICAgIGNhc2UgJ3BjLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHNob2dpR29sZChwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGhlblxuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd0b3Jpc2hvZ2knOlxuICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgIGNhc2UgJ3MtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hvZ2lQYXduKHBsYXllckluZGV4KTtcbiAgICAgICAgICBicmVhazsgLy8gc3dhbGxvd1xuICAgICAgICBjYXNlICdwcy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSB0b3JpR29vc2UocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBnb29zZVxuICAgICAgICBjYXNlICdsLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHRvcmlMZWZ0UXVhaWwocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBsZWZ0IHF1YWlsXG4gICAgICAgIGNhc2UgJ3ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gdG9yaVJpZ2h0UXVhaWwocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyByaWdodCBxdWFpbFxuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHRvcmlQaGVhc2FudChwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIHBoZWFzYW50XG4gICAgICAgIGNhc2UgJ2MtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gdG9yaUNyYW5lO1xuICAgICAgICAgIGJyZWFrOyAvLyBjcmFuZVxuICAgICAgICBjYXNlICdmLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHRvcmlGYWxjb24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBmYWxjb25cbiAgICAgICAgY2FzZSAncGYtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gdG9yaUVhZ2xlKHBsYXllckluZGV4KTtcbiAgICAgICAgICBicmVhazsgLy8gZWFnbGVcbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBicmVhazsgLy8gcGhvZW5peFxuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdtYWtydWsnOlxuICAgIGNhc2UgJ21ha3BvbmcnOlxuICAgIGNhc2UgJ3NpdHR1eWluJzpcbiAgICBjYXNlICdjYW1ib2RpYW4nOlxuICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgIGNhc2UgJ3AtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcGF3bihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIHBhd25cbiAgICAgICAgY2FzZSAnci1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSByb29rO1xuICAgICAgICAgIGJyZWFrOyAvLyByb29rXG4gICAgICAgIGNhc2UgJ24tcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0ga25pZ2h0O1xuICAgICAgICAgIGJyZWFrOyAvLyBrbmlnaHRcbiAgICAgICAgY2FzZSAncy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBzaG9naVNpbHZlcihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGtob25cbiAgICAgICAgY2FzZSAnZi1waWVjZSc6IC8vIFNpdHR1eWluIGZlcnpcbiAgICAgICAgY2FzZSAnbS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBmZXJ6O1xuICAgICAgICAgIGJyZWFrOyAvLyBtZXRcbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBraW5nTm9DYXN0bGluZztcbiAgICAgICAgICBicmVhazsgLy8ga2luZ1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdncmFuZCc6XG4gICAgY2FzZSAnZ3JhbmRob3VzZSc6XG4gICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgY2FzZSAncC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBncmFuZFBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBwYXduXG4gICAgICAgIGNhc2UgJ3ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcm9vaztcbiAgICAgICAgICBicmVhazsgLy8gcm9va1xuICAgICAgICBjYXNlICduLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtuaWdodDtcbiAgICAgICAgICBicmVhazsgLy8ga25pZ2h0XG4gICAgICAgIGNhc2UgJ2ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYmlzaG9wO1xuICAgICAgICAgIGJyZWFrOyAvLyBiaXNob3BcbiAgICAgICAgY2FzZSAncS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBxdWVlbjtcbiAgICAgICAgICBicmVhazsgLy8gcXVlZW5cbiAgICAgICAgY2FzZSAnYy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBjaGFuY2VsbG9yO1xuICAgICAgICAgIGJyZWFrOyAvLyBjaGFuY2VsbG9yXG4gICAgICAgIGNhc2UgJ2EtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYXJjaGJpc2hvcDtcbiAgICAgICAgICBicmVhazsgLy8gYXJjaGJpc2hvcFxuICAgICAgICBjYXNlICdrLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGJyZWFrOyAvLyBraW5nXG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NoYWtvJzpcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGdyYW5kUGF3bihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIHBhd25cbiAgICAgICAgY2FzZSAnYy1waWVjZSc6IC8vIGNhbm5vblxuICAgICAgICBjYXNlICdyLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHJvb2s7XG4gICAgICAgICAgYnJlYWs7IC8vIHJvb2tcbiAgICAgICAgY2FzZSAnbi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBrbmlnaHQ7XG4gICAgICAgICAgYnJlYWs7IC8vIGtuaWdodFxuICAgICAgICBjYXNlICdiLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGJpc2hvcDtcbiAgICAgICAgICBicmVhazsgLy8gYmlzaG9wXG4gICAgICAgIGNhc2UgJ3EtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcXVlZW47XG4gICAgICAgICAgYnJlYWs7IC8vIHF1ZWVuXG4gICAgICAgIGNhc2UgJ2UtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hha29FbGVwaGFudDtcbiAgICAgICAgICBicmVhazsgLy8gZWxlcGhhbnRcbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBraW5nU2hha28ocGxheWVySW5kZXgsIHJvb2tGaWxlc09mU2hha28ocGllY2VzLCBwbGF5ZXJJbmRleCksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgYnJlYWs7IC8vIGtpbmdcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2hvZ3VuJzpcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBwYXduXG4gICAgICAgIGNhc2UgJ3BwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGJyZWFrOyAvLyBjYXB0YWluXG4gICAgICAgIGNhc2UgJ3ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcm9vaztcbiAgICAgICAgICBicmVhazsgLy8gcm9va1xuICAgICAgICBjYXNlICdwci1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBjaGFuY2VsbG9yO1xuICAgICAgICAgIGJyZWFrOyAvLyBtb3J0YXJcbiAgICAgICAgY2FzZSAnbi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBrbmlnaHQ7XG4gICAgICAgICAgYnJlYWs7IC8vIGtuaWdodFxuICAgICAgICBjYXNlICdwbi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBjZW50YXVyO1xuICAgICAgICAgIGJyZWFrOyAvLyBnZW5lcmFsXG4gICAgICAgIGNhc2UgJ2ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYmlzaG9wO1xuICAgICAgICAgIGJyZWFrOyAvLyBiaXNob3BcbiAgICAgICAgY2FzZSAncGItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYXJjaGJpc2hvcDtcbiAgICAgICAgICBicmVhazsgLy8gYXJjaGJpc2hvcFxuICAgICAgICBjYXNlICdmLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGZlcno7XG4gICAgICAgICAgYnJlYWs7IC8vIGR1Y2hlc3NcbiAgICAgICAgY2FzZSAncGYtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcXVlZW47XG4gICAgICAgICAgYnJlYWs7IC8vIHF1ZWVuXG4gICAgICAgIGNhc2UgJ2stcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0ga2luZyhwbGF5ZXJJbmRleCwgcm9va0ZpbGVzT2YocGllY2VzLCBwbGF5ZXJJbmRleCksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgYnJlYWs7IC8vIGtpbmdcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnb3JkYSc6XG4gICAgY2FzZSAnb3JkYW1pcnJvcic6XG4gICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgY2FzZSAncC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBwYXduKHBsYXllckluZGV4KTtcbiAgICAgICAgICBicmVhazsgLy8gcGF3blxuICAgICAgICBjYXNlICdyLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHJvb2s7XG4gICAgICAgICAgYnJlYWs7IC8vIHJvb2tcbiAgICAgICAgY2FzZSAnbi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBrbmlnaHQ7XG4gICAgICAgICAgYnJlYWs7IC8vIGtuaWdodFxuICAgICAgICBjYXNlICdiLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGJpc2hvcDtcbiAgICAgICAgICBicmVhazsgLy8gYmlzaG9wXG4gICAgICAgIGNhc2UgJ3EtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcXVlZW47XG4gICAgICAgICAgYnJlYWs7IC8vIHF1ZWVuXG4gICAgICAgIGNhc2UgJ2wtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gY2hhbmNlbGxvcjtcbiAgICAgICAgICBicmVhazsgLy8gbGFuY2VyXG4gICAgICAgIGNhc2UgJ2gtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gY2VudGF1cjtcbiAgICAgICAgICBicmVhazsgLy8ga2hlc2hpZ1xuICAgICAgICBjYXNlICdhLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGFyY2hiaXNob3A7XG4gICAgICAgICAgYnJlYWs7IC8vIGFyY2hlclxuICAgICAgICBjYXNlICd5LXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHNob2dpU2lsdmVyKHBsYXllckluZGV4KTtcbiAgICAgICAgICBicmVhazsgLy8geXVydFxuICAgICAgICBjYXNlICdmLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGFtYXpvbjtcbiAgICAgICAgICBicmVhazsgLy8gZmFsY29uXG4gICAgICAgIGNhc2UgJ2stcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0ga2luZyhwbGF5ZXJJbmRleCwgcm9va0ZpbGVzT2YocGllY2VzLCBwbGF5ZXJJbmRleCksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgYnJlYWs7IC8vIGtpbmdcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc3lub2NoZXNzJzpcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBwYXduXG4gICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjYW5ub25cbiAgICAgICAgY2FzZSAnci1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSByb29rO1xuICAgICAgICAgIGJyZWFrOyAvLyByb29rXG4gICAgICAgIGNhc2UgJ24tcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0ga25pZ2h0O1xuICAgICAgICAgIGJyZWFrOyAvLyBrbmlnaHRcbiAgICAgICAgY2FzZSAnYi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBiaXNob3A7XG4gICAgICAgICAgYnJlYWs7IC8vIGJpc2hvcFxuICAgICAgICBjYXNlICdxLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHF1ZWVuO1xuICAgICAgICAgIGJyZWFrOyAvLyBxdWVlblxuICAgICAgICBjYXNlICdzLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IG1pbml4aWFuZ3FpUGF3bihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIHNvbGRpZXJcbiAgICAgICAgY2FzZSAnZS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBzaGFrb0VsZXBoYW50O1xuICAgICAgICAgIGJyZWFrOyAvLyBlbGVwaGFudFxuICAgICAgICBjYXNlICdhLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGJyZWFrOyAvLyBhZHZpc29yXG4gICAgICAgIGNhc2UgJ2stcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0ga2luZyhwbGF5ZXJJbmRleCwgcm9va0ZpbGVzT2YocGllY2VzLCBwbGF5ZXJJbmRleCksIGNhbkNhc3RsZSAmJiBwbGF5ZXJJbmRleCA9PT0gJ3AxJyk7XG4gICAgICAgICAgYnJlYWs7IC8vIGtpbmdcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbXVza2V0ZWVyJzpcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBwYXduXG4gICAgICAgIGNhc2UgJ3ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcm9vaztcbiAgICAgICAgICBicmVhazsgLy8gcm9va1xuICAgICAgICBjYXNlICduLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtuaWdodDtcbiAgICAgICAgICBicmVhazsgLy8ga25pZ2h0XG4gICAgICAgIGNhc2UgJ2ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYmlzaG9wO1xuICAgICAgICAgIGJyZWFrOyAvLyBiaXNob3BcbiAgICAgICAgY2FzZSAncS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBxdWVlbjtcbiAgICAgICAgICBicmVhazsgLy8gcXVlZW5cbiAgICAgICAgY2FzZSAnbC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBtdXNrZXRlZXJMZW9wYXJkO1xuICAgICAgICAgIGJyZWFrOyAvLyBsZW9wYXJkXG4gICAgICAgIGNhc2UgJ28tcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gbXVza2V0ZWVyQ2Fubm9uO1xuICAgICAgICAgIGJyZWFrOyAvLyBjYW5ub25cbiAgICAgICAgY2FzZSAndS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBtdXNrZXRlZXJVbmljb3JuO1xuICAgICAgICAgIGJyZWFrOyAvLyB1bmljb3JuXG4gICAgICAgIGNhc2UgJ2QtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gbXVza2V0ZWVyRHJhZ29uO1xuICAgICAgICAgIGJyZWFrOyAvLyBkcmFnb25cbiAgICAgICAgY2FzZSAnYy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBjaGFuY2VsbG9yO1xuICAgICAgICAgIGJyZWFrOyAvLyBjaGFuY2VsbG9yXG4gICAgICAgIGNhc2UgJ2EtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYXJjaGJpc2hvcDtcbiAgICAgICAgICBicmVhazsgLy8gYXJjaGJpc2hvcFxuICAgICAgICBjYXNlICdlLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IG11c2tldGVlckVsZXBoYW50O1xuICAgICAgICAgIGJyZWFrOyAvLyBlbGVwaGFudFxuICAgICAgICBjYXNlICdoLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IG11c2tldGVlckhhd2s7XG4gICAgICAgICAgYnJlYWs7IC8vIGhhd2tcbiAgICAgICAgY2FzZSAnZi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBtdXNrZXRlZXJGb3J0cmVzcztcbiAgICAgICAgICBicmVhazsgLy8gZm9ydHJlc3NcbiAgICAgICAgY2FzZSAncy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBtdXNrZXRlZXJTcGlkZXI7XG4gICAgICAgICAgYnJlYWs7IC8vIHNwaWRlclxuICAgICAgICBjYXNlICdrLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtpbmcocGxheWVySW5kZXgsIHJvb2tGaWxlc09mKHBpZWNlcywgcGxheWVySW5kZXgpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGJyZWFrOyAvLyBraW5nXG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2hvcHBlbHBvcHBlbCc6XG4gICAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgY2FzZSAncC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBwYXduKHBsYXllckluZGV4KTtcbiAgICAgICAgICBicmVhazsgLy8gcGF3blxuICAgICAgICBjYXNlICdyLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHJvb2s7XG4gICAgICAgICAgYnJlYWs7IC8vIHJvb2tcbiAgICAgICAgY2FzZSAnbi1waWVjZSc6IC8vIGtuaWdodCAodGFrZXMgbGlrZSBiaXNob3ApXG4gICAgICAgIGNhc2UgJ2ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYXJjaGJpc2hvcDtcbiAgICAgICAgICBicmVhazsgLy8gYmlzaG9wICh0YWtlcyBsaWtlIGtuaWdodClcbiAgICAgICAgY2FzZSAncS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBxdWVlbjtcbiAgICAgICAgICBicmVhazsgLy8gcXVlZW5cbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBraW5nKHBsYXllckluZGV4LCByb29rRmlsZXNPZihwaWVjZXMsIHBsYXllckluZGV4KSwgY2FuQ2FzdGxlKTtcbiAgICAgICAgICBicmVhazsgLy8ga2luZ1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzaGlub2JpJzpcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBwYXduXG4gICAgICAgIGNhc2UgJ3BsLXBpZWNlJzpcbiAgICAgICAgY2FzZSAnci1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSByb29rO1xuICAgICAgICAgIGJyZWFrOyAvLyByb29rXG4gICAgICAgIGNhc2UgJ3BoLXBpZWNlJzpcbiAgICAgICAgY2FzZSAnbi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBrbmlnaHQ7XG4gICAgICAgICAgYnJlYWs7IC8vIGtuaWdodFxuICAgICAgICBjYXNlICdwbS1waWVjZSc6XG4gICAgICAgIGNhc2UgJ2ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYmlzaG9wO1xuICAgICAgICAgIGJyZWFrOyAvLyBiaXNob3BcbiAgICAgICAgY2FzZSAncS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBxdWVlbjtcbiAgICAgICAgICBicmVhazsgLy8gcXVlZW5cbiAgICAgICAgY2FzZSAncHAtcGllY2UnOlxuICAgICAgICBjYXNlICdjLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtpbmdOb0Nhc3RsaW5nO1xuICAgICAgICAgIGJyZWFrOyAvLyBjYXB0YWluXG4gICAgICAgIGNhc2UgJ2wtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hvZ2lMYW5jZShwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIGxhbmNlXG4gICAgICAgIGNhc2UgJ2gtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gc2hvZ2lLbmlnaHQocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBob3JzZVxuICAgICAgICBjYXNlICdtLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGZlcno7XG4gICAgICAgICAgYnJlYWs7IC8vIG1vbmtcbiAgICAgICAgY2FzZSAnZC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBzaG9naURyYWdvbjtcbiAgICAgICAgICBicmVhazsgLy8gZHJhZ29uXG4gICAgICAgIGNhc2UgJ2otcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYXJjaGJpc2hvcDtcbiAgICAgICAgICBicmVhazsgLy8gbmluamFcbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBraW5nKHBsYXllckluZGV4LCByb29rRmlsZXNPZihwaWVjZXMsIHBsYXllckluZGV4KSwgY2FuQ2FzdGxlKTtcbiAgICAgICAgICBicmVhazsgLy8ga2luZ1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdlbXBpcmUnOlxuICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgIGNhc2UgJ3AtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcGF3bihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIHBhd25cbiAgICAgICAgY2FzZSAncy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBtaW5peGlhbmdxaVBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBzb2xkaWVyXG4gICAgICAgIGNhc2UgJ3ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcm9vaztcbiAgICAgICAgICBicmVhazsgLy8gcm9va1xuICAgICAgICBjYXNlICduLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtuaWdodDtcbiAgICAgICAgICBicmVhazsgLy8ga25pZ2h0XG4gICAgICAgIGNhc2UgJ2ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYmlzaG9wO1xuICAgICAgICAgIGJyZWFrOyAvLyBiaXNob3BcbiAgICAgICAgY2FzZSAnZC1waWVjZSc6IC8vIGR1a2VcbiAgICAgICAgY2FzZSAndC1waWVjZSc6IC8vIHRvd2VyXG4gICAgICAgIGNhc2UgJ2MtcGllY2UnOiAvLyBjYXJkaW5hbFxuICAgICAgICBjYXNlICdxLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHF1ZWVuO1xuICAgICAgICAgIGJyZWFrOyAvLyBxdWVlblxuICAgICAgICBjYXNlICdlLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGFtYXpvbjtcbiAgICAgICAgICBicmVhazsgLy8gYWVnbGVcbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBraW5nKHBsYXllckluZGV4LCByb29rRmlsZXNPZihwaWVjZXMsIHBsYXllckluZGV4KSwgY2FuQ2FzdGxlKTtcbiAgICAgICAgICBicmVhazsgLy8ga2luZ1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdjYXBhYmxhbmNhJzpcbiAgICBjYXNlICdjYXBhaG91c2UnOlxuICAgICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgIGNhc2UgJ3AtcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcGF3bihwbGF5ZXJJbmRleCk7XG4gICAgICAgICAgYnJlYWs7IC8vIHBhd25cbiAgICAgICAgY2FzZSAnci1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSByb29rO1xuICAgICAgICAgIGJyZWFrOyAvLyByb29rXG4gICAgICAgIGNhc2UgJ24tcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0ga25pZ2h0O1xuICAgICAgICAgIGJyZWFrOyAvLyBrbmlnaHRcbiAgICAgICAgY2FzZSAnYi1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBiaXNob3A7XG4gICAgICAgICAgYnJlYWs7IC8vIGJpc2hvcFxuICAgICAgICBjYXNlICdxLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHF1ZWVuO1xuICAgICAgICAgIGJyZWFrOyAvLyBxdWVlblxuICAgICAgICBjYXNlICdjLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGNoYW5jZWxsb3I7XG4gICAgICAgICAgYnJlYWs7IC8vIGNoYW5jZWxsb3JcbiAgICAgICAgY2FzZSAnYS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBhcmNoYmlzaG9wO1xuICAgICAgICAgIGJyZWFrOyAvLyBhcmNoYmlzaG9wXG4gICAgICAgIGNhc2UgJ2stcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gY2hlc3M5NjBcbiAgICAgICAgICAgID8ga2luZzk2MChwbGF5ZXJJbmRleCwgcm9va0ZpbGVzT2YocGllY2VzLCBwbGF5ZXJJbmRleCksIGNhbkNhc3RsZSlcbiAgICAgICAgICAgIDoga2luZ0NhcGEocGxheWVySW5kZXgsIHJvb2tGaWxlc09mKHBpZWNlcywgcGxheWVySW5kZXgpLCBjYW5DYXN0bGUpO1xuICAgICAgICAgIGJyZWFrOyAvLyBraW5nXG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIC8vIFZhcmlhbnRzIHVzaW5nIHN0YW5kYXJkIHBpZWNlcyBhbmQgYWRkaXRpb25hbCBmYWlyeSBwaWVjZXMgbGlrZSBTLWNoZXNzLCBDYXBhYmxhbmNhLCBldGMuXG4gICAgZGVmYXVsdDpcbiAgICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgICBjYXNlICdwLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IHBhd24ocGxheWVySW5kZXgpO1xuICAgICAgICAgIGJyZWFrOyAvLyBwYXduXG4gICAgICAgIGNhc2UgJ3ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gcm9vaztcbiAgICAgICAgICBicmVhazsgLy8gcm9va1xuICAgICAgICBjYXNlICduLXBpZWNlJzpcbiAgICAgICAgICBtb2JpbGl0eSA9IGtuaWdodDtcbiAgICAgICAgICBicmVhazsgLy8ga25pZ2h0XG4gICAgICAgIGNhc2UgJ2ItcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gYmlzaG9wO1xuICAgICAgICAgIGJyZWFrOyAvLyBiaXNob3BcbiAgICAgICAgY2FzZSAncS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBxdWVlbjtcbiAgICAgICAgICBicmVhazsgLy8gcXVlZW5cbiAgICAgICAgY2FzZSAnZS1waWVjZSc6IC8vIFMtY2hlc3MgZWxlcGhhbnRcbiAgICAgICAgY2FzZSAnYy1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBjaGFuY2VsbG9yO1xuICAgICAgICAgIGJyZWFrOyAvLyBjaGFuY2VsbG9yXG4gICAgICAgIGNhc2UgJ2gtcGllY2UnOiAvLyBTLWNoZXNzIGhhd2tcbiAgICAgICAgY2FzZSAnYS1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBhcmNoYmlzaG9wO1xuICAgICAgICAgIGJyZWFrOyAvLyBhcmNoYmlzaG9wXG4gICAgICAgIGNhc2UgJ2stcGllY2UnOlxuICAgICAgICAgIG1vYmlsaXR5ID0gY2hlc3M5NjBcbiAgICAgICAgICAgID8ga2luZzk2MChwbGF5ZXJJbmRleCwgcm9va0ZpbGVzT2YocGllY2VzLCBwbGF5ZXJJbmRleCksIGNhbkNhc3RsZSlcbiAgICAgICAgICAgIDoga2luZyhwbGF5ZXJJbmRleCwgcm9va0ZpbGVzT2YocGllY2VzLCBwbGF5ZXJJbmRleCksIGNhbkNhc3RsZSk7XG4gICAgICAgICAgYnJlYWs7IC8vIGtpbmdcbiAgICAgICAgY2FzZSAnbC1waWVjZSc6XG4gICAgICAgICAgbW9iaWxpdHkgPSBsb2FjaGVja2VyO1xuICAgICAgICAgIGJyZWFrOyAvLyBsb2FjaGVja2VyXG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gdXRpbFxuICAgIC5hbGxLZXlzKGJkKVxuICAgIC5tYXAodXRpbC5rZXkycG9zKVxuICAgIC5maWx0ZXIocG9zMiA9PiB7XG4gICAgICByZXR1cm4gKHBvc1swXSAhPT0gcG9zMlswXSB8fCBwb3NbMV0gIT09IHBvczJbMV0pICYmIG1vYmlsaXR5KHBvc1swXSwgcG9zWzFdLCBwb3MyWzBdLCBwb3MyWzFdKTtcbiAgICB9KVxuICAgIC5tYXAodXRpbC5wb3Mya2V5KTtcbn1cbiIsImltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgeyBrZXkycG9zLCBjcmVhdGVFbCwgcG9zVG9UcmFuc2xhdGVSZWwsIHBvc1RvVHJhbnNsYXRlQWJzLCB0cmFuc2xhdGVSZWwsIHRyYW5zbGF0ZUFicyB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBwMVBvdiB9IGZyb20gJy4vYm9hcmQnO1xuaW1wb3J0IHsgQW5pbUN1cnJlbnQsIEFuaW1WZWN0b3JzLCBBbmltVmVjdG9yLCBBbmltRmFkaW5ncyB9IGZyb20gJy4vYW5pbSc7XG5pbXBvcnQgeyBEcmFnQ3VycmVudCB9IGZyb20gJy4vZHJhZyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzJztcbmltcG9ydCAqIGFzIFQgZnJvbSAnLi90cmFuc2Zvcm1hdGlvbnMnO1xuXG50eXBlIFBpZWNlTmFtZSA9IHN0cmluZzsgLy8gYCRwbGF5ZXJJbmRleCAkcm9sZWBcbnR5cGUgU3F1YXJlQ2xhc3NlcyA9IE1hcDxjZy5LZXksIHN0cmluZz47XG5cbi8vIHBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS92ZWxvY2UvbGljaG9iaWxlL2Jsb2IvbWFzdGVyL3NyYy9qcy9jaGVzc2dyb3VuZC92aWV3LmpzXG4vLyBpbiBjYXNlIG9mIGJ1Z3MsIGJsYW1lIEB2ZWxvY2VcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoczogU3RhdGUpOiB2b2lkIHtcbiAgY29uc3Qgb3JpZW50YXRpb24gPSBzLm9yaWVudGF0aW9uLFxuICAgIGFzUDE6IGJvb2xlYW4gPSBwMVBvdihzKSxcbiAgICBwb3NUb1RyYW5zbGF0ZSA9IHMuZG9tLnJlbGF0aXZlID8gcG9zVG9UcmFuc2xhdGVSZWwgOiBwb3NUb1RyYW5zbGF0ZUFicyhzLmRvbS5ib3VuZHMoKSwgcy5kaW1lbnNpb25zKSxcbiAgICB0cmFuc2xhdGUgPSBzLmRvbS5yZWxhdGl2ZSA/IHRyYW5zbGF0ZVJlbCA6IHRyYW5zbGF0ZUFicyxcbiAgICBib2FyZEVsOiBIVE1MRWxlbWVudCA9IHMuZG9tLmVsZW1lbnRzLmJvYXJkLFxuICAgIHBpZWNlczogY2cuUGllY2VzID0gcy5waWVjZXMsXG4gICAgY3VyQW5pbTogQW5pbUN1cnJlbnQgfCB1bmRlZmluZWQgPSBzLmFuaW1hdGlvbi5jdXJyZW50LFxuICAgIGFuaW1zOiBBbmltVmVjdG9ycyA9IGN1ckFuaW0gPyBjdXJBbmltLnBsYW4uYW5pbXMgOiBuZXcgTWFwKCksXG4gICAgZmFkaW5nczogQW5pbUZhZGluZ3MgPSBjdXJBbmltID8gY3VyQW5pbS5wbGFuLmZhZGluZ3MgOiBuZXcgTWFwKCksXG4gICAgY3VyRHJhZzogRHJhZ0N1cnJlbnQgfCB1bmRlZmluZWQgPSBzLmRyYWdnYWJsZS5jdXJyZW50LFxuICAgIHNxdWFyZXM6IFNxdWFyZUNsYXNzZXMgPSBjb21wdXRlU3F1YXJlQ2xhc3NlcyhzKSxcbiAgICBzYW1lUGllY2VzOiBTZXQ8Y2cuS2V5PiA9IG5ldyBTZXQoKSxcbiAgICBzYW1lU3F1YXJlczogU2V0PGNnLktleT4gPSBuZXcgU2V0KCksXG4gICAgbW92ZWRQaWVjZXM6IE1hcDxQaWVjZU5hbWUsIGNnLlBpZWNlTm9kZVtdPiA9IG5ldyBNYXAoKSxcbiAgICBtb3ZlZFNxdWFyZXM6IE1hcDxzdHJpbmcsIGNnLlNxdWFyZU5vZGVbXT4gPSBuZXcgTWFwKCk7IC8vIGJ5IGNsYXNzIG5hbWVcblxuICBsZXQgazogY2cuS2V5LFxuICAgIGVsOiBjZy5QaWVjZU5vZGUgfCBjZy5TcXVhcmVOb2RlIHwgdW5kZWZpbmVkLFxuICAgIHBpZWNlQXRLZXk6IGNnLlBpZWNlIHwgdW5kZWZpbmVkLFxuICAgIGVsUGllY2VOYW1lOiBQaWVjZU5hbWUsXG4gICAgYW5pbTogQW5pbVZlY3RvciB8IHVuZGVmaW5lZCxcbiAgICBmYWRpbmc6IGNnLlBpZWNlIHwgdW5kZWZpbmVkLFxuICAgIHBNdmRzZXQ6IGNnLlBpZWNlTm9kZVtdIHwgdW5kZWZpbmVkLFxuICAgIHBNdmQ6IGNnLlBpZWNlTm9kZSB8IHVuZGVmaW5lZCxcbiAgICBzTXZkc2V0OiBjZy5TcXVhcmVOb2RlW10gfCB1bmRlZmluZWQsXG4gICAgc012ZDogY2cuU3F1YXJlTm9kZSB8IHVuZGVmaW5lZDtcblxuICAvLyB3YWxrIG92ZXIgYWxsIGJvYXJkIGRvbSBlbGVtZW50cywgYXBwbHkgYW5pbWF0aW9ucyBhbmQgZmxhZyBtb3ZlZCBwaWVjZXNcbiAgZWwgPSBib2FyZEVsLmZpcnN0Q2hpbGQgYXMgY2cuUGllY2VOb2RlIHwgY2cuU3F1YXJlTm9kZSB8IHVuZGVmaW5lZDtcbiAgd2hpbGUgKGVsKSB7XG4gICAgayA9IGVsLmNnS2V5O1xuICAgIGlmIChpc1BpZWNlTm9kZShlbCkpIHtcbiAgICAgIHBpZWNlQXRLZXkgPSBwaWVjZXMuZ2V0KGspO1xuICAgICAgYW5pbSA9IGFuaW1zLmdldChrKTtcbiAgICAgIGZhZGluZyA9IGZhZGluZ3MuZ2V0KGspO1xuICAgICAgZWxQaWVjZU5hbWUgPSBlbC5jZ1BpZWNlO1xuICAgICAgLy8gaWYgcGllY2Ugbm90IGJlaW5nIGRyYWdnZWQgYW55bW9yZSwgcmVtb3ZlIGRyYWdnaW5nIHN0eWxlXG4gICAgICBpZiAoZWwuY2dEcmFnZ2luZyAmJiAoIWN1ckRyYWcgfHwgY3VyRHJhZy5vcmlnICE9PSBrKSkge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZycpO1xuICAgICAgICB0cmFuc2xhdGUoZWwsIHBvc1RvVHJhbnNsYXRlKGtleTJwb3MoayksIG9yaWVudGF0aW9uLCBzLmRpbWVuc2lvbnMpKTtcbiAgICAgICAgZWwuY2dEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gcmVtb3ZlIGZhZGluZyBjbGFzcyBpZiBpdCBzdGlsbCByZW1haW5zXG4gICAgICBpZiAoIWZhZGluZyAmJiBlbC5jZ0ZhZGluZykge1xuICAgICAgICBlbC5jZ0ZhZGluZyA9IGZhbHNlO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdmYWRpbmcnKTtcbiAgICAgIH1cbiAgICAgIC8vIHRoZXJlIGlzIG5vdyBhIHBpZWNlIGF0IHRoaXMgZG9tIGtleVxuICAgICAgaWYgKHBpZWNlQXRLZXkpIHtcbiAgICAgICAgLy8gY29udGludWUgYW5pbWF0aW9uIGlmIGFscmVhZHkgYW5pbWF0aW5nIGFuZCBzYW1lIHBpZWNlXG4gICAgICAgIC8vIChvdGhlcndpc2UgaXQgY291bGQgYW5pbWF0ZSBhIGNhcHR1cmVkIHBpZWNlKVxuICAgICAgICBpZiAoYW5pbSAmJiBlbC5jZ0FuaW1hdGluZyAmJiBlbFBpZWNlTmFtZSA9PT0gcGllY2VOYW1lT2YocGllY2VBdEtleSwgcy5teVBsYXllckluZGV4KSkge1xuICAgICAgICAgIGNvbnN0IHBvcyA9IGtleTJwb3Moayk7XG4gICAgICAgICAgcG9zWzBdICs9IGFuaW1bMl07XG4gICAgICAgICAgcG9zWzFdICs9IGFuaW1bM107XG4gICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYW5pbScpO1xuICAgICAgICAgIHRyYW5zbGF0ZShlbCwgcG9zVG9UcmFuc2xhdGUocG9zLCBvcmllbnRhdGlvbiwgcy5kaW1lbnNpb25zKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWwuY2dBbmltYXRpbmcpIHtcbiAgICAgICAgICBlbC5jZ0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW0nKTtcbiAgICAgICAgICB0cmFuc2xhdGUoZWwsIHBvc1RvVHJhbnNsYXRlKGtleTJwb3MoayksIG9yaWVudGF0aW9uLCBzLmRpbWVuc2lvbnMpKTtcbiAgICAgICAgICBpZiAocy5hZGRQaWVjZVpJbmRleCkgZWwuc3R5bGUuekluZGV4ID0gcG9zWkluZGV4KGtleTJwb3MoayksIG9yaWVudGF0aW9uLCBhc1AxLCBzLmRpbWVuc2lvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNhbWUgcGllY2U6IGZsYWcgYXMgc2FtZVxuICAgICAgICBpZiAoZWxQaWVjZU5hbWUgPT09IHBpZWNlTmFtZU9mKHBpZWNlQXRLZXksIHMubXlQbGF5ZXJJbmRleCkgJiYgKCFmYWRpbmcgfHwgIWVsLmNnRmFkaW5nKSkge1xuICAgICAgICAgIHNhbWVQaWVjZXMuYWRkKGspO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRpZmZlcmVudCBwaWVjZTogZmxhZyBhcyBtb3ZlZCB1bmxlc3MgaXQgaXMgYSBmYWRpbmcgcGllY2VcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKGZhZGluZyAmJiBlbFBpZWNlTmFtZSA9PT0gcGllY2VOYW1lT2YoZmFkaW5nLCBzLm15UGxheWVySW5kZXgpKSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmYWRpbmcnKTtcbiAgICAgICAgICAgIGVsLmNnRmFkaW5nID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwZW5kVmFsdWUobW92ZWRQaWVjZXMsIGVsUGllY2VOYW1lLCBlbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBubyBwaWVjZTogZmxhZyBhcyBtb3ZlZFxuICAgICAgZWxzZSB7XG4gICAgICAgIGFwcGVuZFZhbHVlKG1vdmVkUGllY2VzLCBlbFBpZWNlTmFtZSwgZWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTcXVhcmVOb2RlKGVsKSkge1xuICAgICAgY29uc3QgY24gPSBlbC5jbGFzc05hbWU7XG4gICAgICBpZiAoc3F1YXJlcy5nZXQoaykgPT09IGNuKSBzYW1lU3F1YXJlcy5hZGQoayk7XG4gICAgICBlbHNlIGlmIChtb3ZlZFNxdWFyZXMuaGFzKGNuKSkgYXBwZW5kVmFsdWUobW92ZWRTcXVhcmVzLCBjbiwgZWwpO1xuICAgICAgZWxzZSBtb3ZlZFNxdWFyZXMuc2V0KGNuLCBbZWxdKTtcbiAgICB9XG4gICAgZWwgPSBlbC5uZXh0U2libGluZyBhcyBjZy5QaWVjZU5vZGUgfCBjZy5TcXVhcmVOb2RlIHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gd2FsayBvdmVyIGFsbCBzcXVhcmVzIGluIGN1cnJlbnQgc2V0LCBhcHBseSBkb20gY2hhbmdlcyB0byBtb3ZlZCBzcXVhcmVzXG4gIC8vIG9yIGFwcGVuZCBuZXcgc3F1YXJlc1xuICBmb3IgKGNvbnN0IFtzaywgY2xhc3NOYW1lXSBvZiBzcXVhcmVzKSB7XG4gICAgaWYgKCFzYW1lU3F1YXJlcy5oYXMoc2spKSB7XG4gICAgICBzTXZkc2V0ID0gbW92ZWRTcXVhcmVzLmdldChjbGFzc05hbWUpO1xuICAgICAgc012ZCA9IHNNdmRzZXQgJiYgc012ZHNldC5wb3AoKTtcbiAgICAgIGNvbnN0IHRyYW5zbGF0aW9uID0gcG9zVG9UcmFuc2xhdGUoa2V5MnBvcyhzayksIG9yaWVudGF0aW9uLCBzLmRpbWVuc2lvbnMpO1xuICAgICAgaWYgKHNNdmQpIHtcbiAgICAgICAgc012ZC5jZ0tleSA9IHNrO1xuICAgICAgICB0cmFuc2xhdGUoc012ZCwgdHJhbnNsYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlTm9kZSA9IGNyZWF0ZUVsKCdzcXVhcmUnLCBjbGFzc05hbWUpIGFzIGNnLlNxdWFyZU5vZGU7XG4gICAgICAgIHNxdWFyZU5vZGUuY2dLZXkgPSBzaztcbiAgICAgICAgdHJhbnNsYXRlKHNxdWFyZU5vZGUsIHRyYW5zbGF0aW9uKTtcbiAgICAgICAgYm9hcmRFbC5pbnNlcnRCZWZvcmUoc3F1YXJlTm9kZSwgYm9hcmRFbC5maXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyB3YWxrIG92ZXIgYWxsIHBpZWNlcyBpbiBjdXJyZW50IHNldCwgYXBwbHkgZG9tIGNoYW5nZXMgdG8gbW92ZWQgcGllY2VzXG4gIC8vIG9yIGFwcGVuZCBuZXcgcGllY2VzXG4gIGZvciAoY29uc3QgW2ssIHBdIG9mIHBpZWNlcykge1xuICAgIGFuaW0gPSBhbmltcy5nZXQoayk7XG4gICAgaWYgKCFzYW1lUGllY2VzLmhhcyhrKSkge1xuICAgICAgcE12ZHNldCA9IG1vdmVkUGllY2VzLmdldChwaWVjZU5hbWVPZihwLCBzLm15UGxheWVySW5kZXgpKTtcbiAgICAgIHBNdmQgPSBwTXZkc2V0ICYmIHBNdmRzZXQucG9wKCk7XG4gICAgICAvLyBhIHNhbWUgcGllY2Ugd2FzIG1vdmVkXG4gICAgICBpZiAocE12ZCkge1xuICAgICAgICAvLyBhcHBseSBkb20gY2hhbmdlc1xuICAgICAgICBwTXZkLmNnS2V5ID0gaztcbiAgICAgICAgaWYgKHBNdmQuY2dGYWRpbmcpIHtcbiAgICAgICAgICBwTXZkLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGluZycpO1xuICAgICAgICAgIHBNdmQuY2dGYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3MgPSBrZXkycG9zKGspO1xuICAgICAgICBpZiAocy5hZGRQaWVjZVpJbmRleCkgcE12ZC5zdHlsZS56SW5kZXggPSBwb3NaSW5kZXgocG9zLCBvcmllbnRhdGlvbiwgYXNQMSwgcy5kaW1lbnNpb25zKTtcbiAgICAgICAgaWYgKGFuaW0pIHtcbiAgICAgICAgICBwTXZkLmNnQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBwTXZkLmNsYXNzTGlzdC5hZGQoJ2FuaW0nKTtcbiAgICAgICAgICBwb3NbMF0gKz0gYW5pbVsyXTtcbiAgICAgICAgICBwb3NbMV0gKz0gYW5pbVszXTtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc2xhdGUocE12ZCwgcG9zVG9UcmFuc2xhdGUocG9zLCBvcmllbnRhdGlvbiwgcy5kaW1lbnNpb25zKSk7XG4gICAgICB9XG4gICAgICAvLyBubyBwaWVjZSBpbiBtb3ZlZCBvYmo6IGluc2VydCB0aGUgbmV3IHBpZWNlXG4gICAgICAvLyBhc3N1bWVzIHRoZSBuZXcgcGllY2UgaXMgbm90IGJlaW5nIGRyYWdnZWRcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBwaWVjZU5hbWUgPSBwaWVjZU5hbWVPZihwLCBzLm15UGxheWVySW5kZXgpLFxuICAgICAgICAgIHBpZWNlTm9kZSA9IGNyZWF0ZUVsKCdwaWVjZScsIHBpZWNlTmFtZSkgYXMgY2cuUGllY2VOb2RlLFxuICAgICAgICAgIHBvcyA9IGtleTJwb3Moayk7XG5cbiAgICAgICAgcGllY2VOb2RlLmNnUGllY2UgPSBwaWVjZU5hbWU7XG4gICAgICAgIHBpZWNlTm9kZS5jZ0tleSA9IGs7XG4gICAgICAgIGlmIChhbmltKSB7XG4gICAgICAgICAgcGllY2VOb2RlLmNnQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBwb3NbMF0gKz0gYW5pbVsyXTtcbiAgICAgICAgICBwb3NbMV0gKz0gYW5pbVszXTtcbiAgICAgICAgfVxuICAgICAgICB0cmFuc2xhdGUocGllY2VOb2RlLCBwb3NUb1RyYW5zbGF0ZShwb3MsIG9yaWVudGF0aW9uLCBzLmRpbWVuc2lvbnMpKTtcblxuICAgICAgICBpZiAocy5hZGRQaWVjZVpJbmRleCkgcGllY2VOb2RlLnN0eWxlLnpJbmRleCA9IHBvc1pJbmRleChwb3MsIG9yaWVudGF0aW9uLCBhc1AxLCBzLmRpbWVuc2lvbnMpO1xuXG4gICAgICAgIGJvYXJkRWwuYXBwZW5kQ2hpbGQocGllY2VOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyByZW1vdmUgYW55IGVsZW1lbnQgdGhhdCByZW1haW5zIGluIHRoZSBtb3ZlZCBzZXRzXG4gIGZvciAoY29uc3Qgbm9kZXMgb2YgbW92ZWRQaWVjZXMudmFsdWVzKCkpIHJlbW92ZU5vZGVzKHMsIG5vZGVzKTtcbiAgZm9yIChjb25zdCBub2RlcyBvZiBtb3ZlZFNxdWFyZXMudmFsdWVzKCkpIHJlbW92ZU5vZGVzKHMsIG5vZGVzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUJvdW5kcyhzOiBTdGF0ZSk6IHZvaWQge1xuICBpZiAocy5kb20ucmVsYXRpdmUpIHJldHVybjtcbiAgY29uc3Qgb3JpZW50YXRpb24gPSBzLm9yaWVudGF0aW9uLFxuICAgIHBvc1RvVHJhbnNsYXRlID0gcG9zVG9UcmFuc2xhdGVBYnMocy5kb20uYm91bmRzKCksIHMuZGltZW5zaW9ucyk7XG4gIGxldCBlbCA9IHMuZG9tLmVsZW1lbnRzLmJvYXJkLmZpcnN0Q2hpbGQgYXMgY2cuUGllY2VOb2RlIHwgY2cuU3F1YXJlTm9kZSB8IHVuZGVmaW5lZDtcbiAgd2hpbGUgKGVsKSB7XG4gICAgaWYgKChpc1BpZWNlTm9kZShlbCkgJiYgIWVsLmNnQW5pbWF0aW5nKSB8fCBpc1NxdWFyZU5vZGUoZWwpKSB7XG4gICAgICB0cmFuc2xhdGVBYnMoZWwsIHBvc1RvVHJhbnNsYXRlKGtleTJwb3MoZWwuY2dLZXkpLCBvcmllbnRhdGlvbikpO1xuICAgIH1cbiAgICBlbCA9IGVsLm5leHRTaWJsaW5nIGFzIGNnLlBpZWNlTm9kZSB8IGNnLlNxdWFyZU5vZGUgfCB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNQaWVjZU5vZGUoZWw6IGNnLlBpZWNlTm9kZSB8IGNnLlNxdWFyZU5vZGUpOiBlbCBpcyBjZy5QaWVjZU5vZGUge1xuICByZXR1cm4gZWwudGFnTmFtZSA9PT0gJ1BJRUNFJztcbn1cbmZ1bmN0aW9uIGlzU3F1YXJlTm9kZShlbDogY2cuUGllY2VOb2RlIHwgY2cuU3F1YXJlTm9kZSk6IGVsIGlzIGNnLlNxdWFyZU5vZGUge1xuICByZXR1cm4gZWwudGFnTmFtZSA9PT0gJ1NRVUFSRSc7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU5vZGVzKHM6IFN0YXRlLCBub2RlczogSFRNTEVsZW1lbnRbXSk6IHZvaWQge1xuICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHMuZG9tLmVsZW1lbnRzLmJvYXJkLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuXG5mdW5jdGlvbiBwb3NaSW5kZXgocG9zOiBjZy5Qb3MsIG9yaWVudGF0aW9uOiBjZy5PcmllbnRhdGlvbiwgYXNQMTogYm9vbGVhbiwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IHN0cmluZyB7XG4gIHBvcyA9IFQubWFwVG9QMVtvcmllbnRhdGlvbl0ocG9zLCBiZCk7XG4gIGxldCB6ID0gMiArIChwb3NbMV0gLSAxKSAqIGJkLmhlaWdodCArIChiZC53aWR0aCAtIHBvc1swXSk7XG4gIGlmIChhc1AxKSB6ID0gNjcgLSB6O1xuICByZXR1cm4geiArICcnO1xufVxuXG5mdW5jdGlvbiBwaWVjZU5hbWVPZihwaWVjZTogY2cuUGllY2UsIG15UGxheWVySW5kZXg6IGNnLlBsYXllckluZGV4KTogc3RyaW5nIHtcbiAgY29uc3QgcHJvbW90ZWQgPSBwaWVjZS5wcm9tb3RlZCA/ICdwcm9tb3RlZCAnIDogJyc7XG4gIGNvbnN0IHNpZGUgPSBwaWVjZS5wbGF5ZXJJbmRleCA9PT0gbXlQbGF5ZXJJbmRleCA/ICdhbGx5JyA6ICdlbmVteSc7XG4gIHJldHVybiBgJHtwaWVjZS5wbGF5ZXJJbmRleH0gJHtwcm9tb3RlZH0ke3BpZWNlLnJvbGV9ICR7c2lkZX1gO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlU3F1YXJlQ2xhc3NlcyhzOiBTdGF0ZSk6IFNxdWFyZUNsYXNzZXMge1xuICBjb25zdCBzcXVhcmVzOiBTcXVhcmVDbGFzc2VzID0gbmV3IE1hcCgpO1xuICBpZiAocy5sYXN0TW92ZSAmJiBzLmhpZ2hsaWdodC5sYXN0TW92ZSlcbiAgICBmb3IgKGNvbnN0IGsgb2Ygcy5sYXN0TW92ZSkge1xuICAgICAgaWYgKGsgIT09ICdhMCcpIHtcbiAgICAgICAgYWRkU3F1YXJlKHNxdWFyZXMsIGssICdsYXN0LW1vdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIGlmIChzLmNoZWNrICYmIHMuaGlnaGxpZ2h0LmNoZWNrKSBhZGRTcXVhcmUoc3F1YXJlcywgcy5jaGVjaywgJ2NoZWNrJyk7XG4gIGlmIChzLnNlbGVjdGVkKSB7XG4gICAgYWRkU3F1YXJlKHNxdWFyZXMsIHMuc2VsZWN0ZWQsICdzZWxlY3RlZCcpO1xuICAgIGlmIChzLm1vdmFibGUuc2hvd0Rlc3RzKSB7XG4gICAgICBjb25zdCBkZXN0cyA9IHMubW92YWJsZS5kZXN0cz8uZ2V0KHMuc2VsZWN0ZWQpO1xuICAgICAgaWYgKGRlc3RzKVxuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgZGVzdHMpIHtcbiAgICAgICAgICBhZGRTcXVhcmUoc3F1YXJlcywgaywgJ21vdmUtZGVzdCcgKyAocy5waWVjZXMuaGFzKGspID8gJyBvYycgOiAnJykpO1xuICAgICAgICB9XG4gICAgICBjb25zdCBwRGVzdHMgPSBzLnByZW1vdmFibGUuZGVzdHM7XG4gICAgICBpZiAocERlc3RzKVxuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgcERlc3RzKSB7XG4gICAgICAgICAgYWRkU3F1YXJlKHNxdWFyZXMsIGssICdwcmVtb3ZlLWRlc3QnICsgKHMucGllY2VzLmhhcyhrKSA/ICcgb2MnIDogJycpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChzLmRyb3Btb2RlLmFjdGl2ZSB8fCBzLmRyYWdnYWJsZS5jdXJyZW50Py5vcmlnID09PSAnYTAnKSB7XG4gICAgY29uc3QgcGllY2UgPSBzLmRyb3Btb2RlLmFjdGl2ZSA/IHMuZHJvcG1vZGUucGllY2UgOiBzLmRyYWdnYWJsZS5jdXJyZW50Py5waWVjZTtcblxuICAgIGlmIChwaWVjZSkge1xuICAgICAgLy8gVE9ETzogdGhlcmUgd2FzIGEgZnVuY3Rpb24gY2FsbGVkIGlzUHJlZHJvcHBhYmxlIHRoYXQgd2FzIHVzZWQgaW4gZHJhZy50cyBvciBkcm9wLnRzIG9yIGJvdGguXG4gICAgICAvLyAgICAgICBNYXliZSB1c2UgdGhlIHNhbWUgaGVyZSB0byBkZWNpZGUgd2hhdCB0byByZW5kZXIgaW5zdGVhZCBvZiBwb3RlbnRpYWxseSBtYWtpbmcgaXQgcG9zc2libGUgYm90aFxuICAgICAgLy8gICAgICAga2luZHMgb2YgaGlnaGxpZ2h0aW5nIHRvIGhhcHBlbiBpZiBzb21ldGhpbmcgd2FzIG5vdCBjbGVhcmVkIHVwIGluIHRoZSBzdGF0ZS5cbiAgICAgIC8vICAgICAgIEluIG90aGVyIHBsYWNlIChwb2NrZXQudHMpIHRoaXMgY29uZGl0aW9uIGlzIHVzZWQgb3QgZGVjaWRlIHNpbWlsYXIgcXVlc3Rpb246IGN0cmwubXlwbGF5ZXJJbmRleCA9PT0gY3RybC50dXJuUGxheWVySW5kZXhcbiAgICAgIGlmIChzLmRyb3Btb2RlLnNob3dEcm9wRGVzdHMpIHtcbiAgICAgICAgY29uc3QgZGVzdHMgPSBzLmRyb3Btb2RlLmRyb3BEZXN0cz8uZ2V0KHBpZWNlLnJvbGUpO1xuICAgICAgICBpZiAoZGVzdHMpXG4gICAgICAgICAgZm9yIChjb25zdCBrIG9mIGRlc3RzKSB7XG4gICAgICAgICAgICBhZGRTcXVhcmUoc3F1YXJlcywgaywgJ21vdmUtZGVzdCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzLnByZWRyb3BwYWJsZS5zaG93RHJvcERlc3RzKSB7XG4gICAgICAgIGNvbnN0IHBEZXN0cyA9IHMucHJlZHJvcHBhYmxlLmRyb3BEZXN0cztcbiAgICAgICAgaWYgKHBEZXN0cylcbiAgICAgICAgICBmb3IgKGNvbnN0IGsgb2YgcERlc3RzKSB7XG4gICAgICAgICAgICBhZGRTcXVhcmUoc3F1YXJlcywgaywgJ3ByZW1vdmUtZGVzdCcgKyAocy5waWVjZXMuaGFzKGspID8gJyBvYycgOiAnJykpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcHJlbW92ZSA9IHMucHJlbW92YWJsZS5jdXJyZW50O1xuICBpZiAocHJlbW92ZSkgZm9yIChjb25zdCBrIG9mIHByZW1vdmUpIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAnY3VycmVudC1wcmVtb3ZlJyk7XG4gIGVsc2UgaWYgKHMucHJlZHJvcHBhYmxlLmN1cnJlbnQpIGFkZFNxdWFyZShzcXVhcmVzLCBzLnByZWRyb3BwYWJsZS5jdXJyZW50LmtleSwgJ2N1cnJlbnQtcHJlbW92ZScpO1xuXG4gIGNvbnN0IG8gPSBzLmV4cGxvZGluZztcbiAgaWYgKG8pIGZvciAoY29uc3QgayBvZiBvLmtleXMpIGFkZFNxdWFyZShzcXVhcmVzLCBrLCAnZXhwbG9kaW5nJyArIG8uc3RhZ2UpO1xuXG4gIHJldHVybiBzcXVhcmVzO1xufVxuXG5mdW5jdGlvbiBhZGRTcXVhcmUoc3F1YXJlczogU3F1YXJlQ2xhc3Nlcywga2V5OiBjZy5LZXksIGtsYXNzOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgY2xhc3NlcyA9IHNxdWFyZXMuZ2V0KGtleSk7XG4gIGlmIChjbGFzc2VzKSBzcXVhcmVzLnNldChrZXksIGAke2NsYXNzZXN9ICR7a2xhc3N9YCk7XG4gIGVsc2Ugc3F1YXJlcy5zZXQoa2V5LCBrbGFzcyk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFZhbHVlPEssIFY+KG1hcDogTWFwPEssIFZbXT4sIGtleTogSywgdmFsdWU6IFYpOiB2b2lkIHtcbiAgY29uc3QgYXJyID0gbWFwLmdldChrZXkpO1xuICBpZiAoYXJyKSBhcnIucHVzaCh2YWx1ZSk7XG4gIGVsc2UgbWFwLnNldChrZXksIFt2YWx1ZV0pO1xufVxuIiwiaW1wb3J0ICogYXMgZmVuIGZyb20gJy4vZmVuJztcbmltcG9ydCB7IEFuaW1DdXJyZW50IH0gZnJvbSAnLi9hbmltJztcbmltcG9ydCB7IERyYWdDdXJyZW50IH0gZnJvbSAnLi9kcmFnJztcbmltcG9ydCB7IERyYXdhYmxlIH0gZnJvbSAnLi9kcmF3JztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWRsZXNzU3RhdGUge1xuICBwaWVjZXM6IGNnLlBpZWNlcztcbiAgb3JpZW50YXRpb246IGNnLk9yaWVudGF0aW9uOyAvLyBib2FyZCBvcmllbnRhdGlvbi4gcDEgfCBwMiB8IGxlZnQgfCByaWdodFxuICBteVBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleDsgLy8gdG8gZGV0ZXJtaW5lIHBpZWNlIGlzIGFsbHkgb3IgZW5lbXlcbiAgc3RhcnRQbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXg7IC8vc3RhcnRpbmcgcGxheWVySW5kZXhcbiAgdHVyblBsYXllckluZGV4OiBjZy5QbGF5ZXJJbmRleDsgLy8gdHVybiB0byBwbGF5LiBwMSB8IHAyXG4gIGNoZWNrPzogY2cuS2V5OyAvLyBzcXVhcmUgY3VycmVudGx5IGluIGNoZWNrIFwiYTJcIlxuICBsYXN0TW92ZT86IGNnLktleVtdOyAvLyBzcXVhcmVzIHBhcnQgb2YgdGhlIGxhc3QgbW92ZSBbXCJjM1wiOyBcImM0XCJdXG4gIHNlbGVjdGVkPzogY2cuS2V5OyAvLyBzcXVhcmUgY3VycmVudGx5IHNlbGVjdGVkIFwiYTFcIlxuICBjb29yZGluYXRlczogYm9vbGVhbjsgLy8gaW5jbHVkZSBjb29yZHMgYXR0cmlidXRlc1xuICBhdXRvQ2FzdGxlOiBib29sZWFuOyAvLyBpbW1lZGlhdGVseSBjb21wbGV0ZSB0aGUgY2FzdGxlIGJ5IG1vdmluZyB0aGUgcm9vayBhZnRlciBraW5nIG1vdmVcbiAgdmlld09ubHk6IGJvb2xlYW47IC8vIGRvbid0IGJpbmQgZXZlbnRzOiB0aGUgdXNlciB3aWxsIG5ldmVyIGJlIGFibGUgdG8gbW92ZSBwaWVjZXMgYXJvdW5kXG4gIGRpc2FibGVDb250ZXh0TWVudTogYm9vbGVhbjsgLy8gYmVjYXVzZSB3aG8gbmVlZHMgYSBjb250ZXh0IG1lbnUgb24gYSBjaGVzc2JvYXJkXG4gIHJlc2l6YWJsZTogYm9vbGVhbjsgLy8gbGlzdGVucyB0byBjaGVzc2dyb3VuZC5yZXNpemUgb24gZG9jdW1lbnQuYm9keSB0byBjbGVhciBib3VuZHMgY2FjaGVcbiAgYWRkUGllY2VaSW5kZXg6IGJvb2xlYW47IC8vIGFkZHMgei1pbmRleCB2YWx1ZXMgdG8gcGllY2VzIChmb3IgM0QpXG4gIHBpZWNlS2V5OiBib29sZWFuOyAvLyBhZGQgYSBkYXRhLWtleSBhdHRyaWJ1dGUgdG8gcGllY2UgZWxlbWVudHNcbiAgaGlnaGxpZ2h0OiB7XG4gICAgbGFzdE1vdmU6IGJvb2xlYW47IC8vIGFkZCBsYXN0LW1vdmUgY2xhc3MgdG8gc3F1YXJlc1xuICAgIGNoZWNrOiBib29sZWFuOyAvLyBhZGQgY2hlY2sgY2xhc3MgdG8gc3F1YXJlc1xuICB9O1xuICBhbmltYXRpb246IHtcbiAgICBlbmFibGVkOiBib29sZWFuO1xuICAgIGR1cmF0aW9uOiBudW1iZXI7XG4gICAgY3VycmVudD86IEFuaW1DdXJyZW50O1xuICB9O1xuICBtb3ZhYmxlOiB7XG4gICAgZnJlZTogYm9vbGVhbjsgLy8gYWxsIG1vdmVzIGFyZSB2YWxpZCAtIGJvYXJkIGVkaXRvclxuICAgIHBsYXllckluZGV4PzogY2cuUGxheWVySW5kZXggfCAnYm90aCc7IC8vIHBsYXllckluZGV4IHRoYXQgY2FuIG1vdmUuIHAxIHwgcDIgfCBib3RoXG4gICAgZGVzdHM/OiBjZy5EZXN0czsgLy8gdmFsaWQgbW92ZXMuIHtcImEyXCIgW1wiYTNcIiBcImE0XCJdIFwiYjFcIiBbXCJhM1wiIFwiYzNcIl19XG4gICAgc2hvd0Rlc3RzOiBib29sZWFuOyAvLyB3aGV0aGVyIHRvIGFkZCB0aGUgbW92ZS1kZXN0IGNsYXNzIG9uIHNxdWFyZXNcbiAgICBldmVudHM6IHtcbiAgICAgIGFmdGVyPzogKG9yaWc6IGNnLktleSwgZGVzdDogY2cuS2V5LCBtZXRhZGF0YTogY2cuTW92ZU1ldGFkYXRhKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIG1vdmUgaGFzIGJlZW4gcGxheWVkXG4gICAgICBhZnRlck5ld1BpZWNlPzogKHJvbGU6IGNnLlJvbGUsIGtleTogY2cuS2V5LCBtZXRhZGF0YTogY2cuTW92ZU1ldGFkYXRhKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgYSBuZXcgcGllY2UgaXMgZHJvcHBlZCBvbiB0aGUgYm9hcmRcbiAgICB9O1xuICAgIHJvb2tDYXN0bGU6IGJvb2xlYW47IC8vIGNhc3RsZSBieSBtb3ZpbmcgdGhlIGtpbmcgdG8gdGhlIHJvb2tcbiAgfTtcbiAgcHJlbW92YWJsZToge1xuICAgIGVuYWJsZWQ6IGJvb2xlYW47IC8vIGFsbG93IHByZW1vdmVzIGZvciBwbGF5ZXJJbmRleCB0aGF0IGNhbiBub3QgbW92ZVxuICAgIHNob3dEZXN0czogYm9vbGVhbjsgLy8gd2hldGhlciB0byBhZGQgdGhlIHByZW1vdmUtZGVzdCBjbGFzcyBvbiBzcXVhcmVzXG4gICAgY2FzdGxlOiBib29sZWFuOyAvLyB3aGV0aGVyIHRvIGFsbG93IGtpbmcgY2FzdGxlIHByZW1vdmVzXG4gICAgZGVzdHM/OiBjZy5LZXlbXTsgLy8gcHJlbW92ZSBkZXN0aW5hdGlvbnMgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGlvblxuICAgIGN1cnJlbnQ/OiBjZy5LZXlQYWlyOyAvLyBrZXlzIG9mIHRoZSBjdXJyZW50IHNhdmVkIHByZW1vdmUgW1wiZTJcIiBcImU0XCJdXG4gICAgZXZlbnRzOiB7XG4gICAgICBzZXQ/OiAob3JpZzogY2cuS2V5LCBkZXN0OiBjZy5LZXksIG1ldGFkYXRhPzogY2cuU2V0UHJlbW92ZU1ldGFkYXRhKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHByZW1vdmUgaGFzIGJlZW4gc2V0XG4gICAgICB1bnNldD86ICgpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciB0aGUgcHJlbW92ZSBoYXMgYmVlbiB1bnNldFxuICAgIH07XG4gIH07XG4gIHByZWRyb3BwYWJsZToge1xuICAgIGVuYWJsZWQ6IGJvb2xlYW47IC8vIGFsbG93IHByZWRyb3BzIGZvciBwbGF5ZXJJbmRleCB0aGF0IGNhbiBub3QgbW92ZVxuICAgIHNob3dEcm9wRGVzdHM6IGJvb2xlYW47IC8vIHdoZXRoZXIgdG8gYWRkIHRoZSBwcmVtb3ZlLWRlc3QgY3NzIGNsYXNzIG9uIGRlc3Qgc3F1YXJlcy4gTWF5YmUgYW4gb3ZlcmtpbGwgdG8gaGF2ZSB0aGlzIHNob3dEZXN0IGFuZCBzaG93RHJvcCBkZXN0cyBpbiBlYWNoIGFuZCBldmVyeSBwbGFjZSwgYnV0IGNvdWxkIG1ha2Ugc2Vuc2Ugb25lIGRheVxuICAgIGRyb3BEZXN0cz86IGNnLktleVtdOyAvLyBwcmVtb3ZlIGRlc3RpbmF0aW9ucyBmb3IgdGhlIGN1cnJlbnRseSBcInNlbGVjdGVkXCIgcGllY2UgZm9yIHByZS1kcm9wcGluZy4gQm90aCBpbiBjYXNlIG9mIGRyYWctZHJvcCBvciBjbGljay1kcm9wXG4gICAgY3VycmVudD86IHtcbiAgICAgIC8vIGN1cnJlbnQgc2F2ZWQgcHJlZHJvcCB7cm9sZTogJ2tuaWdodCc7IGtleTogJ2U0J30uXG4gICAgICAvLyBUaGUgc3RvcnkgaGVyZSBpcyBhIGJpdCBtZXNzeSBzbyBkZXNlcnZlcyBzb21lIGNvbW1lbnRzOlxuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgb25seSBzdG9yZXMgYW4gYWN0dWFsbHkgcGVyZm9ybWVkIHByZWRyb3AgKHRodXMga2V5IGlzIG5vbi1udWxsKS4gSWYganVzdCBhIHBpZWNlIGlzIHNlbGVjdGVkIGZvciBkcm9wcGluZyBkdXJpbmdcbiAgICAgIC8vIG9wcG9uZW50J3MgdHVybiwgYnV0IG5vdCB5ZXQgZHJvcHBlZCwgdGhlbiBpdCBpcyBzdG9yZWQgaW4gXCJkcm9wbW9kZS5waWVjZVwiIGluc3RlYWQuIFN0aWxsIGl0cyBwb3NzaWJsZSBkZXN0aW5hdGlvbnNcbiAgICAgIC8vIChmb3IgdGhlIHB1cnBvc2Ugb2YgaGlnaGxpZ2h0aW5nKSwgd2hlbiBjYWxjdWxhdGVkLCBhcmUgc3RpbGwgc3RvcmVkIGhlcmUgaW5cbiAgICAgIC8vIHRoaXMgXCJwcmVkcm9wcGFibGUuZHJvcERlc3RzIGFuZCBub3QgaW4gZHJvcG1vZGUuZHJvcERlc3RzIC0gZXZlbiBpZiB0aGUgcGllY2UgaXMgdGhlcmUsIGl0cyBkZXN0cyBhcmUgaGVyZVxuICAgICAgLy8gU2ltaWxhcmx5IHdoZW4gZHJhZ2dpbmcgb2YgYSBwb2NrZXQgcGllY2VzIHN0YXJ0cyB3aGlsZSBpdCBpcyBvcHBvbmVudHMgdHVybiwgYnV0IGhhcyBub3QgeWV0IGJlZW4gcGxhY2VkIG9uIHRoZSBib2FyZCAoYXMgYW4gYWN0dWFsIHByZWRyb3ApXG4gICAgICAvLyB0aGUgcGllY2UgdGhhdCBpcyBiZWluZyBkcmFnZ2VkIGlzIHN0b3JlZCBpbiBcImRyYWdnYWJsZVwiLlxuICAgICAgcm9sZTogY2cuUm9sZTtcbiAgICAgIGtleTogY2cuS2V5O1xuICAgIH07XG4gICAgZXZlbnRzOiB7XG4gICAgICBzZXQ/OiAocm9sZTogY2cuUm9sZSwga2V5OiBjZy5LZXkpID0+IHZvaWQ7IC8vIGNhbGxlZCBhZnRlciB0aGUgcHJlZHJvcCBoYXMgYmVlbiBzZXRcbiAgICAgIHVuc2V0PzogKCkgPT4gdm9pZDsgLy8gY2FsbGVkIGFmdGVyIHRoZSBwcmVkcm9wIGhhcyBiZWVuIHVuc2V0XG4gICAgfTtcbiAgfTtcbiAgZHJhZ2dhYmxlOiB7XG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLy8gYWxsb3cgbW92ZXMgJiBwcmVtb3ZlcyB0byB1c2UgZHJhZyduIGRyb3BcbiAgICBkaXN0YW5jZTogbnVtYmVyOyAvLyBtaW5pbXVtIGRpc3RhbmNlIHRvIGluaXRpYXRlIGEgZHJhZzsgaW4gcGl4ZWxzXG4gICAgYXV0b0Rpc3RhbmNlOiBib29sZWFuOyAvLyBsZXRzIGNoZXNzZ3JvdW5kIHNldCBkaXN0YW5jZSB0byB6ZXJvIHdoZW4gdXNlciBkcmFncyBwaWVjZXNcbiAgICBjZW50ZXJQaWVjZTogYm9vbGVhbjsgLy8gY2VudGVyIHRoZSBwaWVjZSBvbiBjdXJzb3IgYXQgZHJhZyBzdGFydFxuICAgIHNob3dHaG9zdDogYm9vbGVhbjsgLy8gc2hvdyBnaG9zdCBvZiBwaWVjZSBiZWluZyBkcmFnZ2VkXG4gICAgZGVsZXRlT25Ecm9wT2ZmOiBib29sZWFuOyAvLyBkZWxldGUgYSBwaWVjZSB3aGVuIGl0IGlzIGRyb3BwZWQgb2ZmIHRoZSBib2FyZFxuICAgIGN1cnJlbnQ/OiBEcmFnQ3VycmVudDtcbiAgfTtcbiAgZHJvcG1vZGU6IHtcbiAgICAvLyB1c2VkIGZvciBwb2NrZXQgcGllY2VzIGRyb3BzLlxuICAgIGFjdGl2ZTogYm9vbGVhbjtcbiAgICBzaG93RHJvcERlc3RzOiBib29sZWFuO1xuICAgIHBpZWNlPzogY2cuUGllY2U7XG4gICAgZHJvcERlc3RzPzogY2cuRHJvcERlc3RzOyAvLyBCb3RoIGluIGNhc2Ugb2YgY2xpY2stZHJvcCBhbmQgZHJhZy1kcm9wIGZyb20gcG9ja2V0IGl0IHN0b3JlcyB0aGUgcG9zc2libGUgZGVzdHMgZnJvbSBoaWdobGlnaHRpbmcgKFRPRE86d2hpY2ggaXMgbm90IGdyZWF0IHRvIHVzZSB0aGlzIGZvciBib3RoIGNhc2VzIGltaG8pXG4gICAgZXZlbnRzPzogeyBjYW5jZWw/OiAoKSA9PiB2b2lkIH07XG4gIH07XG4gIHNlbGVjdGFibGU6IHtcbiAgICAvLyBkaXNhYmxlIHRvIGVuZm9yY2UgZHJhZ2dpbmcgb3ZlciBjbGljay1jbGljayBtb3ZlXG4gICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgfTtcbiAgc3RhdHM6IHtcbiAgICAvLyB3YXMgbGFzdCBwaWVjZSBkcmFnZ2VkIG9yIGNsaWNrZWQ/XG4gICAgLy8gbmVlZHMgZGVmYXVsdCB0byBmYWxzZSBmb3IgdG91Y2hcbiAgICBkcmFnZ2VkOiBib29sZWFuO1xuICAgIGN0cmxLZXk/OiBib29sZWFuO1xuICB9O1xuICBldmVudHM6IHtcbiAgICBjaGFuZ2U/OiAoKSA9PiB2b2lkOyAvLyBjYWxsZWQgYWZ0ZXIgdGhlIHNpdHVhdGlvbiBjaGFuZ2VzIG9uIHRoZSBib2FyZFxuICAgIC8vIGNhbGxlZCBhZnRlciBhIHBpZWNlIGhhcyBiZWVuIG1vdmVkLlxuICAgIC8vIGNhcHR1cmVkUGllY2UgaXMgdW5kZWZpbmVkIG9yIGxpa2Uge3BsYXllckluZGV4OiAncDEnOyAncm9sZSc6ICdxdWVlbid9XG4gICAgbW92ZT86IChvcmlnOiBjZy5LZXksIGRlc3Q6IGNnLktleSwgY2FwdHVyZWRQaWVjZT86IGNnLlBpZWNlKSA9PiB2b2lkO1xuICAgIGRyb3BOZXdQaWVjZT86IChwaWVjZTogY2cuUGllY2UsIGtleTogY2cuS2V5KSA9PiB2b2lkO1xuICAgIHNlbGVjdD86IChrZXk6IGNnLktleSkgPT4gdm9pZDsgLy8gY2FsbGVkIHdoZW4gYSBzcXVhcmUgaXMgc2VsZWN0ZWRcbiAgICBpbnNlcnQ/OiAoZWxlbWVudHM6IGNnLkVsZW1lbnRzKSA9PiB2b2lkOyAvLyB3aGVuIHRoZSBib2FyZCBET00gaGFzIGJlZW4gKHJlKWluc2VydGVkXG4gIH07XG4gIGRyYXdhYmxlOiBEcmF3YWJsZTtcbiAgZXhwbG9kaW5nPzogY2cuRXhwbG9kaW5nO1xuICAvL2RvbTogY2cuRG9tLFxuICBob2xkOiBjZy5UaW1lcjtcbiAgZGltZW5zaW9uczogY2cuQm9hcmREaW1lbnNpb25zOyAvLyBudW1iZXIgb2YgbGluZXMgYW5kIHJhbmtzIG9mIHRoZSBib2FyZCB7d2lkdGg6IDEwLCBoZWlnaHQ6IDh9XG4gIHZhcmlhbnQ6IGNnLlZhcmlhbnQ7XG4gIGNoZXNzOTYwOiBib29sZWFuO1xuICBub3RhdGlvbjogY2cuTm90YXRpb247XG4gIG9ubHlEcm9wc1ZhcmlhbnQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGUgZXh0ZW5kcyBIZWFkbGVzc1N0YXRlIHtcbiAgZG9tOiBjZy5Eb207XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0cygpOiBIZWFkbGVzc1N0YXRlIHtcbiAgcmV0dXJuIHtcbiAgICBwaWVjZXM6IGZlbi5yZWFkKGZlbi5pbml0aWFsLCB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSwgJ2NoZXNzJyksXG4gICAgb3JpZW50YXRpb246ICdwMScsXG4gICAgbXlQbGF5ZXJJbmRleDogJ3AxJyxcbiAgICBzdGFydFBsYXllckluZGV4OiAncDEnLFxuICAgIHR1cm5QbGF5ZXJJbmRleDogJ3AxJyxcbiAgICBjb29yZGluYXRlczogdHJ1ZSxcbiAgICBhdXRvQ2FzdGxlOiB0cnVlLFxuICAgIHZpZXdPbmx5OiBmYWxzZSxcbiAgICBkaXNhYmxlQ29udGV4dE1lbnU6IGZhbHNlLFxuICAgIHJlc2l6YWJsZTogdHJ1ZSxcbiAgICBhZGRQaWVjZVpJbmRleDogZmFsc2UsXG4gICAgcGllY2VLZXk6IGZhbHNlLFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgbGFzdE1vdmU6IHRydWUsXG4gICAgICBjaGVjazogdHJ1ZSxcbiAgICB9LFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgfSxcbiAgICBtb3ZhYmxlOiB7XG4gICAgICBmcmVlOiB0cnVlLFxuICAgICAgcGxheWVySW5kZXg6ICdib3RoJyxcbiAgICAgIHNob3dEZXN0czogdHJ1ZSxcbiAgICAgIGV2ZW50czoge30sXG4gICAgICByb29rQ2FzdGxlOiB0cnVlLFxuICAgIH0sXG4gICAgcHJlbW92YWJsZToge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIHNob3dEZXN0czogdHJ1ZSxcbiAgICAgIGNhc3RsZTogdHJ1ZSxcbiAgICAgIGV2ZW50czoge30sXG4gICAgfSxcbiAgICBwcmVkcm9wcGFibGU6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgc2hvd0Ryb3BEZXN0czogdHJ1ZSxcbiAgICAgIGV2ZW50czoge30sXG4gICAgfSxcbiAgICBkcmFnZ2FibGU6IHtcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICBkaXN0YW5jZTogMyxcbiAgICAgIGF1dG9EaXN0YW5jZTogdHJ1ZSxcbiAgICAgIGNlbnRlclBpZWNlOiB0cnVlLFxuICAgICAgc2hvd0dob3N0OiB0cnVlLFxuICAgICAgZGVsZXRlT25Ecm9wT2ZmOiBmYWxzZSxcbiAgICB9LFxuICAgIGRyb3Btb2RlOiB7XG4gICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgc2hvd0Ryb3BEZXN0czogdHJ1ZSxcbiAgICB9LFxuICAgIHNlbGVjdGFibGU6IHtcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgfSxcbiAgICBzdGF0czoge1xuICAgICAgLy8gb24gdG91Y2hzY3JlZW4sIGRlZmF1bHQgdG8gXCJ0YXAtdGFwXCIgbW92ZXNcbiAgICAgIC8vIGluc3RlYWQgb2YgZHJhZ1xuICAgICAgZHJhZ2dlZDogISgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpLFxuICAgIH0sXG4gICAgZXZlbnRzOiB7fSxcbiAgICBkcmF3YWJsZToge1xuICAgICAgZW5hYmxlZDogdHJ1ZSwgLy8gY2FuIGRyYXdcbiAgICAgIHZpc2libGU6IHRydWUsIC8vIGNhbiB2aWV3XG4gICAgICBkZWZhdWx0U25hcFRvVmFsaWRNb3ZlOiB0cnVlLFxuICAgICAgZXJhc2VPbkNsaWNrOiB0cnVlLFxuICAgICAgc2hhcGVzOiBbXSxcbiAgICAgIGF1dG9TaGFwZXM6IFtdLFxuICAgICAgYnJ1c2hlczoge1xuICAgICAgICBncmVlbjogeyBrZXk6ICdnJywgY29sb3I6ICcjMTU3ODFCJywgb3BhY2l0eTogMSwgbGluZVdpZHRoOiAxMCB9LFxuICAgICAgICByZWQ6IHsga2V5OiAncicsIGNvbG9yOiAnIzg4MjAyMCcsIG9wYWNpdHk6IDEsIGxpbmVXaWR0aDogMTAgfSxcbiAgICAgICAgYmx1ZTogeyBrZXk6ICdiJywgY29sb3I6ICcjMDAzMDg4Jywgb3BhY2l0eTogMSwgbGluZVdpZHRoOiAxMCB9LFxuICAgICAgICB5ZWxsb3c6IHsga2V5OiAneScsIGNvbG9yOiAnI2U2OGYwMCcsIG9wYWNpdHk6IDEsIGxpbmVXaWR0aDogMTAgfSxcbiAgICAgICAgcGFsZUJsdWU6IHsga2V5OiAncGInLCBjb2xvcjogJyMwMDMwODgnLCBvcGFjaXR5OiAwLjQsIGxpbmVXaWR0aDogMTUgfSxcbiAgICAgICAgcGFsZUdyZWVuOiB7IGtleTogJ3BnJywgY29sb3I6ICcjMTU3ODFCJywgb3BhY2l0eTogMC40LCBsaW5lV2lkdGg6IDE1IH0sXG4gICAgICAgIHBhbGVSZWQ6IHsga2V5OiAncHInLCBjb2xvcjogJyM4ODIwMjAnLCBvcGFjaXR5OiAwLjQsIGxpbmVXaWR0aDogMTUgfSxcbiAgICAgICAgcGFsZUdyZXk6IHtcbiAgICAgICAgICBrZXk6ICdwZ3InLFxuICAgICAgICAgIGNvbG9yOiAnIzRhNGE0YScsXG4gICAgICAgICAgb3BhY2l0eTogMC4zNSxcbiAgICAgICAgICBsaW5lV2lkdGg6IDE1LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBpZWNlczoge1xuICAgICAgICBiYXNlVXJsOiAnaHR0cHM6Ly9wbGF5c3RyYXRlZ3kub3JnL2Fzc2V0cy9waWVjZS9jYnVybmV0dC8nLFxuICAgICAgfSxcbiAgICAgIHByZXZTdmdIYXNoOiAnJyxcbiAgICB9LFxuICAgIGhvbGQ6IHRpbWVyKCksXG4gICAgZGltZW5zaW9uczogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgdmFyaWFudDogJ2NoZXNzJyxcbiAgICBjaGVzczk2MDogZmFsc2UsXG4gICAgbm90YXRpb246IGNnLk5vdGF0aW9uLkRFRkFVTFQsXG4gICAgb25seURyb3BzVmFyaWFudDogZmFsc2UsXG4gIH07XG59XG4iLCJpbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4vc3RhdGUnO1xuaW1wb3J0IHsga2V5MnBvcyB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBEcmF3YWJsZSwgRHJhd1NoYXBlLCBEcmF3U2hhcGVQaWVjZSwgRHJhd0JydXNoLCBEcmF3QnJ1c2hlcywgRHJhd01vZGlmaWVycyB9IGZyb20gJy4vZHJhdyc7XG5pbXBvcnQgKiBhcyBjZyBmcm9tICcuL3R5cGVzJztcbmltcG9ydCAqIGFzIFQgZnJvbSAnLi90cmFuc2Zvcm1hdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lOiBzdHJpbmcpOiBTVkdFbGVtZW50IHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCB0YWdOYW1lKTtcbn1cblxuaW50ZXJmYWNlIFNoYXBlIHtcbiAgc2hhcGU6IERyYXdTaGFwZTtcbiAgY3VycmVudDogYm9vbGVhbjtcbiAgaGFzaDogSGFzaDtcbn1cblxudHlwZSBDdXN0b21CcnVzaGVzID0gTWFwPHN0cmluZywgRHJhd0JydXNoPjsgLy8gYnkgaGFzaFxuXG50eXBlIEFycm93RGVzdHMgPSBNYXA8Y2cuS2V5LCBudW1iZXI+OyAvLyBob3cgbWFueSBhcnJvd3MgbGFuZCBvbiBhIHNxdWFyZVxuXG50eXBlIEhhc2ggPSBzdHJpbmc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTdmcoc3RhdGU6IFN0YXRlLCBzdmc6IFNWR0VsZW1lbnQsIGN1c3RvbVN2ZzogU1ZHRWxlbWVudCk6IHZvaWQge1xuICBjb25zdCBkID0gc3RhdGUuZHJhd2FibGUsXG4gICAgY3VyRCA9IGQuY3VycmVudCxcbiAgICBjdXIgPSBjdXJEICYmIGN1ckQubW91c2VTcSA/IChjdXJEIGFzIERyYXdTaGFwZSkgOiB1bmRlZmluZWQsXG4gICAgYXJyb3dEZXN0czogQXJyb3dEZXN0cyA9IG5ldyBNYXAoKSxcbiAgICBib3VuZHMgPSBzdGF0ZS5kb20uYm91bmRzKCk7XG5cbiAgZm9yIChjb25zdCBzIG9mIGQuc2hhcGVzLmNvbmNhdChkLmF1dG9TaGFwZXMpLmNvbmNhdChjdXIgPyBbY3VyXSA6IFtdKSkge1xuICAgIGlmIChzLmRlc3QpIGFycm93RGVzdHMuc2V0KHMuZGVzdCwgKGFycm93RGVzdHMuZ2V0KHMuZGVzdCkgfHwgMCkgKyAxKTtcbiAgfVxuXG4gIGNvbnN0IHNoYXBlczogU2hhcGVbXSA9IGQuc2hhcGVzLmNvbmNhdChkLmF1dG9TaGFwZXMpLm1hcCgoczogRHJhd1NoYXBlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNoYXBlOiBzLFxuICAgICAgY3VycmVudDogZmFsc2UsXG4gICAgICBoYXNoOiBzaGFwZUhhc2gocywgYXJyb3dEZXN0cywgZmFsc2UsIGJvdW5kcyksXG4gICAgfTtcbiAgfSk7XG4gIGlmIChjdXIpXG4gICAgc2hhcGVzLnB1c2goe1xuICAgICAgc2hhcGU6IGN1cixcbiAgICAgIGN1cnJlbnQ6IHRydWUsXG4gICAgICBoYXNoOiBzaGFwZUhhc2goY3VyLCBhcnJvd0Rlc3RzLCB0cnVlLCBib3VuZHMpLFxuICAgIH0pO1xuXG4gIGNvbnN0IGZ1bGxIYXNoID0gc2hhcGVzLm1hcChzYyA9PiBzYy5oYXNoKS5qb2luKCc7Jyk7XG4gIGlmIChmdWxsSGFzaCA9PT0gc3RhdGUuZHJhd2FibGUucHJldlN2Z0hhc2gpIHJldHVybjtcbiAgc3RhdGUuZHJhd2FibGUucHJldlN2Z0hhc2ggPSBmdWxsSGFzaDtcblxuICAvKlxuICAgIC0tIERPTSBoaWVyYXJjaHkgLS1cbiAgICA8c3ZnIGNsYXNzPVwiY2ctc2hhcGVzXCI+ICAgICAgKDw9IHN2ZylcbiAgICAgIDxkZWZzPlxuICAgICAgICAuLi4oZm9yIGJydXNoZXMpLi4uXG4gICAgICA8L2RlZnM+XG4gICAgICA8Zz5cbiAgICAgICAgLi4uKGZvciBhcnJvd3MsIGNpcmNsZXMsIGFuZCBwaWVjZXMpLi4uXG4gICAgICA8L2c+XG4gICAgPC9zdmc+XG4gICAgPHN2ZyBjbGFzcz1cImNnLWN1c3RvbS1zdmdzXCI+ICg8PSBjdXN0b21TdmcpXG4gICAgICA8Zz5cbiAgICAgICAgLi4uKGZvciBjdXN0b20gc3ZncykuLi5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgKi9cblxuICBjb25zdCBkZWZzRWwgPSBzdmcucXVlcnlTZWxlY3RvcignZGVmcycpIGFzIFNWR0VsZW1lbnQ7XG4gIGNvbnN0IHNoYXBlc0VsID0gc3ZnLnF1ZXJ5U2VsZWN0b3IoJ2cnKSBhcyBTVkdFbGVtZW50O1xuICBjb25zdCBjdXN0b21TdmdzRWwgPSBjdXN0b21TdmcucXVlcnlTZWxlY3RvcignZycpIGFzIFNWR0VsZW1lbnQ7XG5cbiAgc3luY0RlZnMoZCwgc2hhcGVzLCBkZWZzRWwpO1xuICBzeW5jU2hhcGVzKFxuICAgIHN0YXRlLFxuICAgIHNoYXBlcy5maWx0ZXIocyA9PiAhcy5zaGFwZS5jdXN0b21TdmcpLFxuICAgIGQuYnJ1c2hlcyxcbiAgICBhcnJvd0Rlc3RzLFxuICAgIHNoYXBlc0VsXG4gICk7XG4gIHN5bmNTaGFwZXMoXG4gICAgc3RhdGUsXG4gICAgc2hhcGVzLmZpbHRlcihzID0+IHMuc2hhcGUuY3VzdG9tU3ZnKSxcbiAgICBkLmJydXNoZXMsXG4gICAgYXJyb3dEZXN0cyxcbiAgICBjdXN0b21TdmdzRWxcbiAgKTtcbn1cblxuLy8gYXBwZW5kIG9ubHkuIERvbid0IHRyeSB0byB1cGRhdGUvcmVtb3ZlLlxuZnVuY3Rpb24gc3luY0RlZnMoZDogRHJhd2FibGUsIHNoYXBlczogU2hhcGVbXSwgZGVmc0VsOiBTVkdFbGVtZW50KSB7XG4gIGNvbnN0IGJydXNoZXM6IEN1c3RvbUJydXNoZXMgPSBuZXcgTWFwKCk7XG4gIGxldCBicnVzaDogRHJhd0JydXNoO1xuICBmb3IgKGNvbnN0IHMgb2Ygc2hhcGVzKSB7XG4gICAgaWYgKHMuc2hhcGUuZGVzdCkge1xuICAgICAgYnJ1c2ggPSBkLmJydXNoZXNbcy5zaGFwZS5icnVzaCFdO1xuICAgICAgaWYgKHMuc2hhcGUubW9kaWZpZXJzKSBicnVzaCA9IG1ha2VDdXN0b21CcnVzaChicnVzaCwgcy5zaGFwZS5tb2RpZmllcnMpO1xuICAgICAgYnJ1c2hlcy5zZXQoYnJ1c2gua2V5LCBicnVzaCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGtleXNJbkRvbSA9IG5ldyBTZXQoKTtcbiAgbGV0IGVsOiBTVkdFbGVtZW50IHwgdW5kZWZpbmVkID0gZGVmc0VsLmZpcnN0Q2hpbGQgYXMgU1ZHRWxlbWVudDtcbiAgd2hpbGUgKGVsKSB7XG4gICAga2V5c0luRG9tLmFkZChlbC5nZXRBdHRyaWJ1dGUoJ2NnS2V5JykpO1xuICAgIGVsID0gZWwubmV4dFNpYmxpbmcgYXMgU1ZHRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIGJydXNoXSBvZiBicnVzaGVzLmVudHJpZXMoKSkge1xuICAgIGlmICgha2V5c0luRG9tLmhhcyhrZXkpKSBkZWZzRWwuYXBwZW5kQ2hpbGQocmVuZGVyTWFya2VyKGJydXNoKSk7XG4gIH1cbn1cblxuLy8gYXBwZW5kIGFuZCByZW1vdmUgb25seS4gTm8gdXBkYXRlcy5cbmZ1bmN0aW9uIHN5bmNTaGFwZXMoXG4gIHN0YXRlOiBTdGF0ZSxcbiAgc2hhcGVzOiBTaGFwZVtdLFxuICBicnVzaGVzOiBEcmF3QnJ1c2hlcyxcbiAgYXJyb3dEZXN0czogQXJyb3dEZXN0cyxcbiAgcm9vdDogU1ZHRWxlbWVudFxuKTogdm9pZCB7XG4gIGNvbnN0IGJvdW5kcyA9IHN0YXRlLmRvbS5ib3VuZHMoKSxcbiAgICBoYXNoZXNJbkRvbSA9IG5ldyBNYXAoKSwgLy8gYnkgaGFzaFxuICAgIHRvUmVtb3ZlOiBTVkdFbGVtZW50W10gPSBbXTtcbiAgZm9yIChjb25zdCBzYyBvZiBzaGFwZXMpIGhhc2hlc0luRG9tLnNldChzYy5oYXNoLCBmYWxzZSk7XG4gIGxldCBlbDogU1ZHRWxlbWVudCB8IHVuZGVmaW5lZCA9IHJvb3QuZmlyc3RDaGlsZCBhcyBTVkdFbGVtZW50LFxuICAgIGVsSGFzaDogSGFzaDtcbiAgd2hpbGUgKGVsKSB7XG4gICAgZWxIYXNoID0gZWwuZ2V0QXR0cmlidXRlKCdjZ0hhc2gnKSBhcyBIYXNoO1xuICAgIC8vIGZvdW5kIGEgc2hhcGUgZWxlbWVudCB0aGF0J3MgaGVyZSB0byBzdGF5XG4gICAgaWYgKGhhc2hlc0luRG9tLmhhcyhlbEhhc2gpKSBoYXNoZXNJbkRvbS5zZXQoZWxIYXNoLCB0cnVlKTtcbiAgICAvLyBvciByZW1vdmUgaXRcbiAgICBlbHNlIHRvUmVtb3ZlLnB1c2goZWwpO1xuICAgIGVsID0gZWwubmV4dFNpYmxpbmcgYXMgU1ZHRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgfVxuICAvLyByZW1vdmUgb2xkIHNoYXBlc1xuICBmb3IgKGNvbnN0IGVsIG9mIHRvUmVtb3ZlKSByb290LnJlbW92ZUNoaWxkKGVsKTtcbiAgLy8gaW5zZXJ0IHNoYXBlcyB0aGF0IGFyZSBub3QgeWV0IGluIGRvbVxuICBmb3IgKGNvbnN0IHNjIG9mIHNoYXBlcykge1xuICAgIGlmICghaGFzaGVzSW5Eb20uZ2V0KHNjLmhhc2gpKSByb290LmFwcGVuZENoaWxkKHJlbmRlclNoYXBlKHN0YXRlLCBzYywgYnJ1c2hlcywgYXJyb3dEZXN0cywgYm91bmRzKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hhcGVIYXNoKFxuICB7IG9yaWcsIGRlc3QsIGJydXNoLCBwaWVjZSwgbW9kaWZpZXJzLCBjdXN0b21TdmcgfTogRHJhd1NoYXBlLFxuICBhcnJvd0Rlc3RzOiBBcnJvd0Rlc3RzLFxuICBjdXJyZW50OiBib29sZWFuLFxuICBib3VuZHM6IENsaWVudFJlY3Rcbik6IEhhc2gge1xuICByZXR1cm4gW1xuICAgIGJvdW5kcy53aWR0aCxcbiAgICBib3VuZHMuaGVpZ2h0LFxuICAgIGN1cnJlbnQsXG4gICAgb3JpZyxcbiAgICBkZXN0LFxuICAgIGJydXNoLFxuICAgIGRlc3QgJiYgKGFycm93RGVzdHMuZ2V0KGRlc3QpIHx8IDApID4gMSxcbiAgICBwaWVjZSAmJiBwaWVjZUhhc2gocGllY2UpLFxuICAgIG1vZGlmaWVycyAmJiBtb2RpZmllcnNIYXNoKG1vZGlmaWVycyksXG4gICAgY3VzdG9tU3ZnICYmIGN1c3RvbVN2Z0hhc2goY3VzdG9tU3ZnKSxcbiAgXVxuICAgIC5maWx0ZXIoeCA9PiB4KVxuICAgIC5qb2luKCcsJyk7XG59XG5cbmZ1bmN0aW9uIHBpZWNlSGFzaChwaWVjZTogRHJhd1NoYXBlUGllY2UpOiBIYXNoIHtcbiAgcmV0dXJuIFtwaWVjZS5wbGF5ZXJJbmRleCwgcGllY2Uucm9sZSwgcGllY2Uuc2NhbGVdLmZpbHRlcih4ID0+IHgpLmpvaW4oJywnKTtcbn1cblxuZnVuY3Rpb24gbW9kaWZpZXJzSGFzaChtOiBEcmF3TW9kaWZpZXJzKTogSGFzaCB7XG4gIHJldHVybiAnJyArIChtLmxpbmVXaWR0aCB8fCAnJyk7XG59XG5cbmZ1bmN0aW9uIGN1c3RvbVN2Z0hhc2goczogc3RyaW5nKTogSGFzaCB7XG4gIC8vIFJvbGxpbmcgaGFzaCB3aXRoIGJhc2UgMzEgKGNmLiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NjE2NDYxL2dlbmVyYXRlLWEtaGFzaC1mcm9tLXN0cmluZy1pbi1qYXZhc2NyaXB0KVxuICBsZXQgaCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgIGggPSAoKGggPDwgNSkgLSBoICsgcy5jaGFyQ29kZUF0KGkpKSA+Pj4gMDtcbiAgfVxuICByZXR1cm4gJ2N1c3RvbS0nICsgaC50b1N0cmluZygpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJTaGFwZShcbiAgc3RhdGU6IFN0YXRlLFxuICB7IHNoYXBlLCBjdXJyZW50LCBoYXNoIH06IFNoYXBlLFxuICBicnVzaGVzOiBEcmF3QnJ1c2hlcyxcbiAgYXJyb3dEZXN0czogQXJyb3dEZXN0cyxcbiAgYm91bmRzOiBDbGllbnRSZWN0XG4pOiBTVkdFbGVtZW50IHtcbiAgbGV0IGVsOiBTVkdFbGVtZW50O1xuICBpZiAoc2hhcGUuY3VzdG9tU3ZnKSB7XG4gICAgY29uc3Qgb3JpZyA9IG9yaWVudChrZXkycG9zKHNoYXBlLm9yaWcpLCBzdGF0ZS5vcmllbnRhdGlvbiwgc3RhdGUuZGltZW5zaW9ucyk7XG4gICAgZWwgPSByZW5kZXJDdXN0b21Tdmcoc2hhcGUuY3VzdG9tU3ZnLCBvcmlnLCBib3VuZHMsIHN0YXRlLmRpbWVuc2lvbnMpO1xuICB9IGVsc2UgaWYgKHNoYXBlLnBpZWNlKVxuICAgIGVsID0gcmVuZGVyUGllY2UoXG4gICAgICBzdGF0ZS5kcmF3YWJsZS5waWVjZXMuYmFzZVVybCxcbiAgICAgIG9yaWVudChrZXkycG9zKHNoYXBlLm9yaWcpLCBzdGF0ZS5vcmllbnRhdGlvbiwgc3RhdGUuZGltZW5zaW9ucyksXG4gICAgICBzaGFwZS5waWVjZSxcbiAgICAgIGJvdW5kcyxcbiAgICAgIHN0YXRlLmRpbWVuc2lvbnMsXG4gICAgICBzdGF0ZS5teVBsYXllckluZGV4LFxuICAgICAgc3RhdGUudmFyaWFudFxuICAgICk7XG4gIGVsc2Uge1xuICAgIGNvbnN0IG9yaWcgPSBvcmllbnQoa2V5MnBvcyhzaGFwZS5vcmlnKSwgc3RhdGUub3JpZW50YXRpb24sIHN0YXRlLmRpbWVuc2lvbnMpO1xuICAgIGlmIChzaGFwZS5vcmlnICYmIHNoYXBlLmRlc3QpIHtcbiAgICAgIGxldCBicnVzaDogRHJhd0JydXNoID0gYnJ1c2hlc1tzaGFwZS5icnVzaCFdO1xuICAgICAgaWYgKHNoYXBlLm1vZGlmaWVycykgYnJ1c2ggPSBtYWtlQ3VzdG9tQnJ1c2goYnJ1c2gsIHNoYXBlLm1vZGlmaWVycyk7XG4gICAgICBlbCA9IHJlbmRlckFycm93KFxuICAgICAgICBicnVzaCxcbiAgICAgICAgb3JpZyxcbiAgICAgICAgb3JpZW50KGtleTJwb3Moc2hhcGUuZGVzdCksIHN0YXRlLm9yaWVudGF0aW9uLCBzdGF0ZS5kaW1lbnNpb25zKSxcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgKGFycm93RGVzdHMuZ2V0KHNoYXBlLmRlc3QpIHx8IDApID4gMSxcbiAgICAgICAgYm91bmRzLFxuICAgICAgICBzdGF0ZS5kaW1lbnNpb25zXG4gICAgICApO1xuICAgIH0gZWxzZSBlbCA9IHJlbmRlckNpcmNsZShicnVzaGVzW3NoYXBlLmJydXNoIV0sIG9yaWcsIGN1cnJlbnQsIGJvdW5kcywgc3RhdGUuZGltZW5zaW9ucyk7XG4gIH1cbiAgZWwuc2V0QXR0cmlidXRlKCdjZ0hhc2gnLCBoYXNoKTtcbiAgcmV0dXJuIGVsO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDdXN0b21TdmcoY3VzdG9tU3ZnOiBzdHJpbmcsIHBvczogY2cuUG9zLCBib3VuZHM6IENsaWVudFJlY3QsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBTVkdFbGVtZW50IHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBib3VuZHM7XG4gIGNvbnN0IHcgPSB3aWR0aCAvIGJkLndpZHRoO1xuICBjb25zdCBoID0gaGVpZ2h0IC8gYmQuaGVpZ2h0O1xuICBjb25zdCB4ID0gKHBvc1swXSAtIDEpICogdztcbiAgY29uc3QgeSA9IChiZC5oZWlnaHQgLSBwb3NbMV0pICogaDtcblxuICAvLyBUcmFuc2xhdGUgdG8gdG9wLWxlZnQgb2YgYG9yaWdgIHNxdWFyZVxuICBjb25zdCBnID0gc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdnJyksIHsgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7eH0sJHt5fSlgIH0pO1xuXG4gIC8vIEdpdmUgMTAweDEwMCBjb29yZGluYXRlIHN5c3RlbSB0byB0aGUgdXNlciBmb3IgYG9yaWdgIHNxdWFyZVxuICBjb25zdCBzdmcgPSBzZXRBdHRyaWJ1dGVzKGNyZWF0ZUVsZW1lbnQoJ3N2ZycpLCB7IHdpZHRoOiB3LCBoZWlnaHQ6IGgsIHZpZXdCb3g6ICcwIDAgMTAwIDEwMCcgfSk7XG5cbiAgZy5hcHBlbmRDaGlsZChzdmcpO1xuICBzdmcuaW5uZXJIVE1MID0gY3VzdG9tU3ZnO1xuICByZXR1cm4gZztcbn1cblxuZnVuY3Rpb24gcmVuZGVyQ2lyY2xlKFxuICBicnVzaDogRHJhd0JydXNoLFxuICBwb3M6IGNnLlBvcyxcbiAgY3VycmVudDogYm9vbGVhbixcbiAgYm91bmRzOiBDbGllbnRSZWN0LFxuICBiZDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiBTVkdFbGVtZW50IHtcbiAgY29uc3QgbyA9IHBvczJweChwb3MsIGJvdW5kcywgYmQpLFxuICAgIHdpZHRocyA9IGNpcmNsZVdpZHRoKGJvdW5kcywgYmQpLFxuICAgIHJhZGl1cyA9IChib3VuZHMud2lkdGggKyBib3VuZHMuaGVpZ2h0KSAvICgyICogKGJkLmhlaWdodCArIGJkLndpZHRoKSk7XG4gIHJldHVybiBzZXRBdHRyaWJ1dGVzKGNyZWF0ZUVsZW1lbnQoJ2NpcmNsZScpLCB7XG4gICAgc3Ryb2tlOiBicnVzaC5jb2xvcixcbiAgICAnc3Ryb2tlLXdpZHRoJzogd2lkdGhzW2N1cnJlbnQgPyAwIDogMV0sXG4gICAgZmlsbDogJ25vbmUnLFxuICAgIG9wYWNpdHk6IG9wYWNpdHkoYnJ1c2gsIGN1cnJlbnQpLFxuICAgIGN4OiBvWzBdLFxuICAgIGN5OiBvWzFdLFxuICAgIHI6IHJhZGl1cyAtIHdpZHRoc1sxXSAvIDIsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW5kZXJBcnJvdyhcbiAgYnJ1c2g6IERyYXdCcnVzaCxcbiAgb3JpZzogY2cuUG9zLFxuICBkZXN0OiBjZy5Qb3MsXG4gIGN1cnJlbnQ6IGJvb2xlYW4sXG4gIHNob3J0ZW46IGJvb2xlYW4sXG4gIGJvdW5kczogQ2xpZW50UmVjdCxcbiAgYmQ6IGNnLkJvYXJkRGltZW5zaW9uc1xuKTogU1ZHRWxlbWVudCB7XG4gIGNvbnN0IG0gPSBhcnJvd01hcmdpbihib3VuZHMsIHNob3J0ZW4gJiYgIWN1cnJlbnQsIGJkKSxcbiAgICBhID0gcG9zMnB4KG9yaWcsIGJvdW5kcywgYmQpLFxuICAgIGIgPSBwb3MycHgoZGVzdCwgYm91bmRzLCBiZCksXG4gICAgZHggPSBiWzBdIC0gYVswXSxcbiAgICBkeSA9IGJbMV0gLSBhWzFdLFxuICAgIGFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpLFxuICAgIHhvID0gTWF0aC5jb3MoYW5nbGUpICogbSxcbiAgICB5byA9IE1hdGguc2luKGFuZ2xlKSAqIG07XG4gIHJldHVybiBzZXRBdHRyaWJ1dGVzKGNyZWF0ZUVsZW1lbnQoJ2xpbmUnKSwge1xuICAgIHN0cm9rZTogYnJ1c2guY29sb3IsXG4gICAgJ3N0cm9rZS13aWR0aCc6IGxpbmVXaWR0aChicnVzaCwgY3VycmVudCwgYm91bmRzLCBiZCksXG4gICAgJ3N0cm9rZS1saW5lY2FwJzogJ3JvdW5kJyxcbiAgICAnbWFya2VyLWVuZCc6ICd1cmwoI2Fycm93aGVhZC0nICsgYnJ1c2gua2V5ICsgJyknLFxuICAgIG9wYWNpdHk6IG9wYWNpdHkoYnJ1c2gsIGN1cnJlbnQpLFxuICAgIHgxOiBhWzBdLFxuICAgIHkxOiBhWzFdLFxuICAgIHgyOiBiWzBdIC0geG8sXG4gICAgeTI6IGJbMV0gLSB5byxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclBpZWNlKFxuICBiYXNlVXJsOiBzdHJpbmcsXG4gIHBvczogY2cuUG9zLFxuICBwaWVjZTogRHJhd1NoYXBlUGllY2UsXG4gIGJvdW5kczogQ2xpZW50UmVjdCxcbiAgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyxcbiAgbXlQbGF5ZXJJbmRleDogY2cuUGxheWVySW5kZXgsXG4gIHZhcmlhbnQ6IGNnLlZhcmlhbnRcbik6IFNWR0VsZW1lbnQge1xuICBjb25zdCBvID0gcG9zMnB4KHBvcywgYm91bmRzLCBiZCksXG4gICAgd2lkdGggPSAoYm91bmRzLndpZHRoIC8gYmQud2lkdGgpICogKHBpZWNlLnNjYWxlIHx8IDEpLFxuICAgIGhlaWdodCA9IChib3VuZHMuaGVpZ2h0IC8gYmQuaGVpZ2h0KSAqIChwaWVjZS5zY2FsZSB8fCAxKSxcbiAgICAvL25hbWUgPSBwaWVjZS5wbGF5ZXJJbmRleFswXSArIHBpZWNlLnJvbGVbMF0udG9VcHBlckNhc2UoKTtcbiAgICBuYW1lID0gcm9sZVRvU3ZnTmFtZSh2YXJpYW50LCBwaWVjZSk7XG4gIC8vIElmIGJhc2VVcmwgZG9lc24ndCBlbmQgd2l0aCAnLycgdXNlIGl0IGFzIGZ1bGwgaHJlZlxuICAvLyBUaGlzIGlzIG5lZWRlZCB3aGVuIGRyb3AgcGllY2Ugc3VnZ2VzdGlvbiAuc3ZnIGltYWdlIGZpbGUgbmFtZXMgYXJlIGRpZmZlcmVudCB0aGFuIFwibmFtZVwiIHByb2R1Y2VzXG4gIGNvbnN0IGhyZWYgPSBiYXNlVXJsLmVuZHNXaXRoKCcvJykgPyBiYXNlVXJsLnNsaWNlKCdodHRwczovL3BsYXlzdHJhdGVneS5vcmcnLmxlbmd0aCkgKyBuYW1lICsgJy5zdmcnIDogYmFzZVVybDtcbiAgY29uc3Qgc2lkZSA9IHBpZWNlLnBsYXllckluZGV4ID09PSBteVBsYXllckluZGV4ID8gJ2FsbHknIDogJ2VuZW15JztcbiAgcmV0dXJuIHNldEF0dHJpYnV0ZXMoY3JlYXRlRWxlbWVudCgnaW1hZ2UnKSwge1xuICAgIGNsYXNzTmFtZTogYCR7cGllY2Uucm9sZX0gJHtwaWVjZS5wbGF5ZXJJbmRleH0gJHtzaWRlfWAsXG4gICAgeDogb1swXSAtIHdpZHRoIC8gMixcbiAgICB5OiBvWzFdIC0gaGVpZ2h0IC8gMixcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgaHJlZjogaHJlZixcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlck1hcmtlcihicnVzaDogRHJhd0JydXNoKTogU1ZHRWxlbWVudCB7XG4gIGNvbnN0IG1hcmtlciA9IHNldEF0dHJpYnV0ZXMoY3JlYXRlRWxlbWVudCgnbWFya2VyJyksIHtcbiAgICBpZDogJ2Fycm93aGVhZC0nICsgYnJ1c2gua2V5LFxuICAgIG9yaWVudDogJ2F1dG8nLFxuICAgIG1hcmtlcldpZHRoOiA0LFxuICAgIG1hcmtlckhlaWdodDogOCxcbiAgICByZWZYOiAyLjA1LFxuICAgIHJlZlk6IDIuMDEsXG4gIH0pO1xuICBtYXJrZXIuYXBwZW5kQ2hpbGQoXG4gICAgc2V0QXR0cmlidXRlcyhjcmVhdGVFbGVtZW50KCdwYXRoJyksIHtcbiAgICAgIGQ6ICdNMCwwIFY0IEwzLDIgWicsXG4gICAgICBmaWxsOiBicnVzaC5jb2xvcixcbiAgICB9KVxuICApO1xuICBtYXJrZXIuc2V0QXR0cmlidXRlKCdjZ0tleScsIGJydXNoLmtleSk7XG4gIHJldHVybiBtYXJrZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsOiBTVkdFbGVtZW50LCBhdHRyczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSk6IFNWR0VsZW1lbnQge1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykgZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG4gIHJldHVybiBlbDtcbn1cblxuZnVuY3Rpb24gb3JpZW50KHBvczogY2cuUG9zLCBvcmllbnRhdGlvbjogY2cuT3JpZW50YXRpb24sIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBjZy5Qb3Mge1xuICByZXR1cm4gVC5tYXBUb1AxSW52ZXJzZVtvcmllbnRhdGlvbl0ocG9zLCBiZCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VDdXN0b21CcnVzaChiYXNlOiBEcmF3QnJ1c2gsIG1vZGlmaWVyczogRHJhd01vZGlmaWVycyk6IERyYXdCcnVzaCB7XG4gIHJldHVybiB7XG4gICAgY29sb3I6IGJhc2UuY29sb3IsXG4gICAgb3BhY2l0eTogTWF0aC5yb3VuZChiYXNlLm9wYWNpdHkgKiAxMCkgLyAxMCxcbiAgICBsaW5lV2lkdGg6IE1hdGgucm91bmQobW9kaWZpZXJzLmxpbmVXaWR0aCB8fCBiYXNlLmxpbmVXaWR0aCksXG4gICAga2V5OiBbYmFzZS5rZXksIG1vZGlmaWVycy5saW5lV2lkdGhdLmZpbHRlcih4ID0+IHgpLmpvaW4oJycpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBjaXJjbGVXaWR0aChib3VuZHM6IENsaWVudFJlY3QsIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgY29uc3QgYmFzZSA9IGJvdW5kcy53aWR0aCAvIChiZC53aWR0aCAqIDY0KTtcbiAgcmV0dXJuIFszICogYmFzZSwgNCAqIGJhc2VdO1xufVxuXG5mdW5jdGlvbiBsaW5lV2lkdGgoYnJ1c2g6IERyYXdCcnVzaCwgY3VycmVudDogYm9vbGVhbiwgYm91bmRzOiBDbGllbnRSZWN0LCBiZDogY2cuQm9hcmREaW1lbnNpb25zKTogbnVtYmVyIHtcbiAgcmV0dXJuICgoKGJydXNoLmxpbmVXaWR0aCB8fCAxMCkgKiAoY3VycmVudCA/IDAuODUgOiAxKSkgLyAoYmQud2lkdGggKiA2NCkpICogYm91bmRzLndpZHRoO1xufVxuXG5mdW5jdGlvbiBvcGFjaXR5KGJydXNoOiBEcmF3QnJ1c2gsIGN1cnJlbnQ6IGJvb2xlYW4pOiBudW1iZXIge1xuICByZXR1cm4gKGJydXNoLm9wYWNpdHkgfHwgMSkgKiAoY3VycmVudCA/IDAuOSA6IDEpO1xufVxuXG5mdW5jdGlvbiBhcnJvd01hcmdpbihib3VuZHM6IENsaWVudFJlY3QsIHNob3J0ZW46IGJvb2xlYW4sIGJkOiBjZy5Cb2FyZERpbWVuc2lvbnMpOiBudW1iZXIge1xuICByZXR1cm4gKChzaG9ydGVuID8gMjAgOiAxMCkgLyAoYmQud2lkdGggKiA2NCkpICogYm91bmRzLndpZHRoO1xufVxuXG5mdW5jdGlvbiBwb3MycHgocG9zOiBjZy5Qb3MsIGJvdW5kczogQ2xpZW50UmVjdCwgYmQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IGNnLk51bWJlclBhaXIge1xuICByZXR1cm4gWygocG9zWzBdIC0gMC41KSAqIGJvdW5kcy53aWR0aCkgLyBiZC53aWR0aCwgKChiZC5oZWlnaHQgKyAwLjUgLSBwb3NbMV0pICogYm91bmRzLmhlaWdodCkgLyBiZC5oZWlnaHRdO1xufVxuXG5mdW5jdGlvbiByb2xlVG9TdmdOYW1lKHZhcmlhbnQ6IGNnLlZhcmlhbnQsIHBpZWNlOiBEcmF3U2hhcGVQaWVjZSk6IHN0cmluZyB7XG4gIHN3aXRjaCAodmFyaWFudCkge1xuICAgIGNhc2UgJ3Nob2dpJzpcbiAgICAgIHN3aXRjaCAocGllY2Uucm9sZSkge1xuICAgICAgICAvL3Byb21vdGVkXG4gICAgICAgIGNhc2UgJ3BwLXBpZWNlJzpcbiAgICAgICAgICByZXR1cm4gJzAnICsgJ1RPJztcbiAgICAgICAgY2FzZSAncGwtcGllY2UnOlxuICAgICAgICAgIHJldHVybiAnMCcgKyAnTlknO1xuICAgICAgICBjYXNlICdwbi1waWVjZSc6XG4gICAgICAgICAgcmV0dXJuICcwJyArICdOSyc7XG4gICAgICAgIGNhc2UgJ3BzLXBpZWNlJzpcbiAgICAgICAgICByZXR1cm4gJzAnICsgJ05HJztcbiAgICAgICAgY2FzZSAncHItcGllY2UnOlxuICAgICAgICAgIHJldHVybiAnMCcgKyAnUlknO1xuICAgICAgICBjYXNlICdwYi1waWVjZSc6XG4gICAgICAgICAgcmV0dXJuICcwJyArICdVTSc7XG4gICAgICAgIC8vbm90IHByb21vdGVkIC0gb25seSBkcmF3IHlvdXIgb3duIHBpZWNlcyB0aGVyZWZvcmUgYWx3YXlzIDAgbm90IDE/XG4gICAgICAgIGNhc2UgJ3AtcGllY2UnOlxuICAgICAgICAgIHJldHVybiAnMEZVJztcbiAgICAgICAgY2FzZSAnbC1waWVjZSc6XG4gICAgICAgICAgcmV0dXJuICcwS1knO1xuICAgICAgICBjYXNlICduLXBpZWNlJzpcbiAgICAgICAgICByZXR1cm4gJzBLRSc7XG4gICAgICAgIGNhc2UgJ3MtcGllY2UnOlxuICAgICAgICAgIHJldHVybiAnMEdJJztcbiAgICAgICAgY2FzZSAnci1waWVjZSc6XG4gICAgICAgICAgcmV0dXJuICcwSEknO1xuICAgICAgICBjYXNlICdiLXBpZWNlJzpcbiAgICAgICAgICByZXR1cm4gJzBLQSc7XG4gICAgICAgIGNhc2UgJ2ctcGllY2UnOlxuICAgICAgICAgIHJldHVybiAnMEtJJztcbiAgICAgICAgY2FzZSAnay1waWVjZSc6XG4gICAgICAgICAgcmV0dXJuIHBpZWNlLnBsYXllckluZGV4ID09PSAncDEnID8gJzBHWScgOiAnME9VJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgY2FzZSAneGlhbmdxaSc6XG4gICAgICByZXR1cm4gKHBpZWNlLnBsYXllckluZGV4ID09PSAncDEnID8gJ1InIDogJ0InKSArIHBpZWNlLnJvbGVbMF0udG9VcHBlckNhc2UoKTtcbiAgICBjYXNlICdmbGlwZWxsbyc6XG4gICAgY2FzZSAnbGluZXNPZkFjdGlvbic6XG4gICAgICByZXR1cm4gKHBpZWNlLnBsYXllckluZGV4ID09PSAncDEnID8gJ2InIDogJ3cnKSArIHBpZWNlLnJvbGVbMF0udG9VcHBlckNhc2UoKTtcbiAgICBjYXNlICdvd2FyZSc6IHtcbiAgICAgIGNvbnN0IGFzY2lpTnVtID0gcGllY2Uucm9sZVswXS5jaGFyQ29kZUF0KDApO1xuICAgICAgcmV0dXJuIGFzY2lpTnVtID4gOTAgPyAoYXNjaWlOdW0gLSA3MCkudG9TdHJpbmcoKSA6IChhc2NpaU51bSAtIDY0KS50b1N0cmluZygpO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgLy9jaGVzcyB0eXBlc1xuICAgICAgcmV0dXJuIChwaWVjZS5wbGF5ZXJJbmRleCA9PT0gJ3AxJyA/ICd3JyA6ICdiJykgKyBwaWVjZS5yb2xlWzBdLnRvVXBwZXJDYXNlKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIGNnIGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgbWFwVG9QMTogUmVjb3JkPGNnLk9yaWVudGF0aW9uLCBjZy5UcmFuc2Zvcm1Ub1AxPiA9IHtcbiAgcDE6IChwb3M6IGNnLlBvcywgXzogY2cuQm9hcmREaW1lbnNpb25zKSA9PiBwb3MsXG4gIHAyOiAocG9zOiBjZy5Qb3MsIGJ0OiBjZy5Cb2FyZERpbWVuc2lvbnMpID0+IFtidC53aWR0aCArIDEgLSBwb3NbMF0sIGJ0LmhlaWdodCArIDEgLSBwb3NbMV1dLFxuICByaWdodDogKHBvczogY2cuUG9zLCBidDogY2cuQm9hcmREaW1lbnNpb25zKSA9PiBbYnQuaGVpZ2h0ICsgMSAtIHBvc1sxXSwgcG9zWzBdXSxcbiAgbGVmdDogKHBvczogY2cuUG9zLCBidDogY2cuQm9hcmREaW1lbnNpb25zKSA9PiBbcG9zWzFdLCBidC53aWR0aCArIDEgLSBwb3NbMF1dLFxufTtcblxuZXhwb3J0IGNvbnN0IG1hcFRvUDFJbnZlcnNlOiBSZWNvcmQ8Y2cuT3JpZW50YXRpb24sIGNnLlRyYW5zZm9ybVRvUDE+ID0ge1xuICBwMTogKHBvczogY2cuUG9zLCBfOiBjZy5Cb2FyZERpbWVuc2lvbnMpID0+IHBvcyxcbiAgcDI6IChwb3M6IGNnLlBvcywgYnQ6IGNnLkJvYXJkRGltZW5zaW9ucykgPT4gW2J0LndpZHRoICsgMSAtIHBvc1swXSwgYnQuaGVpZ2h0ICsgMSAtIHBvc1sxXV0sXG4gIHJpZ2h0OiAocG9zOiBjZy5Qb3MsIGJ0OiBjZy5Cb2FyZERpbWVuc2lvbnMpID0+IFtwb3NbMV0sIGJ0LndpZHRoICsgMSAtIHBvc1swXV0sXG4gIGxlZnQ6IChwb3M6IGNnLlBvcywgYnQ6IGNnLkJvYXJkRGltZW5zaW9ucykgPT4gW2J0LndpZHRoICsgMSAtIHBvc1swXSwgcG9zWzFdXSxcbn07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVCYXNlOiBSZWNvcmQ8Y2cuT3JpZW50YXRpb24sIGNnLlRyYW5zbGF0ZUJhc2U+ID0ge1xuICBwMTogKHBvczogY2cuUG9zLCB4U2NhbGU6IG51bWJlciwgeVNjYWxlOiBudW1iZXIsIGJ0OiBjZy5Cb2FyZERpbWVuc2lvbnMpID0+IFtcbiAgICAocG9zWzBdIC0gMSkgKiB4U2NhbGUsXG4gICAgKGJ0LmhlaWdodCAtIHBvc1sxXSkgKiB5U2NhbGUsXG4gIF0sXG4gIHAyOiAocG9zOiBjZy5Qb3MsIHhTY2FsZTogbnVtYmVyLCB5U2NhbGU6IG51bWJlciwgYnQ6IGNnLkJvYXJkRGltZW5zaW9ucykgPT4gW1xuICAgIChidC53aWR0aCAtIHBvc1swXSkgKiB4U2NhbGUsXG4gICAgKHBvc1sxXSAtIDEpICogeVNjYWxlLFxuICBdLFxuICByaWdodDogKHBvczogY2cuUG9zLCB4U2NhbGU6IG51bWJlciwgeVNjYWxlOiBudW1iZXIsIF8pID0+IFsocG9zWzFdIC0gMSkgKiB4U2NhbGUsIChwb3NbMF0gLSAxKSAqIHlTY2FsZV0sXG4gIGxlZnQ6IChwb3M6IGNnLlBvcywgeFNjYWxlOiBudW1iZXIsIHlTY2FsZTogbnVtYmVyLCBidDogY2cuQm9hcmREaW1lbnNpb25zKSA9PiBbXG4gICAgKGJ0LndpZHRoIC0gcG9zWzBdKSAqIHhTY2FsZSxcbiAgICAocG9zWzFdIC0gMSkgKiB5U2NhbGUsXG4gIF0sXG59O1xuIiwiZXhwb3J0IHR5cGUgVmFyaWFudCA9XG4gIHwgJ2NoZXNzJ1xuICB8ICdjcmF6eWhvdXNlJ1xuICB8ICdjaGVzczk2MCdcbiAgfCAna2luZ09mVGhlSGlsbCdcbiAgfCAndGhyZWVDaGVjaydcbiAgfCAnYW50aWNoZXNzJ1xuICB8ICdhdG9taWMnXG4gIHwgJ2hvcmRlJ1xuICB8ICdyYWNpbmdLaW5ncydcbiAgfCAnbGluZXNPZkFjdGlvbidcbiAgfCAnbWFrcnVrJ1xuICB8ICdjYW1ib2RpYW4nXG4gIHwgJ3NpdHR1eWluJ1xuICB8ICdwbGFjZW1lbnQnXG4gIHwgJ3Nob2dpJ1xuICB8ICdtaW5pc2hvZ2knXG4gIHwgJ2t5b3Rvc2hvZ2knXG4gIHwgJ2RvYnV0c3UnXG4gIHwgJ2dvcm9nb3JvJ1xuICB8ICd0b3Jpc2hvZ2knXG4gIHwgJ3hpYW5ncWknXG4gIHwgJ21pbml4aWFuZ3FpJ1xuICB8ICdjYXBhYmxhbmNhJ1xuICB8ICdzZWlyYXdhbidcbiAgfCAnY2FwYWhvdXNlJ1xuICB8ICdzaG91c2UnXG4gIHwgJ2dyYW5kJ1xuICB8ICdncmFuZGhvdXNlJ1xuICB8ICdnb3RoaWMnXG4gIHwgJ2dvdGhob3VzZSdcbiAgfCAnc2hha28nXG4gIHwgJ3Nob2d1bidcbiAgfCAnamFuZ2dpJ1xuICB8ICdtYWtwb25nJ1xuICB8ICdvcmRhJ1xuICB8ICdzeW5vY2hlc3MnXG4gIHwgJ21hbmNodSdcbiAgfCAnbXVza2V0ZWVyJ1xuICB8ICdob3BwZWxwb3BwZWwnXG4gIHwgJ3NoaW5vYmknXG4gIHwgJ2VtcGlyZSdcbiAgfCAnb3JkYW1pcnJvcidcbiAgfCAnZmxpcGVsbG8nXG4gIHwgJ293YXJlJ1xuICB8IHVuZGVmaW5lZDtcbmV4cG9ydCB0eXBlIFBsYXllckluZGV4ID0gdHlwZW9mIHBsYXllckluZGV4c1tudW1iZXJdO1xuZXhwb3J0IHR5cGUgTGV0dGVyID0gdHlwZW9mIGxldHRlcnNbbnVtYmVyXTtcbmV4cG9ydCB0eXBlIFJvbGUgPSBgJHtMZXR0ZXJ9LXBpZWNlYCB8IGBwJHtMZXR0ZXJ9LXBpZWNlYDtcbmV4cG9ydCB0eXBlIEZpbGUgPSB0eXBlb2YgZmlsZXNbbnVtYmVyXTtcbmV4cG9ydCB0eXBlIFJhbmsgPSB0eXBlb2YgcmFua3MxMFtudW1iZXJdO1xuZXhwb3J0IHR5cGUgS2V5ID0gJ2EwJyB8IGAke0ZpbGV9JHtSYW5rfWA7XG5leHBvcnQgdHlwZSBGRU4gPSBzdHJpbmc7XG5leHBvcnQgdHlwZSBQb3MgPSBbbnVtYmVyLCBudW1iZXJdO1xuZXhwb3J0IGludGVyZmFjZSBQaWVjZSB7XG4gIHJvbGU6IFJvbGU7XG4gIHBsYXllckluZGV4OiBQbGF5ZXJJbmRleDtcbiAgcHJvbW90ZWQ/OiBib29sZWFuO1xufVxuZXhwb3J0IGludGVyZmFjZSBEcm9wIHtcbiAgcm9sZTogUm9sZTtcbiAga2V5OiBLZXk7XG59XG5leHBvcnQgdHlwZSBQaWVjZXMgPSBNYXA8S2V5LCBQaWVjZT47XG5leHBvcnQgdHlwZSBQaWVjZXNEaWZmID0gTWFwPEtleSwgUGllY2UgfCB1bmRlZmluZWQ+O1xuXG5leHBvcnQgdHlwZSBLZXlQYWlyID0gW0tleSwgS2V5XTtcblxuZXhwb3J0IHR5cGUgTnVtYmVyUGFpciA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCB0eXBlIE51bWJlclF1YWQgPSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcblxuZXhwb3J0IHR5cGUgT3JpZW50YXRpb24gPSB0eXBlb2Ygb3JpZW50YXRpb25zW251bWJlcl07XG5leHBvcnQgdHlwZSBUcmFuc2Zvcm1Ub1AxID0gKF86IFBvcywgYnQ6IEJvYXJkRGltZW5zaW9ucykgPT4gUG9zO1xuZXhwb3J0IHR5cGUgVHJhbnNsYXRlQmFzZSA9IChwb3M6IFBvcywgeEZhY3RvcjogbnVtYmVyLCB5RmFjdG9yOiBudW1iZXIsIGJ0OiBCb2FyZERpbWVuc2lvbnMpID0+IE51bWJlclBhaXI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjdCB7XG4gIGxlZnQ6IG51bWJlcjtcbiAgdG9wOiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBEZXN0cyA9IE1hcDxLZXksIEtleVtdPjtcblxuZXhwb3J0IHR5cGUgRHJvcERlc3RzID0gTWFwPFJvbGUsIEtleVtdPjtcblxuZXhwb3J0IGludGVyZmFjZSBFbGVtZW50cyB7XG4gIGJvYXJkOiBIVE1MRWxlbWVudDtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgZ2hvc3Q/OiBIVE1MRWxlbWVudDtcbiAgc3ZnPzogU1ZHRWxlbWVudDtcbiAgY3VzdG9tU3ZnPzogU1ZHRWxlbWVudDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRG9tIHtcbiAgZWxlbWVudHM6IEVsZW1lbnRzO1xuICBib3VuZHM6IE1lbW88Q2xpZW50UmVjdD47XG4gIHJlZHJhdzogKCkgPT4gdm9pZDtcbiAgcmVkcmF3Tm93OiAoc2tpcFN2Zz86IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHVuYmluZD86IFVuYmluZDtcbiAgZGVzdHJveWVkPzogYm9vbGVhbjtcbiAgcmVsYXRpdmU/OiBib29sZWFuOyAvLyBkb24ndCBjb21wdXRlIGJvdW5kcywgdXNlIHJlbGF0aXZlICUgdG8gcGxhY2UgcGllY2VzXG59XG5leHBvcnQgaW50ZXJmYWNlIEV4cGxvZGluZyB7XG4gIHN0YWdlOiBudW1iZXI7XG4gIGtleXM6IHJlYWRvbmx5IEtleVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vdmVNZXRhZGF0YSB7XG4gIHByZW1vdmU6IGJvb2xlYW47XG4gIGN0cmxLZXk/OiBib29sZWFuO1xuICBob2xkVGltZT86IG51bWJlcjtcbiAgY2FwdHVyZWQ/OiBQaWVjZTtcbiAgcHJlZHJvcD86IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIFNldFByZW1vdmVNZXRhZGF0YSB7XG4gIGN0cmxLZXk/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBXaW5kb3dFdmVudCA9ICdvbnNjcm9sbCcgfCAnb25yZXNpemUnO1xuXG5leHBvcnQgdHlwZSBNb3VjaEV2ZW50ID0gRXZlbnQgJiBQYXJ0aWFsPE1vdXNlRXZlbnQgJiBUb3VjaEV2ZW50PjtcblxuZXhwb3J0IGludGVyZmFjZSBLZXllZE5vZGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNnS2V5OiBLZXk7XG59XG5leHBvcnQgaW50ZXJmYWNlIFBpZWNlTm9kZSBleHRlbmRzIEtleWVkTm9kZSB7XG4gIHRhZ05hbWU6ICdQSUVDRSc7XG4gIGNnUGllY2U6IHN0cmluZztcbiAgY2dBbmltYXRpbmc/OiBib29sZWFuO1xuICBjZ0ZhZGluZz86IGJvb2xlYW47XG4gIGNnRHJhZ2dpbmc/OiBib29sZWFuO1xufVxuZXhwb3J0IGludGVyZmFjZSBTcXVhcmVOb2RlIGV4dGVuZHMgS2V5ZWROb2RlIHtcbiAgdGFnTmFtZTogJ1NRVUFSRSc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtbzxBPiB7XG4gICgpOiBBO1xuICBjbGVhcjogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUaW1lciB7XG4gIHN0YXJ0OiAoKSA9PiB2b2lkO1xuICBjYW5jZWw6ICgpID0+IHZvaWQ7XG4gIHN0b3A6ICgpID0+IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgUmVkcmF3ID0gKCkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIFVuYmluZCA9ICgpID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBNaWxsaXNlY29uZHMgPSBudW1iZXI7XG5leHBvcnQgdHlwZSBLSHogPSBudW1iZXI7XG5cbmV4cG9ydCBjb25zdCBvcmllbnRhdGlvbnMgPSBbJ3AxJywgJ3AyJywgJ2xlZnQnLCAncmlnaHQnXSBhcyBjb25zdDsgLy8gd2hlcmUgdGhlIHBsYXllciBpcyBzYXQgb24gdGhlIGJvYXJkIHdpdGggcDEgYXQgdGhlIGJvdHRvbVxuZXhwb3J0IGNvbnN0IHBsYXllckluZGV4cyA9IFsncDEnLCAncDInXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBmaWxlcyA9IFsnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnLCAnZycsICdoJywgJ2knLCAnaiddIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IHJhbmtzID0gWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICc6J10gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgcmFua3MxMCA9IFsnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnMTAnXSBhcyBjb25zdDtcbmV4cG9ydCBjb25zdCBsZXR0ZXJzID0gW1xuICAnYScsXG4gICdiJyxcbiAgJ2MnLFxuICAnZCcsXG4gICdlJyxcbiAgJ2YnLFxuICAnZycsXG4gICdoJyxcbiAgJ2knLFxuICAnaicsXG4gICdrJyxcbiAgJ2wnLFxuICAnbScsXG4gICduJyxcbiAgJ28nLFxuICAncCcsXG4gICdxJyxcbiAgJ3InLFxuICAncycsXG4gICd0JyxcbiAgJ3UnLFxuICAndicsXG4gICd3JyxcbiAgJ3gnLFxuICAneScsXG4gICd6JyxcbiAgJ0EnLFxuICAnQicsXG4gICdDJyxcbiAgJ0QnLFxuICAnRScsXG4gICdGJyxcbiAgJ0cnLFxuICAnSCcsXG4gICdJJyxcbiAgJ0onLFxuICAnSycsXG4gICdMJyxcbiAgJ00nLFxuICAnTicsXG4gICdPJyxcbiAgJ1AnLFxuICAnUScsXG4gICdSJyxcbiAgJ1MnLFxuICAnVCcsXG4gICdVJyxcbiAgJ1YnLFxuICAnVycsXG4gICdYJyxcbiAgJ1knLFxuICAnWicsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJvYXJkRGltZW5zaW9ucyB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBOb3RhdGlvbiB7XG4gIERFRkFVTFQsXG4gIFNBTixcbiAgTEFOLFxuICBTSE9HSV9IT1NLSU5HLFxuICBTSE9HSV9IT0RHRVMsXG4gIFNIT0dJX0hPREdFU19OVU1CRVIsXG4gIEpBTkdHSSxcbiAgWElBTkdRSV9XWEYsXG59XG5cbmV4cG9ydCBjb25zdCBzaG9naVZhcmlhbnRzOiBWYXJpYW50W10gPSBbJ3Nob2dpJywgJ21pbmlzaG9naScsICdreW90b3Nob2dpJywgJ2RvYnV0c3UnLCAnZ29yb2dvcm8nLCAndG9yaXNob2dpJ107XG5leHBvcnQgY29uc3QgeGlhbmdxaVZhcmlhbnRzOiBWYXJpYW50W10gPSBbJ3hpYW5ncWknLCAnbWluaXhpYW5ncWknLCAnbWFuY2h1JywgJ2phbmdnaSddO1xuIiwiaW1wb3J0ICogYXMgY2cgZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgKiBhcyBUIGZyb20gJy4vdHJhbnNmb3JtYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IHBsYXllckluZGV4czogY2cuUGxheWVySW5kZXhbXSA9IFsncDEnLCAncDInXTtcbmV4cG9ydCBjb25zdCBpbnZSYW5rczogcmVhZG9ubHkgY2cuUmFua1tdID0gWy4uLmNnLnJhbmtzMTBdLnJldmVyc2UoKTtcbmV4cG9ydCBjb25zdCBOUmFua3M6IG51bWJlcltdID0gWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwXTtcbmV4cG9ydCBjb25zdCBpbnZOUmFua3M6IG51bWJlcltdID0gWzEwLCA5LCA4LCA3LCA2LCA1LCA0LCAzLCAyLCAxXTtcblxuZnVuY3Rpb24gZmlsZXMobjogbnVtYmVyKSB7XG4gIHJldHVybiBjZy5maWxlcy5zbGljZSgwLCBuKTtcbn1cblxuZnVuY3Rpb24gcmFua3MobjogbnVtYmVyKSB7XG4gIHJldHVybiBjZy5yYW5rczEwLnNsaWNlKDAsIG4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxsS2V5cyhiZDogY2cuQm9hcmREaW1lbnNpb25zID0geyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0pIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQoLi4uZmlsZXMoYmQud2lkdGgpLm1hcChjID0+IHJhbmtzKGJkLmhlaWdodCkubWFwKHIgPT4gYyArIHIpKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3Mya2V5KHBvczogY2cuUG9zKTogY2cuS2V5IHtcbiAgcmV0dXJuIChjZy5maWxlc1twb3NbMF0gLSAxXSArIGNnLnJhbmtzMTBbcG9zWzFdIC0gMV0pIGFzIGNnLktleTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleTJwb3MoazogY2cuS2V5KTogY2cuUG9zIHtcbiAgcmV0dXJuIFtrLmNoYXJDb2RlQXQoMCkgLSA5NiwgcGFyc2VJbnQoay5zbGljZSgxKSldIGFzIGNnLlBvcztcbn1cblxuZXhwb3J0IGNvbnN0IGFsbFBvcyA9IChiZDogY2cuQm9hcmREaW1lbnNpb25zKTogY2cuUG9zW10gPT4gYWxsS2V5cyhiZCkubWFwKGtleTJwb3MpO1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtbzxBPihmOiAoKSA9PiBBKTogY2cuTWVtbzxBPiB7XG4gIGxldCB2OiBBIHwgdW5kZWZpbmVkO1xuICBjb25zdCByZXQgPSAoKTogQSA9PiB7XG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgdiA9IGYoKTtcbiAgICByZXR1cm4gdjtcbiAgfTtcbiAgcmV0LmNsZWFyID0gKCkgPT4ge1xuICAgIHYgPSB1bmRlZmluZWQ7XG4gIH07XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBjb25zdCB0aW1lciA9ICgpOiBjZy5UaW1lciA9PiB7XG4gIGxldCBzdGFydEF0OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHJldHVybiB7XG4gICAgc3RhcnQoKSB7XG4gICAgICBzdGFydEF0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfSxcbiAgICBjYW5jZWwoKSB7XG4gICAgICBzdGFydEF0ID0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgc3RvcCgpIHtcbiAgICAgIGlmICghc3RhcnRBdCkgcmV0dXJuIDA7XG4gICAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydEF0O1xuICAgICAgc3RhcnRBdCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB0aW1lO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgb3Bwb3NpdGUgPSAoYzogY2cuUGxheWVySW5kZXgpOiBjZy5QbGF5ZXJJbmRleCA9PiAoYyA9PT0gJ3AxJyA/ICdwMicgOiAncDEnKTtcblxuY29uc3QgZmxpcE9yaWVudGF0aW9uTG9va3VwOiBSZWNvcmQ8Y2cuT3JpZW50YXRpb24sIGNnLk9yaWVudGF0aW9uPiA9IHtcbiAgcDE6ICdwMicsXG4gIHAyOiAncDEnLFxuICBsZWZ0OiAncmlnaHQnLFxuICByaWdodDogJ2xlZnQnLFxufTtcbmV4cG9ydCBjb25zdCBvcHBvc2l0ZU9yaWVudGF0aW9uID0gKGM6IGNnLk9yaWVudGF0aW9uKTogY2cuT3JpZW50YXRpb24gPT4gZmxpcE9yaWVudGF0aW9uTG9va3VwW2NdO1xuY29uc3QgZmxpcE9yaWVudGF0aW9uTG9va3VwRm9yTE9BOiBSZWNvcmQ8Y2cuUGxheWVySW5kZXgsIGNnLk9yaWVudGF0aW9uPiA9IHtcbiAgcDE6ICdyaWdodCcsXG4gIHAyOiAncDEnLFxufTtcbmV4cG9ydCBjb25zdCBvcHBvc2l0ZU9yaWVudGF0aW9uRm9yTE9BID0gKGM6IGNnLlBsYXllckluZGV4KTogY2cuT3JpZW50YXRpb24gPT4gZmxpcE9yaWVudGF0aW9uTG9va3VwRm9yTE9BW2NdO1xuY29uc3Qgb3JpZW50YXRpb25Mb29rdXBGb3JMT0E6IFJlY29yZDxjZy5QbGF5ZXJJbmRleCwgY2cuT3JpZW50YXRpb24+ID0ge1xuICBwMTogJ3AxJyxcbiAgcDI6ICdyaWdodCcsXG59O1xuZXhwb3J0IGNvbnN0IG9yaWVudGF0aW9uRm9yTE9BID0gKGM6IGNnLlBsYXllckluZGV4KTogY2cuT3JpZW50YXRpb24gPT4gb3JpZW50YXRpb25Mb29rdXBGb3JMT0FbY107XG5leHBvcnQgY29uc3QgaXNQbGF5ZXJJbmRleCA9IChjOiBjZy5PcmllbnRhdGlvbik6IGMgaXMgY2cuUGxheWVySW5kZXggPT4gYyA9PT0gJ3AxJyB8fCBjID09PSAncDInO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNYPFg+KHhzOiBYW10gfCB1bmRlZmluZWQsIHg6IFgpOiBib29sZWFuIHtcbiAgcmV0dXJuIHhzICE9PSB1bmRlZmluZWQgJiYgeHMuaW5kZXhPZih4KSAhPT0gLTE7XG59XG5cbmV4cG9ydCBjb25zdCBkaXN0YW5jZVNxID0gKHBvczE6IGNnLlBvcywgcG9zMjogY2cuUG9zKTogbnVtYmVyID0+IHtcbiAgY29uc3QgZHggPSBwb3MxWzBdIC0gcG9zMlswXSxcbiAgICBkeSA9IHBvczFbMV0gLSBwb3MyWzFdO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2FtZVBpZWNlID0gKHBsYXllcjE6IGNnLlBpZWNlLCBwbGF5ZXIyOiBjZy5QaWVjZSk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gcGxheWVyMS5yb2xlID09PSBwbGF5ZXIyLnJvbGUgJiYgcGxheWVyMS5wbGF5ZXJJbmRleCA9PT0gcGxheWVyMi5wbGF5ZXJJbmRleDtcbn07XG5cbmNvbnN0IHBvc1RvVHJhbnNsYXRlQmFzZSA9IChcbiAgcG9zOiBjZy5Qb3MsXG4gIG9yaWVudGF0aW9uOiBjZy5PcmllbnRhdGlvbixcbiAgeEZhY3RvcjogbnVtYmVyLFxuICB5RmFjdG9yOiBudW1iZXIsXG4gIGJ0OiBjZy5Cb2FyZERpbWVuc2lvbnNcbik6IGNnLk51bWJlclBhaXIgPT4ge1xuICByZXR1cm4gVC50cmFuc2xhdGVCYXNlW29yaWVudGF0aW9uXShwb3MsIHhGYWN0b3IsIHlGYWN0b3IsIGJ0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwb3NUb1RyYW5zbGF0ZUFicyA9IChcbiAgYm91bmRzOiBDbGllbnRSZWN0LFxuICBidDogY2cuQm9hcmREaW1lbnNpb25zXG4pOiAoKHBvczogY2cuUG9zLCBvcmllbnRhdGlvbjogY2cuT3JpZW50YXRpb24pID0+IGNnLk51bWJlclBhaXIpID0+IHtcbiAgY29uc3QgeEZhY3RvciA9IGJvdW5kcy53aWR0aCAvIGJ0LndpZHRoLFxuICAgIHlGYWN0b3IgPSBib3VuZHMuaGVpZ2h0IC8gYnQuaGVpZ2h0O1xuICByZXR1cm4gKHBvcywgb3JpZW50YXRpb24pID0+IHBvc1RvVHJhbnNsYXRlQmFzZShwb3MsIG9yaWVudGF0aW9uLCB4RmFjdG9yLCB5RmFjdG9yLCBidCk7XG59O1xuXG5leHBvcnQgY29uc3QgcG9zVG9UcmFuc2xhdGVSZWwgPSAocG9zOiBjZy5Qb3MsIG9yaWVudGF0aW9uOiBjZy5PcmllbnRhdGlvbiwgYnQ6IGNnLkJvYXJkRGltZW5zaW9ucyk6IGNnLk51bWJlclBhaXIgPT5cbiAgcG9zVG9UcmFuc2xhdGVCYXNlKHBvcywgb3JpZW50YXRpb24sIDEwMCwgMTAwLCBidCk7XG5cbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVBYnMgPSAoZWw6IEhUTUxFbGVtZW50LCBwb3M6IGNnLk51bWJlclBhaXIpOiB2b2lkID0+IHtcbiAgZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3Bvc1swXX1weCwke3Bvc1sxXX1weClgO1xufTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zbGF0ZVJlbCA9IChlbDogSFRNTEVsZW1lbnQsIHBlcmNlbnRzOiBjZy5OdW1iZXJQYWlyKTogdm9pZCA9PiB7XG4gIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwZXJjZW50c1swXX0lLCR7cGVyY2VudHNbMV19JSlgO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFZpc2libGUgPSAoZWw6IEhUTUxFbGVtZW50LCB2OiBib29sZWFuKTogdm9pZCA9PiB7XG4gIGVsLnN0eWxlLnZpc2liaWxpdHkgPSB2ID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7XG59O1xuXG5leHBvcnQgY29uc3QgZXZlbnRQb3NpdGlvbiA9IChlOiBjZy5Nb3VjaEV2ZW50KTogY2cuTnVtYmVyUGFpciB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChlLmNsaWVudFggfHwgZS5jbGllbnRYID09PSAwKSByZXR1cm4gW2UuY2xpZW50WCwgZS5jbGllbnRZIV07XG4gIGlmIChlLnRhcmdldFRvdWNoZXM/LlswXSkgcmV0dXJuIFtlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WCwgZS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFldO1xuICByZXR1cm47IC8vIHRvdWNoZW5kIGhhcyBubyBwb3NpdGlvbiFcbn07XG5cbmV4cG9ydCBjb25zdCBpc1JpZ2h0QnV0dG9uID0gKGU6IGNnLk1vdWNoRXZlbnQpOiBib29sZWFuID0+IGUuYnV0dG9ucyA9PT0gMiB8fCBlLmJ1dHRvbiA9PT0gMjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVsID0gKHRhZ05hbWU6IHN0cmluZywgY2xhc3NOYW1lPzogc3RyaW5nKTogSFRNTEVsZW1lbnQgPT4ge1xuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gIGlmIChjbGFzc05hbWUpIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgcmV0dXJuIGVsO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTcXVhcmVDZW50ZXIoXG4gIGtleTogY2cuS2V5LFxuICBvcmllbnRhdGlvbjogY2cuT3JpZW50YXRpb24sXG4gIGJvdW5kczogQ2xpZW50UmVjdCxcbiAgYmQ6IGNnLkJvYXJkRGltZW5zaW9uc1xuKTogY2cuTnVtYmVyUGFpciB7XG4gIGNvbnN0IHBvcyA9IFQubWFwVG9QMUludmVyc2Vbb3JpZW50YXRpb25dKGtleTJwb3Moa2V5KSwgYmQpO1xuICByZXR1cm4gW1xuICAgIGJvdW5kcy5sZWZ0ICsgKGJvdW5kcy53aWR0aCAqIChwb3NbMF0gLSAxICsgMC41KSkgLyBiZC53aWR0aCxcbiAgICBib3VuZHMudG9wICsgKGJvdW5kcy5oZWlnaHQgKiAoYmQuaGVpZ2h0IC0gKHBvc1sxXSAtIDEgKyAwLjUpKSkgLyBiZC5oZWlnaHQsXG4gIF07XG59XG5cbmV4cG9ydCB0eXBlIENhbGxiYWNrID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG5leHBvcnQgZnVuY3Rpb24gY2FsbFVzZXJGdW5jdGlvbihmOiBDYWxsYmFjayB8IHVuZGVmaW5lZCwgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgaWYgKGYpIHNldFRpbWVvdXQoKCkgPT4gZiguLi5hcmdzKSwgMSk7XG59XG4iLCJpbXBvcnQgeyBIZWFkbGVzc1N0YXRlIH0gZnJvbSAnLi9zdGF0ZSc7XG5pbXBvcnQgeyBzZXRWaXNpYmxlLCBjcmVhdGVFbCB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBvcmllbnRhdGlvbnMsIGZpbGVzLCByYW5rcywgcmFua3MxMCwgc2hvZ2lWYXJpYW50cywgeGlhbmdxaVZhcmlhbnRzLCBFbGVtZW50cywgTm90YXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgYXMgY3JlYXRlU1ZHLCBzZXRBdHRyaWJ1dGVzIH0gZnJvbSAnLi9zdmcnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyV3JhcChlbGVtZW50OiBIVE1MRWxlbWVudCwgczogSGVhZGxlc3NTdGF0ZSwgcmVsYXRpdmU6IGJvb2xlYW4pOiBFbGVtZW50cyB7XG4gIC8vIC5jZy13cmFwIChlbGVtZW50IHBhc3NlZCB0byBDaGVzc2dyb3VuZClcbiAgLy8gICBjZy1oZWxwZXIgKDEyLjUlLCBkaXNwbGF5OiB0YWJsZSlcbiAgLy8gICAgIGNnLWNvbnRhaW5lciAoODAwJSlcbiAgLy8gICAgICAgY2ctYm9hcmRcbiAgLy8gICAgICAgc3ZnLmNnLXNoYXBlc1xuICAvLyAgICAgICAgIGRlZnNcbiAgLy8gICAgICAgICBnXG4gIC8vICAgICAgIHN2Zy5jZy1jdXN0b20tc3Znc1xuICAvLyAgICAgICAgIGdcbiAgLy8gICAgICAgY29vcmRzLnJhbmtzXG4gIC8vICAgICAgIGNvb3Jkcy5maWxlc1xuICAvLyAgICAgICBwaWVjZS5naG9zdFxuXG4gIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgLy8gZW5zdXJlIHRoZSBjZy13cmFwIGNsYXNzIGlzIHNldFxuICAvLyBzbyBib3VuZHMgY2FsY3VsYXRpb24gY2FuIHVzZSB0aGUgQ1NTIHdpZHRoL2hlaWdodCB2YWx1ZXNcbiAgLy8gYWRkIHRoYXQgY2xhc3MgeW91cnNlbGYgdG8gdGhlIGVsZW1lbnQgYmVmb3JlIGNhbGxpbmcgY2hlc3Nncm91bmRcbiAgLy8gZm9yIGEgc2xpZ2h0IHBlcmZvcm1hbmNlIGltcHJvdmVtZW50ISAoYXZvaWRzIHJlY29tcHV0aW5nIHN0eWxlKVxuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NnLXdyYXAnKTtcblxuICBmb3IgKGNvbnN0IGMgb2Ygb3JpZW50YXRpb25zKSBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ29yaWVudGF0aW9uLScgKyBjLCBzLm9yaWVudGF0aW9uID09PSBjKTtcbiAgZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdtYW5pcHVsYWJsZScsICFzLnZpZXdPbmx5KTtcblxuICBjb25zdCBoZWxwZXIgPSBjcmVhdGVFbCgnY2ctaGVscGVyJyk7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVscGVyKTtcbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRWwoJ2NnLWNvbnRhaW5lcicpO1xuICBoZWxwZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICBjb25zdCBleHRlbnNpb24gPSBjcmVhdGVFbCgnZXh0ZW5zaW9uJyk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChleHRlbnNpb24pO1xuICBjb25zdCBib2FyZCA9IGNyZWF0ZUVsKCdjZy1ib2FyZCcpO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYm9hcmQpO1xuXG4gIGxldCBzdmc6IFNWR0VsZW1lbnQgfCB1bmRlZmluZWQ7XG4gIGxldCBjdXN0b21Tdmc6IFNWR0VsZW1lbnQgfCB1bmRlZmluZWQ7XG4gIGlmIChzLmRyYXdhYmxlLnZpc2libGUgJiYgIXJlbGF0aXZlKSB7XG4gICAgc3ZnID0gc2V0QXR0cmlidXRlcyhjcmVhdGVTVkcoJ3N2ZycpLCB7IGNsYXNzOiAnY2ctc2hhcGVzJyB9KTtcbiAgICBzdmcuYXBwZW5kQ2hpbGQoY3JlYXRlU1ZHKCdkZWZzJykpO1xuICAgIHN2Zy5hcHBlbmRDaGlsZChjcmVhdGVTVkcoJ2cnKSk7XG4gICAgY3VzdG9tU3ZnID0gc2V0QXR0cmlidXRlcyhjcmVhdGVTVkcoJ3N2ZycpLCB7IGNsYXNzOiAnY2ctY3VzdG9tLXN2Z3MnIH0pO1xuICAgIGN1c3RvbVN2Zy5hcHBlbmRDaGlsZChjcmVhdGVTVkcoJ2cnKSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHN2Zyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGN1c3RvbVN2Zyk7XG4gIH1cblxuICBpZiAocy5jb29yZGluYXRlcykge1xuICAgIGNvbnN0IG9yaWVudENsYXNzID0gJyAnICsgcy5vcmllbnRhdGlvbjtcbiAgICBjb25zdCBzaG9naSA9IHNob2dpVmFyaWFudHMuaW5jbHVkZXMocy52YXJpYW50KTtcbiAgICBjb25zdCB4aWFuZ3FpID0geGlhbmdxaVZhcmlhbnRzLmluY2x1ZGVzKHMudmFyaWFudCk7XG4gICAgaWYgKHNob2dpKSB7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKHJhbmtzLnNsaWNlKDAsIHMuZGltZW5zaW9ucy5oZWlnaHQpLnJldmVyc2UoKSwgJ2ZpbGVzJyArIG9yaWVudENsYXNzKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKHJhbmtzLnNsaWNlKDAsIHMuZGltZW5zaW9ucy53aWR0aCkucmV2ZXJzZSgpLCAncmFua3MnICsgb3JpZW50Q2xhc3MpKTtcbiAgICB9IGVsc2UgaWYgKHMubm90YXRpb24gPT09IE5vdGF0aW9uLkpBTkdHSSkge1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvb3JkcyhbJzAnXS5jb25jYXQocmFua3Muc2xpY2UoMCwgOSkucmV2ZXJzZSgpKSwgJ3JhbmtzJyArIG9yaWVudENsYXNzKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKHJhbmtzLnNsaWNlKDAsIDkpLCAnZmlsZXMnICsgb3JpZW50Q2xhc3MpKTtcbiAgICB9IGVsc2UgaWYgKHhpYW5ncWkpIHtcbiAgICAgIGlmIChzLm9yaWVudGF0aW9uID09PSAncDEnKSB7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJDb29yZHMocmFua3MxMC5zbGljZSgwLCBzLmRpbWVuc2lvbnMud2lkdGgpLnJldmVyc2UoKSwgJ2ZpbGVzJyArICcgcDEnKSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJDb29yZHMocmFua3MxMC5zbGljZSgwLCBzLmRpbWVuc2lvbnMud2lkdGgpLnJldmVyc2UoKSwgJ2ZpbGVzJyArICcgcDInKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKHJhbmtzMTAuc2xpY2UoMCwgcy5kaW1lbnNpb25zLndpZHRoKSwgJ2ZpbGVzJyArICcgcDEnKSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJDb29yZHMocmFua3MxMC5zbGljZSgwLCBzLmRpbWVuc2lvbnMud2lkdGgpLCAnZmlsZXMnICsgJyBwMicpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHMudmFyaWFudCA9PT0gJ2ZsaXBlbGxvJykge1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvb3JkcyhyYW5rczEwLnNsaWNlKDAsIHMuZGltZW5zaW9ucy5oZWlnaHQpLnJldmVyc2UoKSwgJ3JhbmtzJyArIG9yaWVudENsYXNzKSk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKGZpbGVzLnNsaWNlKDAsIHMuZGltZW5zaW9ucy53aWR0aCksICdmaWxlcycgKyBvcmllbnRDbGFzcykpO1xuICAgIH0gZWxzZSBpZiAocy52YXJpYW50ID09PSAnb3dhcmUnKSB7XG4gICAgICBpZiAocy5vcmllbnRhdGlvbiA9PT0gJ3AxJykge1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgcmVuZGVyQ29vcmRzKFxuICAgICAgICAgICAgZmlsZXMuc2xpY2UoMCwgcy5kaW1lbnNpb25zLndpZHRoKS5tYXAoeCA9PiB4LnRvVXBwZXJDYXNlKCkpLFxuICAgICAgICAgICAgJ2ZpbGVzJyArICcgcDEnXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKGZpbGVzLnNsaWNlKDAsIHMuZGltZW5zaW9ucy53aWR0aCksICdmaWxlcycgKyAnIHAyJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKFxuICAgICAgICAgIHJlbmRlckNvb3JkcyhcbiAgICAgICAgICAgIGZpbGVzXG4gICAgICAgICAgICAgIC5zbGljZSgwLCBzLmRpbWVuc2lvbnMud2lkdGgpXG4gICAgICAgICAgICAgIC5tYXAoeCA9PiB4LnRvVXBwZXJDYXNlKCkpXG4gICAgICAgICAgICAgIC5yZXZlcnNlKCksXG4gICAgICAgICAgICAnZmlsZXMnICsgJyBwMSdcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJDb29yZHMoZmlsZXMuc2xpY2UoMCwgcy5kaW1lbnNpb25zLndpZHRoKS5yZXZlcnNlKCksICdmaWxlcycgKyAnIHAyJykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29vcmRzKHJhbmtzMTAuc2xpY2UoMCwgcy5kaW1lbnNpb25zLmhlaWdodCksICdyYW5rcycgKyBvcmllbnRDbGFzcykpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvb3JkcyhmaWxlcy5zbGljZSgwLCBzLmRpbWVuc2lvbnMud2lkdGgpLCAnZmlsZXMnICsgb3JpZW50Q2xhc3MpKTtcbiAgICB9XG4gIH1cblxuICBsZXQgZ2hvc3Q6IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkO1xuICBpZiAocy5kcmFnZ2FibGUuc2hvd0dob3N0ICYmICFyZWxhdGl2ZSkge1xuICAgIGdob3N0ID0gY3JlYXRlRWwoJ3BpZWNlJywgJ2dob3N0Jyk7XG4gICAgc2V0VmlzaWJsZShnaG9zdCwgZmFsc2UpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChnaG9zdCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJvYXJkLFxuICAgIGNvbnRhaW5lcixcbiAgICBnaG9zdCxcbiAgICBzdmcsXG4gICAgY3VzdG9tU3ZnLFxuICB9O1xufVxuXG5mdW5jdGlvbiByZW5kZXJDb29yZHMoZWxlbXM6IHJlYWRvbmx5IHN0cmluZ1tdLCBjbGFzc05hbWU6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgY29uc3QgZWwgPSBjcmVhdGVFbCgnY29vcmRzJywgY2xhc3NOYW1lKTtcbiAgbGV0IGY6IEhUTUxFbGVtZW50O1xuICBmb3IgKGNvbnN0IGVsZW0gb2YgZWxlbXMpIHtcbiAgICBmID0gY3JlYXRlRWwoJ2Nvb3JkJyk7XG4gICAgZi50ZXh0Q29udGVudCA9IGVsZW07XG4gICAgZWwuYXBwZW5kQ2hpbGQoZik7XG4gIH1cbiAgcmV0dXJuIGVsO1xufVxuIl19
